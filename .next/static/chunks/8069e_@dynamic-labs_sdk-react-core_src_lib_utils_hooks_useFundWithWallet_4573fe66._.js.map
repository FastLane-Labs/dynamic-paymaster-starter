{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useFundWithWallet/useChooseLinkedWallet/useChooseLinkedWallet.js"],"sourcesContent":["'use client'\nimport { useMemo, useRef, useCallback } from 'react';\nimport { DeferredPromise } from '@dynamic-labs/utils';\nimport '../../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../../constants/colors.js';\nimport '../../../constants/values.js';\nimport '../../../../shared/consts/index.js';\nimport { useInternalDynamicEvents } from '../../events/useDynamicEvents/useDynamicEvents.js';\nimport '../../../../../../_virtual/_tslib.js';\nimport '../../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../../store/state/nonce/nonce.js';\nimport '../../../../store/state/projectSettings/projectSettings.js';\nimport '../../../../config/ApiEndpoint.js';\nimport '../../../../store/state/user/user.js';\nimport '../../../../locale/locale.js';\nimport '../../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../../context/AccountExistsContext/AccountExistsContext.js';\nimport { useUserWallets } from '../../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../../events/dynamicEvents.js';\nimport '../../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../../functions/compareChains/compareChains.js';\nimport '../../../../context/ThemeContext/ThemeContext.js';\nimport '../../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../../context/LoadingContext/LoadingContext.js';\nimport '../../../../context/WalletContext/WalletContext.js';\nimport '../../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../../context/MockContext/MockContext.js';\nimport '../../../../views/CollectUserDataView/useFields.js';\nimport '../../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../../store/state/loadingAndLifecycle.js';\nimport '../../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../../components/Alert/Alert.js';\nimport '../../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../../components/IconButton/IconButton.js';\nimport '../../../../components/InlineWidget/InlineWidget.js';\nimport '../../../../components/Input/Input.js';\nimport '../../../../components/IsBrowser/IsBrowser.js';\nimport '../../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../../components/OverlayCard/OverlayCard.js';\nimport '../../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../../components/Popper/Popper/Popper.js';\nimport '../../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport { useWidgetContext } from '../../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../../context/FooterAnimationContext/index.js';\nimport '../../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../../store/state/sendBalances.js';\nimport '../../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../../context/OnrampContext/OnrampContext.js';\nimport { resolvePromiseRef } from '../../../functions/resolvePromiseRef/resolvePromiseRef.js';\nimport '../../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../../index.js';\nimport '../../../../store/state/tokenBalances.js';\nimport '../../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useChooseLinkedWallet = () => {\n    const { setDynamicWidgetView } = useWidgetContext();\n    const { setShowDynamicUserProfile } = useInternalDynamicContext();\n    const userWallets = useUserWallets();\n    const { primaryWallet } = useInternalDynamicContext();\n    const filteredWallets = useMemo(() => userWallets.filter((wallet) => wallet.id !== (primaryWallet === null || primaryWallet === void 0 ? void 0 : primaryWallet.id) &&\n        wallet.chain === (primaryWallet === null || primaryWallet === void 0 ? void 0 : primaryWallet.chain)), [userWallets, primaryWallet === null || primaryWallet === void 0 ? void 0 : primaryWallet.chain, primaryWallet === null || primaryWallet === void 0 ? void 0 : primaryWallet.id]);\n    const choosePromiseRef = useRef();\n    const chooseLinkedWallet = useCallback(({ showBackButton } = { showBackButton: true }) => {\n        choosePromiseRef.current = new DeferredPromise();\n        setDynamicWidgetView('choose-linked-wallet', {\n            onSelectWallet: (wallet) => resolvePromiseRef(choosePromiseRef, wallet),\n            showBackButton,\n            wallets: filteredWallets,\n        });\n        setShowDynamicUserProfile(true);\n        return choosePromiseRef.current.promise;\n    }, [filteredWallets, setDynamicWidgetView, setShowDynamicUserProfile]);\n    useInternalDynamicEvents('userProfileClose', () => resolvePromiseRef(choosePromiseRef, undefined));\n    return {\n        chooseLinkedWallet,\n        filteredWallets,\n    };\n};\n\nexport { useChooseLinkedWallet };\n"],"names":[],"mappings":";;;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA,MAAM,wBAAwB;IAC1B,MAAM,EAAE,oBAAoB,EAAE,GAAG,CAAA,GAAA,yOAAA,CAAA,mBAAgB,AAAD;IAChD,MAAM,EAAE,yBAAyB,EAAE,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IAC9D,MAAM,cAAc,CAAA,GAAA,iOAAA,CAAA,iBAAc,AAAD;IACjC,MAAM,EAAE,aAAa,EAAE,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IAClD,MAAM,kBAAkB,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;0DAAE,IAAM,YAAY,MAAM;kEAAC,CAAC,SAAW,OAAO,EAAE,KAAK,CAAC,kBAAkB,QAAQ,kBAAkB,KAAK,IAAI,KAAK,IAAI,cAAc,EAAE,KAC9J,OAAO,KAAK,KAAK,CAAC,kBAAkB,QAAQ,kBAAkB,KAAK,IAAI,KAAK,IAAI,cAAc,KAAK;;yDAAI;QAAC;QAAa,kBAAkB,QAAQ,kBAAkB,KAAK,IAAI,KAAK,IAAI,cAAc,KAAK;QAAE,kBAAkB,QAAQ,kBAAkB,KAAK,IAAI,KAAK,IAAI,cAAc,EAAE;KAAC;IAC3R,MAAM,mBAAmB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD;IAC9B,MAAM,qBAAqB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;iEAAE,CAAC,EAAE,cAAc,EAAE,GAAG;YAAE,gBAAgB;QAAK,CAAC;YACjF,iBAAiB,OAAO,GAAG,IAAI,0LAAA,CAAA,kBAAe;YAC9C,qBAAqB,wBAAwB;gBACzC,cAAc;6EAAE,CAAC,SAAW,CAAA,GAAA,0OAAA,CAAA,oBAAiB,AAAD,EAAE,kBAAkB;;gBAChE;gBACA,SAAS;YACb;YACA,0BAA0B;YAC1B,OAAO,iBAAiB,OAAO,CAAC,OAAO;QAC3C;gEAAG;QAAC;QAAiB;QAAsB;KAA0B;IACrE,CAAA,GAAA,8OAAA,CAAA,2BAAwB,AAAD,EAAE;0DAAoB,IAAM,CAAA,GAAA,0OAAA,CAAA,oBAAiB,AAAD,EAAE,kBAAkB;;IACvF,OAAO;QACH;QACA;IACJ;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 247, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useFundWithWallet/utils/FilterWalletsForExternalFunding.js"],"sourcesContent":["'use client'\nimport { isMobile } from '@dynamic-labs/utils';\n\nconst SPECIFIC_WALLETS_WITHOUT_REDIRECTS = [\n    'coinbase',\n    'phantomevm',\n    'magiceden',\n];\nconst FilterWalletsForExternalFunding = (wallets) => {\n    if (!isMobile()) {\n        return wallets;\n    }\n    return wallets.filter((wallet) => {\n        if (SPECIFIC_WALLETS_WITHOUT_REDIRECTS.includes(wallet.key)) {\n            return false;\n        }\n        const mobileCondition = wallet.walletConnector.isWalletConnect ||\n            wallet.walletConnector.mobileExperience !== 'in-app-browser';\n        return mobileCondition;\n    });\n};\n\nexport { FilterWalletsForExternalFunding };\n"],"names":[],"mappings":";;;AACA;AAAA;AADA;;AAGA,MAAM,qCAAqC;IACvC;IACA;IACA;CACH;AACD,MAAM,kCAAkC,CAAC;IACrC,IAAI,CAAC,CAAA,GAAA,4KAAA,CAAA,WAAQ,AAAD,KAAK;QACb,OAAO;IACX;IACA,OAAO,QAAQ,MAAM,CAAC,CAAC;QACnB,IAAI,mCAAmC,QAAQ,CAAC,OAAO,GAAG,GAAG;YACzD,OAAO;QACX;QACA,MAAM,kBAAkB,OAAO,eAAe,CAAC,eAAe,IAC1D,OAAO,eAAe,CAAC,gBAAgB,KAAK;QAChD,OAAO;IACX;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 278, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useFundWithWallet/useConnectWalletForFunding/useConnectWalletForFunding.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../../_virtual/_tslib.js';\nimport { useRef, useCallback } from 'react';\nimport { StorageService, PHANTOM_REDIRECT_CONNECTION_TYPE_KEY, DynamicError, DeferredPromise, pipe } from '@dynamic-labs/utils';\nimport '../../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport { useViewContext } from '../../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../../constants/colors.js';\nimport '../../../constants/values.js';\nimport '../../../../shared/consts/index.js';\nimport { useInternalDynamicEvents } from '../../events/useDynamicEvents/useDynamicEvents.js';\nimport '../../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../../store/state/nonce/nonce.js';\nimport '../../../../store/state/projectSettings/projectSettings.js';\nimport '../../../../config/ApiEndpoint.js';\nimport '../../../../store/state/user/user.js';\nimport '../../../../locale/locale.js';\nimport '../../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../../context/AccountExistsContext/AccountExistsContext.js';\nimport { useUserWallets } from '../../../../context/UserWalletsContext/UserWalletsContext.js';\nimport { dynamicEvents } from '../../../../events/dynamicEvents.js';\nimport '../../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../../functions/compareChains/compareChains.js';\nimport '../../../../context/ThemeContext/ThemeContext.js';\nimport '../../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../../context/LoadingContext/LoadingContext.js';\nimport '../../../../context/WalletContext/WalletContext.js';\nimport '../../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../../context/MockContext/MockContext.js';\nimport '../../../../views/CollectUserDataView/useFields.js';\nimport '../../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../../store/state/loadingAndLifecycle.js';\nimport { getWalletConnectorOptions } from '../../../../store/state/walletOptions/walletOptions.js';\nimport { useHandleWalletItem } from '../../useWalletItemActions/useHandleWalletItem/useHandleWalletItem.js';\nimport 'react-i18next';\nimport '../../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../../components/Alert/Alert.js';\nimport '../../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../../components/IconButton/IconButton.js';\nimport '../../../../components/InlineWidget/InlineWidget.js';\nimport '../../../../components/Input/Input.js';\nimport '../../../../components/IsBrowser/IsBrowser.js';\nimport '../../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../../components/OverlayCard/OverlayCard.js';\nimport '../../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../../components/Popper/Popper/Popper.js';\nimport '../../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../../useSubdomainCheck/useSubdomainCheck.js';\nimport { FilterChain } from '../../../functions/walletFilters/index.js';\nimport '../../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../../context/FooterAnimationContext/index.js';\nimport '../../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../../store/state/sendBalances.js';\nimport '../../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../../context/OnrampContext/OnrampContext.js';\nimport { resolvePromiseRef } from '../../../functions/resolvePromiseRef/resolvePromiseRef.js';\nimport { rejectPromiseRef } from '../../../functions/rejectPromiseRef/rejectPromiseRef.js';\nimport { useWalletOptions } from '../../useWalletOptions/useWalletOptions.js';\nimport { FilterWalletsForExternalFunding } from '../utils/FilterWalletsForExternalFunding.js';\nimport '../../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../../index.js';\nimport '../../../../store/state/tokenBalances.js';\nimport '../../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useConnectWalletForFunding = () => {\n    const { primaryWallet, setShowAuthFlow } = useInternalDynamicContext();\n    const { clearStackAndPush } = useViewContext();\n    const userWallets = useUserWallets();\n    const initiatedByWidgetRef = useRef(false);\n    const { walletOptions } = useWalletOptions();\n    const internalConnectionPromiseRef = useRef(null);\n    const connectWalletPromiseRef = useRef(null);\n    const handleWalletMethod = useCallback((props) => __awaiter(void 0, void 0, void 0, function* () {\n        // This is for phantom redirect: store the reason for this connection\n        // so we don't lose the flow when redirected back\n        const connectionType = {\n            connectorConsumed: false,\n            initiatedByWidget: initiatedByWidgetRef.current,\n            type: 'external-wallet-funding',\n        };\n        StorageService.setItem(PHANTOM_REDIRECT_CONNECTION_TYPE_KEY, connectionType);\n        const address = yield props.walletConnector.getAddress(props.getAddressOpts);\n        if (!address) {\n            rejectPromiseRef(internalConnectionPromiseRef, new DynamicError('No wallet address found'));\n            return;\n        }\n        resolvePromiseRef(internalConnectionPromiseRef, address);\n    }), []);\n    const { handleWalletItemClick } = useHandleWalletItem({\n        allowAlreadyConnectedWallet: true,\n        onConnectOnly: handleWalletMethod,\n        onCustodialWallet: handleWalletMethod,\n        onInstalledExtension: handleWalletMethod,\n        onQrCodeConnect: handleWalletMethod,\n    });\n    useInternalDynamicEvents('authFlowClose', () => {\n        rejectPromiseRef(connectWalletPromiseRef, new DynamicError('User cancelled'));\n    });\n    const getWalletAddress = useCallback((walletConnector) => {\n        const walletOption = walletOptions.find(({ key }) => key === walletConnector.key);\n        if (!walletOption)\n            return Promise.reject(new DynamicError(`Connect wallet for funding error: wallet option for ${walletConnector.key} not found`));\n        internalConnectionPromiseRef.current = new DeferredPromise();\n        handleWalletItemClick(Object.assign(Object.assign({}, walletOption), { walletConnector }));\n        return internalConnectionPromiseRef.current.promise;\n    }, [handleWalletItemClick, walletOptions]);\n    const hasWalletConnectWallet = userWallets.some((wallet) => wallet.connector.isWalletConnect);\n    // WC does not allow multiple sessions, so we have 2 cases here:\n    // 1. The user has a linked WalletConnect wallet.\n    //    In this case, we should not do anything, and our logic will prevent other WCs from being\n    //    selected for funding.\n    // 2. The user does not have a WalletConnect wallet linked.\n    //    In this case, we should reset the WC session — this is because they might have just\n    //    previously connected another WC wallet for funding and that session could still be active.\n    const resetWalletConnectSession = useCallback(() => __awaiter(void 0, void 0, void 0, function* () {\n        if (hasWalletConnectWallet)\n            return;\n        const walletOption = getWalletConnectorOptions().find(({ walletConnector }) => walletConnector.isWalletConnect);\n        yield (walletOption === null || walletOption === void 0 ? void 0 : walletOption.walletConnector.endSession());\n        yield (walletOption === null || walletOption === void 0 ? void 0 : walletOption.walletConnector.init());\n    }), [hasWalletConnectWallet]);\n    return useCallback((_a) => __awaiter(void 0, [_a], void 0, function* ({ initiatedByWidget }) {\n        if (connectWalletPromiseRef.current) {\n            return connectWalletPromiseRef.current.promise;\n        }\n        resetWalletConnectSession();\n        connectWalletPromiseRef.current = new DeferredPromise();\n        clearStackAndPush('external-funding-wallet-list', {\n            onSelectWallet: (_b) => __awaiter(void 0, [_b], void 0, function* ({ walletConnector }) {\n                if (!connectWalletPromiseRef.current)\n                    return;\n                try {\n                    initiatedByWidgetRef.current = initiatedByWidget;\n                    const walletAddress = yield getWalletAddress(walletConnector);\n                    if (!walletAddress) {\n                        rejectPromiseRef(connectWalletPromiseRef, new DynamicError('No wallet address found'));\n                        return;\n                    }\n                    const wallet = walletConnector.createWallet({\n                        address: walletAddress,\n                        chain: walletConnector.connectedChain,\n                        connector: walletConnector,\n                        id: 'external-funding-wallet',\n                        isAuthenticated: false,\n                        key: walletConnector.key,\n                    });\n                    resolvePromiseRef(connectWalletPromiseRef, wallet);\n                    dynamicEvents.emit('walletConnectedForFunding', {\n                        initiatedByWidget,\n                        isPhantomRedirect: false,\n                        wallet,\n                    });\n                }\n                catch (error) {\n                    rejectPromiseRef(connectWalletPromiseRef, error);\n                    return;\n                }\n                finally {\n                    setShowAuthFlow(false);\n                }\n            }),\n            showDefaultFooter: true,\n            viewWalletsFilter: pipe(FilterWalletsForExternalFunding).pipe(FilterChain(primaryWallet === null || primaryWallet === void 0 ? void 0 : primaryWallet.chain)),\n        });\n        setShowAuthFlow(true, {\n            emitCancelAuth: false,\n            ignoreIfIsEmbeddedWidget: true,\n            initializeWalletConnect: true,\n            performMultiWalletChecks: false,\n        });\n        return connectWalletPromiseRef.current.promise;\n    }), [\n        resetWalletConnectSession,\n        clearStackAndPush,\n        primaryWallet === null || primaryWallet === void 0 ? void 0 : primaryWallet.chain,\n        setShowAuthFlow,\n        getWalletAddress,\n    ]);\n};\n\nexport { useConnectWalletForFunding };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 634, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useFundWithWallet/useFund/useFund.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../../_virtual/_tslib.js';\nimport { useCallback } from 'react';\nimport '../../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../../constants/colors.js';\nimport '../../../constants/values.js';\nimport '../../../../shared/consts/index.js';\nimport '../../../../events/dynamicEvents.js';\nimport '../../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../../store/state/nonce/nonce.js';\nimport '../../../../store/state/projectSettings/projectSettings.js';\nimport '../../../../config/ApiEndpoint.js';\nimport '../../../../store/state/user/user.js';\nimport '../../../../locale/locale.js';\nimport '../../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../../functions/compareChains/compareChains.js';\nimport '../../../../context/ThemeContext/ThemeContext.js';\nimport '../../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../../context/LoadingContext/LoadingContext.js';\nimport '../../../../context/WalletContext/WalletContext.js';\nimport '../../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../../context/MockContext/MockContext.js';\nimport '../../../../views/CollectUserDataView/useFields.js';\nimport '../../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../../store/state/loadingAndLifecycle.js';\nimport '../../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../../components/Alert/Alert.js';\nimport '../../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../../components/IconButton/IconButton.js';\nimport '../../../../components/InlineWidget/InlineWidget.js';\nimport '../../../../components/Input/Input.js';\nimport '../../../../components/IsBrowser/IsBrowser.js';\nimport '../../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../../components/OverlayCard/OverlayCard.js';\nimport '../../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../../components/Popper/Popper/Popper.js';\nimport '../../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../../context/FooterAnimationContext/index.js';\nimport '../../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../../store/state/sendBalances.js';\nimport '../../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../../context/OnrampContext/OnrampContext.js';\nimport '../../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../../index.js';\nimport '../../../../store/state/tokenBalances.js';\nimport '../../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useFund = () => {\n    const { primaryWallet } = useInternalDynamicContext();\n    return useCallback((_a) => __awaiter(void 0, [_a], void 0, function* ({ amount, fromWallet, token }) {\n        if (!amount || !fromWallet) {\n            throw new Error('Amount and fromWallet are required');\n        }\n        if (!primaryWallet) {\n            throw new Error('Primary wallet not found');\n        }\n        const fromWalletNetwork = yield fromWallet.getNetwork();\n        const primaryWalletNetwork = yield primaryWallet.getNetwork();\n        if (!fromWalletNetwork || !primaryWalletNetwork) {\n            throw new Error('Wallet network not found');\n        }\n        if (fromWalletNetwork !== primaryWalletNetwork) {\n            yield fromWallet.switchNetwork(primaryWalletNetwork);\n        }\n        const toAddress = primaryWallet.address;\n        return fromWallet.sendBalance({\n            amount: amount.toString(),\n            toAddress,\n            token,\n        });\n    }), [primaryWallet]);\n};\n\nexport { useFund };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA,MAAM,UAAU;IACZ,MAAM,EAAE,aAAa,EAAE,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IAClD,OAAO,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;+BAAE,CAAC,KAAO,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG;gBAAC;aAAG,EAAE,KAAK;uCAAG,UAAW,EAAE,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE;oBAC/F,IAAI,CAAC,UAAU,CAAC,YAAY;wBACxB,MAAM,IAAI,MAAM;oBACpB;oBACA,IAAI,CAAC,eAAe;wBAChB,MAAM,IAAI,MAAM;oBACpB;oBACA,MAAM,oBAAoB,MAAM,WAAW,UAAU;oBACrD,MAAM,uBAAuB,MAAM,cAAc,UAAU;oBAC3D,IAAI,CAAC,qBAAqB,CAAC,sBAAsB;wBAC7C,MAAM,IAAI,MAAM;oBACpB;oBACA,IAAI,sBAAsB,sBAAsB;wBAC5C,MAAM,WAAW,aAAa,CAAC;oBACnC;oBACA,MAAM,YAAY,cAAc,OAAO;oBACvC,OAAO,WAAW,WAAW,CAAC;wBAC1B,QAAQ,OAAO,QAAQ;wBACvB;wBACA;oBACJ;gBACJ;;8BAAI;QAAC;KAAc;AACvB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 859, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useFundWithWallet/usePromptAmountAndFundWithWallet/usePromptAmountAndFundWithWallet.js"],"sourcesContent":["'use client'\nimport { useCallback } from 'react';\nimport { useWidgetContext } from '../../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../../constants/colors.js';\nimport '../../../constants/values.js';\nimport '../../../../shared/consts/index.js';\nimport '../../../../events/dynamicEvents.js';\nimport '../../../../../../_virtual/_tslib.js';\nimport '../../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../../store/state/nonce/nonce.js';\nimport '../../../../store/state/projectSettings/projectSettings.js';\nimport '../../../../config/ApiEndpoint.js';\nimport '../../../../store/state/user/user.js';\nimport '../../../../locale/locale.js';\nimport '../../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../../functions/compareChains/compareChains.js';\nimport '../../../../context/ThemeContext/ThemeContext.js';\nimport '../../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../../context/LoadingContext/LoadingContext.js';\nimport '../../../../context/WalletContext/WalletContext.js';\nimport '../../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../../context/MockContext/MockContext.js';\nimport '../../../../views/CollectUserDataView/useFields.js';\nimport '../../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../../store/state/loadingAndLifecycle.js';\nimport '../../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../../components/Alert/Alert.js';\nimport '../../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../../components/IconButton/IconButton.js';\nimport '../../../../components/InlineWidget/InlineWidget.js';\nimport '../../../../components/Input/Input.js';\nimport '../../../../components/IsBrowser/IsBrowser.js';\nimport '../../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../../components/OverlayCard/OverlayCard.js';\nimport '../../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../../components/Popper/Popper/Popper.js';\nimport '../../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../../context/FooterAnimationContext/index.js';\nimport '../../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../../store/state/sendBalances.js';\nimport '../../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../../context/OnrampContext/OnrampContext.js';\nimport '../../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../../index.js';\nimport '../../../../store/state/tokenBalances.js';\nimport '../../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst usePromptAmountAndFundWithWallet = () => {\n    const { setDynamicWidgetView } = useWidgetContext();\n    const { setShowDynamicUserProfile } = useInternalDynamicContext();\n    return useCallback((props) => {\n        setDynamicWidgetView('receive-wallet-funds', props);\n        setShowDynamicUserProfile(true);\n    }, [setDynamicWidgetView, setShowDynamicUserProfile]);\n};\n\nexport { usePromptAmountAndFundWithWallet };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA,MAAM,mCAAmC;IACrC,MAAM,EAAE,oBAAoB,EAAE,GAAG,CAAA,GAAA,yOAAA,CAAA,mBAAgB,AAAD;IAChD,MAAM,EAAE,yBAAyB,EAAE,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IAC9D,OAAO,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;wDAAE,CAAC;YAChB,qBAAqB,wBAAwB;YAC7C,0BAA0B;QAC9B;uDAAG;QAAC;QAAsB;KAA0B;AACxD","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1064, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useFundWithWallet/useFundWithWallet.js"],"sourcesContent":["'use client'\nimport { __rest, __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useCallback, useMemo } from 'react';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport { useProjectSettings } from '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport { useChooseLinkedWallet } from './useChooseLinkedWallet/useChooseLinkedWallet.js';\nimport { useConnectWalletForFunding } from './useConnectWalletForFunding/useConnectWalletForFunding.js';\nimport { useFund } from './useFund/useFund.js';\nimport { usePromptAmountAndFundWithWallet } from './usePromptAmountAndFundWithWallet/usePromptAmountAndFundWithWallet.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useInternalFundWithWallet = () => {\n    var _a, _b;\n    const projectSettings = useProjectSettings();\n    const fundWithWallet = useFund();\n    const connectWalletForFunding = useConnectWalletForFunding();\n    const promptAmountAndFundWithWallet = usePromptAmountAndFundWithWallet();\n    const { chooseLinkedWallet, filteredWallets } = useChooseLinkedWallet();\n    return useMemo(() => {\n        var _a, _b;\n        return ({\n            /**\n             * Shows a modal to pick a linked wallet and returns the picked wallet.\n             */\n            chooseLinkedWallet,\n            /**\n             * Connects an external wallet and returns the wallet.\n             */\n            connectWalletForFunding,\n            /**\n             * Whether external wallet funding is enabled.\n             */\n            externalWalletFundingEnabled: Boolean((_b = (_a = projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.sdk.funding) === null || _a === void 0 ? void 0 : _a.externalWallets) === null || _b === void 0 ? void 0 : _b.enabled),\n            /**\n             * The linked wallets available for funding the primary wallet.\n             */\n            filteredLinkedWallets: filteredWallets,\n            /**\n             * Triggers a funding transaction from the given wallet to the primary wallet.\n             */\n            fund: fundWithWallet,\n            /**\n             * Prompts the user for an amount and token and triggers a funding transaction\n             * from the given wallet to the primary wallet.\n             */\n            promptAmountAndFund: promptAmountAndFundWithWallet,\n        });\n    }, [\n        chooseLinkedWallet,\n        connectWalletForFunding,\n        (_b = (_a = projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.sdk.funding) === null || _a === void 0 ? void 0 : _a.externalWallets) === null || _b === void 0 ? void 0 : _b.enabled,\n        filteredWallets,\n        fundWithWallet,\n        promptAmountAndFundWithWallet,\n    ]);\n};\nconst useFundWithWallet = () => {\n    const { setShowDynamicUserProfile } = useInternalDynamicContext();\n    const _a = useInternalFundWithWallet(), { connectWalletForFunding, chooseLinkedWallet: _chooseLinkedWallet } = _a, otherMethods = __rest(_a, [\"connectWalletForFunding\", \"chooseLinkedWallet\"]);\n    // When called from headless mode, let's close the modal afterwards\n    // Also ensure back button is not shown and prop is not passed\n    const chooseLinkedWallet = useCallback(() => __awaiter(void 0, void 0, void 0, function* () {\n        const wallet = yield _chooseLinkedWallet({ showBackButton: false });\n        setShowDynamicUserProfile(false);\n        return wallet;\n    }), [_chooseLinkedWallet, setShowDynamicUserProfile]);\n    return Object.assign(Object.assign({}, otherMethods), { \n        /**\n         * Shows a modal to pick a linked wallet and returns the picked wallet.\n         */\n        chooseLinkedWallet, \n        /**\n         * Connects an external wallet and returns the wallet.\n         */\n        connectWalletForFunding: () => connectWalletForFunding({ initiatedByWidget: false }) });\n};\n\nexport { useFundWithWallet, useInternalFundWithWallet };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}}]
}