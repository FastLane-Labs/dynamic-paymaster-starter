{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/events/useDynamicEvents/useDynamicEvents.js"],"sourcesContent":["'use client'\nimport { useRef, useEffect } from 'react';\nimport { externalEvents, dynamicEvents } from '../../../../events/dynamicEvents.js';\n\n/** Allows us to subscribe to all dynamicEvents with a hook, even the internal ones */\nconst useInternalDynamicEvents = (event, listener) => {\n    const handler = useRef(listener);\n    handler.current = listener;\n    useEffect(() => {\n        const callback = (...args) => handler.current(...args);\n        dynamicEvents.on(event, callback);\n        return () => {\n            dynamicEvents.off(event, callback);\n        };\n    }, [event]);\n};\n/** Allows subscribing to dynamic events directly inside components with a hook */\nconst useDynamicEvents = (event, listener) => {\n    if (!externalEvents.includes(event))\n        throw new Error(`Unrecognized event \"${event}\" used with useDynamicEvents`);\n    useInternalDynamicEvents(event, listener);\n};\n\nexport { useDynamicEvents, useInternalDynamicEvents };\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;AAIA,oFAAoF,GACpF,MAAM,2BAA2B,CAAC,OAAO;IACrC,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IACvB,QAAQ,OAAO,GAAG;IAClB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;8CAAE;YACN,MAAM;+DAAW,CAAC,GAAG,OAAS,QAAQ,OAAO,IAAI;;YACjD,qMAAA,CAAA,gBAAa,CAAC,EAAE,CAAC,OAAO;YACxB;sDAAO;oBACH,qMAAA,CAAA,gBAAa,CAAC,GAAG,CAAC,OAAO;gBAC7B;;QACJ;6CAAG;QAAC;KAAM;AACd;AACA,gFAAgF,GAChF,MAAM,mBAAmB,CAAC,OAAO;IAC7B,IAAI,CAAC,qMAAA,CAAA,iBAAc,CAAC,QAAQ,CAAC,QACzB,MAAM,IAAI,MAAM,CAAC,oBAAoB,EAAE,MAAM,4BAA4B,CAAC;IAC9E,yBAAyB,OAAO;AACpC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/events/useWalletConnectorEvent/useWalletConnectorEvent.js"],"sourcesContent":["'use client'\nimport { useRef, useEffect } from 'react';\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/**\n * Hook for handling events from a WalletConnector or an array of WalletConnectors.\n * This hook allows you to specify an event to listen to and a handler function that will be called\n * whenever the event is emitted. The handler will receive the event arguments followed by the instance\n * of the WalletConnector that emitted the event.\n *\n * @template Event - The type of the event to listen for, which should be a key of WalletConnectorEventTypes.\n *\n * @param eventEmitters - The WalletConnector instance(s) to attach the event listener to.\n * If an array is provided, the event listener is attached to all provided connectors.\n * @param eventName - The name of the event to listen for.\n * @param handler - The callback function to execute when the event is emitted.\n * The arguments to the callback are the arguments emitted with the event, followed by the WalletConnector instance\n * that emitted the event.\n *\n * @returns {void} This hook does not return anything.\n *\n * @example\n * // Example usage of useWalletConnectorEvent\n * const { primaryWallet } = useDynamicContext();\n *\n * useWalletConnectorEvent(\n *   primaryWallet?.connector,\n *   'accountChange',\n *   ({ accounts }, connector) => {\n *     console.group('accountChange');\n *     console.log('accounts', accounts);\n *     console.log('connector that emitted', connector);\n *     console.groupEnd();\n *   },\n * );\n */\nconst useWalletConnectorEvent = (eventEmitters, eventName, handler) => {\n    const callbackRef = useRef(handler);\n    callbackRef.current = handler;\n    useEffect(() => {\n        if (!eventEmitters)\n            return;\n        const eventEmittersArray = Array.isArray(eventEmitters)\n            ? eventEmitters\n            : [eventEmitters];\n        /**\n         * Initialize the event listeners for the wallet connectors\n         * to ensure they were initialized before listening to events\n         */\n        eventEmittersArray.forEach((connector) => connector.initEventListener());\n        const uniqueEventEmitters = Array.from(new Set(eventEmittersArray));\n        const unsubscribeCallbacks = uniqueEventEmitters.map((emitter) => {\n            const callback = (...args) => {\n                callbackRef.current(...args, emitter);\n            };\n            emitter.on(eventName, callback);\n            return () => emitter.off(eventName, callback);\n        });\n        return () => unsubscribeCallbacks.forEach((unsubscribe) => unsubscribe());\n    }, [eventEmitters, eventName]);\n};\n\nexport { useWalletConnectorEvent };\n"],"names":[],"mappings":";;;AACA;AADA;;AAGA,qDAAqD,GACrD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA+BC,GACD,MAAM,0BAA0B,CAAC,eAAe,WAAW;IACvD,MAAM,cAAc,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IAC3B,YAAY,OAAO,GAAG;IACtB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;6CAAE;YACN,IAAI,CAAC,eACD;YACJ,MAAM,qBAAqB,MAAM,OAAO,CAAC,iBACnC,gBACA;gBAAC;aAAc;YACrB;;;SAGC,GACD,mBAAmB,OAAO;qDAAC,CAAC,YAAc,UAAU,iBAAiB;;YACrE,MAAM,sBAAsB,MAAM,IAAI,CAAC,IAAI,IAAI;YAC/C,MAAM,uBAAuB,oBAAoB,GAAG;0EAAC,CAAC;oBAClD,MAAM;2FAAW,CAAC,GAAG;4BACjB,YAAY,OAAO,IAAI,MAAM;wBACjC;;oBACA,QAAQ,EAAE,CAAC,WAAW;oBACtB;kFAAO,IAAM,QAAQ,GAAG,CAAC,WAAW;;gBACxC;;YACA;qDAAO,IAAM,qBAAqB,OAAO;6DAAC,CAAC,cAAgB;;;QAC/D;4CAAG;QAAC;QAAe;KAAU;AACjC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useUserUpdateRequest/useUpdateUser/userFieldsSchema.js"],"sourcesContent":["'use client'\nimport { object, string, boolean } from 'yup';\n\n// User Fields Schema without captchaToken and policiesConsent properties\nconst userFieldsSchema = object().shape({\n    alias: string(),\n    btcWallet: string(),\n    ckbWallet: string(),\n    country: string(),\n    discordNotification: boolean(),\n    dogeWallet: string(),\n    email: string(),\n    emailNotification: boolean(),\n    firstName: string(),\n    jobTitle: string(),\n    kasWallet: string(),\n    kdaWallet: string(),\n    lastName: string(),\n    ltcWallet: string(),\n    metadata: object(),\n    newsletterNotification: boolean(),\n    phoneNumber: string(),\n    tShirtSize: string(),\n    team: string(),\n    username: string(),\n});\n\nexport { userFieldsSchema };\n"],"names":[],"mappings":";;;AACA;AAAA;AAAA;AAAA;AADA;;AAGA,yEAAyE;AACzE,MAAM,mBAAmB,CAAA,GAAA,0KAAA,CAAA,SAAM,AAAD,IAAI,KAAK,CAAC;IACpC,OAAO,CAAA,GAAA,0KAAA,CAAA,SAAM,AAAD;IACZ,WAAW,CAAA,GAAA,0KAAA,CAAA,SAAM,AAAD;IAChB,WAAW,CAAA,GAAA,0KAAA,CAAA,SAAM,AAAD;IAChB,SAAS,CAAA,GAAA,0KAAA,CAAA,SAAM,AAAD;IACd,qBAAqB,CAAA,GAAA,4KAAA,CAAA,UAAO,AAAD;IAC3B,YAAY,CAAA,GAAA,0KAAA,CAAA,SAAM,AAAD;IACjB,OAAO,CAAA,GAAA,0KAAA,CAAA,SAAM,AAAD;IACZ,mBAAmB,CAAA,GAAA,4KAAA,CAAA,UAAO,AAAD;IACzB,WAAW,CAAA,GAAA,0KAAA,CAAA,SAAM,AAAD;IAChB,UAAU,CAAA,GAAA,0KAAA,CAAA,SAAM,AAAD;IACf,WAAW,CAAA,GAAA,0KAAA,CAAA,SAAM,AAAD;IAChB,WAAW,CAAA,GAAA,0KAAA,CAAA,SAAM,AAAD;IAChB,UAAU,CAAA,GAAA,0KAAA,CAAA,SAAM,AAAD;IACf,WAAW,CAAA,GAAA,0KAAA,CAAA,SAAM,AAAD;IAChB,UAAU,CAAA,GAAA,0KAAA,CAAA,SAAM,AAAD;IACf,wBAAwB,CAAA,GAAA,4KAAA,CAAA,UAAO,AAAD;IAC9B,aAAa,CAAA,GAAA,0KAAA,CAAA,SAAM,AAAD;IAClB,YAAY,CAAA,GAAA,0KAAA,CAAA,SAAM,AAAD;IACjB,MAAM,CAAA,GAAA,0KAAA,CAAA,SAAM,AAAD;IACX,UAAU,CAAA,GAAA,0KAAA,CAAA,SAAM,AAAD;AACnB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 169, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useUserUpdateRequest/useUpdateUser/useUpdateUser.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../../_virtual/_tslib.js';\nimport { useCallback } from 'react';\nimport '../../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../../constants/colors.js';\nimport '../../../constants/values.js';\nimport '../../../../shared/consts/index.js';\nimport '../../../../events/dynamicEvents.js';\nimport '../../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../../store/state/nonce/nonce.js';\nimport '../../../../store/state/projectSettings/projectSettings.js';\nimport '../../../../config/ApiEndpoint.js';\nimport '../../../../store/state/user/user.js';\nimport '../../../../locale/locale.js';\nimport { updateUserProfileFields } from '../../../../data/api/user/user.js';\nimport '../../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport { useVerification } from '../../../../context/VerificationContext/VerificationContext.js';\nimport { getVerificationDestinationFromNextView } from '../../../functions/getVerificationDestinationFromNextView/getVerificationDestinationFromNextView.js';\nimport 'react-dom';\nimport '../../../functions/compareChains/compareChains.js';\nimport '../../../../context/ThemeContext/ThemeContext.js';\nimport { useHandleVerificationRequired } from '../../useHandleVerificationRequired/useHandleVerificationRequired.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../../context/LoadingContext/LoadingContext.js';\nimport '../../../../context/WalletContext/WalletContext.js';\nimport '../../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../../context/MockContext/MockContext.js';\nimport '../../../../views/CollectUserDataView/useFields.js';\nimport { useFieldsState } from '../../../../context/FieldsStateContext/FieldsStateContext.js';\nimport { userFieldsSchema } from './userFieldsSchema.js';\nimport '../../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../../store/state/loadingAndLifecycle.js';\nimport '../../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../../components/Alert/Alert.js';\nimport '../../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../../components/IconButton/IconButton.js';\nimport '../../../../components/InlineWidget/InlineWidget.js';\nimport '../../../../components/Input/Input.js';\nimport '../../../../components/IsBrowser/IsBrowser.js';\nimport '../../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../../components/OverlayCard/OverlayCard.js';\nimport '../../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../../components/Popper/Popper/Popper.js';\nimport '../../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../../context/FooterAnimationContext/index.js';\nimport '../../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../../store/state/sendBalances.js';\nimport '../../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../../context/OnrampContext/OnrampContext.js';\nimport '../../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../../index.js';\nimport '../../../../store/state/tokenBalances.js';\nimport '../../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useUpdateUser = (validationSchemaStripUnknown) => {\n    const { environmentId, userWithMissingInfo } = useInternalDynamicContext();\n    const { setRetryData } = useVerification();\n    const { selectedPhoneCountry } = useFieldsState();\n    const handleVerificationRequired = useHandleVerificationRequired();\n    const updateUser = useCallback((userFields, options) => __awaiter(void 0, void 0, void 0, function* () {\n        var _a, _b;\n        // `stripUnknown: true` will automatically strip out any values in the metadata object\n        // so we need to pull out the metadata object here and then re-add it after stripping unknown fields\n        let { metadata } = userFields;\n        // when a user has already logged in but a custom field was added to env, in order to not clear the old fields\n        metadata = metadata\n            ? Object.assign(Object.assign({}, userWithMissingInfo === null || userWithMissingInfo === void 0 ? void 0 : userWithMissingInfo.metadata), metadata) : userWithMissingInfo === null || userWithMissingInfo === void 0 ? void 0 : userWithMissingInfo.metadata;\n        // we dont add user.metadata from edit profile because it is already in the metadata request for updateUser\n        const validatedUserFields = yield userFieldsSchema.validate(userFields, {\n            stripUnknown: validationSchemaStripUnknown,\n        });\n        // If there is a phone number, store it in the retry verification data\n        // in case we need to perform sms verification\n        if (validatedUserFields.phoneNumber &&\n            validatedUserFields.phoneNumber.length > 0 &&\n            selectedPhoneCountry.current)\n            setRetryData({\n                dialCode: selectedPhoneCountry.current.dialCode,\n                iso2: selectedPhoneCountry.current.iso2,\n                phone: validatedUserFields.phoneNumber,\n            });\n        const updateUserProfileResponse = yield updateUserProfileFields((_a = options === null || options === void 0 ? void 0 : options.userEnvironmentId) !== null && _a !== void 0 ? _a : environmentId, Object.assign(Object.assign({}, validatedUserFields), { metadata }));\n        // check if decoded JWT still somehow has missing fields, we can't proceed if it does\n        const missingFields = (_b = updateUserProfileResponse.user.missingFields) !== null && _b !== void 0 ? _b : [];\n        const requiredVerificationDestination = getVerificationDestinationFromNextView(updateUserProfileResponse.nextView);\n        if (requiredVerificationDestination)\n            return handleVerificationRequired({\n                destination: requiredVerificationDestination,\n                missingFields,\n                updateUserProfileResponse,\n            });\n        return {\n            isEmailVerificationRequired: false,\n            isSmsVerificationRequired: false,\n            missingFields,\n            updateUserProfileResponse,\n        };\n    }), [\n        userWithMissingInfo === null || userWithMissingInfo === void 0 ? void 0 : userWithMissingInfo.metadata,\n        validationSchemaStripUnknown,\n        selectedPhoneCountry,\n        setRetryData,\n        environmentId,\n        handleVerificationRequired,\n    ]);\n    return updateUser;\n};\n\nexport { useUpdateUser };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 421, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useUserUpdateRequest/useUpdateUserWithModal/validateUpdateRequest/validateUpdateRequest.js"],"sourcesContent":["'use client'\nimport { getUserProfileFields } from '../../../../functions/getUserProfileFields/getUserProfileFields.js';\n\n// eslint-disable-next-line multiline-comment-style\n/** This function is used to verify that an update request with modal is valid\n * @returns empty string if request is valid, a string with the error message otherwise\n */\nconst validateUpdateRequest = (fields, user, projectSettings) => {\n    // Catch no fields\n    if (!fields.length)\n        return 'At least one field must be provided for editing';\n    // Catch no user\n    if (!user)\n        return 'No signed-in user';\n    // Catch field not set in dashboard\n    const allUserFields = getUserProfileFields({\n        customFields: projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.customFields,\n        projectSettingsKyc: projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.kyc,\n        user,\n    });\n    for (const field of fields) {\n        // i.e. If any of the provided fields is not found in the project settings fields\n        if (!allUserFields.find(({ name }) => name === field))\n            return `Please ensure field \"${field}\" is enabled under \"Configurations > Onboarding > Information capture\" in your app's dashboard before using it with updateUserWithModal`;\n    }\n    return '';\n};\n\nexport { validateUpdateRequest };\n"],"names":[],"mappings":";;;AACA;AADA;;AAGA,mDAAmD;AACnD;;CAEC,GACD,MAAM,wBAAwB,CAAC,QAAQ,MAAM;IACzC,kBAAkB;IAClB,IAAI,CAAC,OAAO,MAAM,EACd,OAAO;IACX,gBAAgB;IAChB,IAAI,CAAC,MACD,OAAO;IACX,mCAAmC;IACnC,MAAM,gBAAgB,CAAA,GAAA,gPAAA,CAAA,uBAAoB,AAAD,EAAE;QACvC,cAAc,oBAAoB,QAAQ,oBAAoB,KAAK,IAAI,KAAK,IAAI,gBAAgB,YAAY;QAC5G,oBAAoB,oBAAoB,QAAQ,oBAAoB,KAAK,IAAI,KAAK,IAAI,gBAAgB,GAAG;QACzG;IACJ;IACA,KAAK,MAAM,SAAS,OAAQ;QACxB,iFAAiF;QACjF,IAAI,CAAC,cAAc,IAAI,CAAC,CAAC,EAAE,IAAI,EAAE,GAAK,SAAS,QAC3C,OAAO,CAAC,qBAAqB,EAAE,MAAM,uIAAuI,CAAC;IACrL;IACA,OAAO;AACX","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 454, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useUserUpdateRequest/useUpdateUserWithModal/useUpdateUserWithModal.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../../_virtual/_tslib.js';\nimport { useContext, useCallback } from 'react';\nimport { DynamicError } from '@dynamic-labs/utils';\nimport '../../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport { useViewContext } from '../../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../../constants/colors.js';\nimport '../../../constants/values.js';\nimport '../../../../shared/consts/index.js';\nimport { dynamicEvents } from '../../../../events/dynamicEvents.js';\nimport '../../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../../store/state/nonce/nonce.js';\nimport '../../../../store/state/projectSettings/projectSettings.js';\nimport '../../../../config/ApiEndpoint.js';\nimport '../../../../store/state/user/user.js';\nimport '../../../../locale/locale.js';\nimport '../../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../../functions/compareChains/compareChains.js';\nimport '../../../../context/ThemeContext/ThemeContext.js';\nimport '../useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../../context/LoadingContext/LoadingContext.js';\nimport '../../../../context/WalletContext/WalletContext.js';\nimport '../../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../../context/MockContext/MockContext.js';\nimport '../../../../views/CollectUserDataView/useFields.js';\nimport '../../../../context/FieldsStateContext/FieldsStateContext.js';\nimport { UserFieldEditorContext } from '../../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport { validateUpdateRequest } from './validateUpdateRequest/validateUpdateRequest.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../../store/state/loadingAndLifecycle.js';\nimport '../../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../../components/Alert/Alert.js';\nimport '../../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../../components/IconButton/IconButton.js';\nimport '../../../../components/InlineWidget/InlineWidget.js';\nimport '../../../../components/Input/Input.js';\nimport '../../../../components/IsBrowser/IsBrowser.js';\nimport '../../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../../components/OverlayCard/OverlayCard.js';\nimport '../../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../../components/Popper/Popper/Popper.js';\nimport '../../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../../context/FooterAnimationContext/index.js';\nimport '../../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../../store/state/sendBalances.js';\nimport '../../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../../context/OnrampContext/OnrampContext.js';\nimport '../../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../../index.js';\nimport '../../../../store/state/tokenBalances.js';\nimport '../../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\n/** Saves the values updated by the user */\nconst saveUserValues = (_a, setShowAuthFlow_1, pushView_1, resolve_1, reject_1) => __awaiter(void 0, [_a, setShowAuthFlow_1, pushView_1, resolve_1, reject_1], void 0, function* ({ fields: newValues, updateUserResult: { isEmailVerificationRequired, isSmsVerificationRequired, }, }, setShowAuthFlow, pushView, resolve, reject) {\n    // If no verification is needed, we are done\n    if (!isEmailVerificationRequired && !isSmsVerificationRequired) {\n        resolve(newValues);\n        return;\n    }\n    // Show verification view\n    setShowAuthFlow(true, {\n        ignoreIfIsEmbeddedWidget: false,\n        performMultiWalletChecks: false,\n    });\n    if (isEmailVerificationRequired) {\n        pushView('verify-email');\n        // Subscribe to email verification result\n        dynamicEvents.once('emailVerificationResult', (wasSuccessful, newEmail) => {\n            // Make sure we're using the correct, updated email. User might have changed it mid-OTP\n            newValues.email = newEmail;\n            wasSuccessful\n                ? resolve(newValues)\n                : reject('Failed to verify email, no fields were updated');\n        });\n        return;\n    }\n    pushView('verify-sms');\n    // Subscribe to sms verification result\n    dynamicEvents.once('smsVerificationResult', (wasSuccessful, { phone: newPhone }) => {\n        // Make sure we're using the correct, updated phone number. User might have changed it mid-OTP\n        newValues.phoneNumber = newPhone;\n        wasSuccessful\n            ? resolve(newValues)\n            : reject('Failed to verify phone number, no fields were updated');\n    });\n});\n// eslint-disable-next-line multiline-comment-style\n/** This hook allows to open the widget modal and expose any fields for editing.\n * The fields must have been previously enabled in the dashboard\n */\nconst useUpdateUserWithModal = (updateUser) => {\n    const { user, projectSettings, setShowAuthFlow } = useInternalDynamicContext();\n    const { pushView } = useViewContext();\n    const editorContext = useContext(UserFieldEditorContext);\n    if (!editorContext)\n        throw new DynamicError('useUserUpdateRequest can only be used inside the context of DynamicContextProvider');\n    const { open: promptUserForValues } = editorContext;\n    const updateUserWithModal = useCallback((fields, options) => new Promise((resolve, reject) => {\n        // Catch invalid requests\n        const errorResponse = validateUpdateRequest(fields, user, projectSettings);\n        if (errorResponse) {\n            reject(errorResponse);\n            return;\n        }\n        // Get user values\n        promptUserForValues({\n            fields,\n            submitText: options === null || options === void 0 ? void 0 : options.submitText,\n            subtitle: options === null || options === void 0 ? void 0 : options.subtitle,\n            title: options === null || options === void 0 ? void 0 : options.title,\n        }, updateUser)\n            .then((updateValues) => saveUserValues(updateValues, setShowAuthFlow, pushView, resolve, reject))\n            .catch((error) => {\n            if (/email already exists/gi.test(error))\n                throw error;\n            reject(error);\n        });\n    }), [\n        user,\n        projectSettings,\n        promptUserForValues,\n        updateUser,\n        setShowAuthFlow,\n        pushView,\n    ]);\n    return updateUserWithModal;\n};\n\nexport { useUpdateUserWithModal };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA,yCAAyC,GACzC,MAAM,iBAAiB,CAAC,IAAI,mBAAmB,YAAY,WAAW,WAAa,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG;QAAC;QAAI;QAAmB;QAAY;QAAW;KAAS,EAAE,KAAK,GAAG,UAAW,EAAE,QAAQ,SAAS,EAAE,kBAAkB,EAAE,2BAA2B,EAAE,yBAAyB,EAAG,EAAG,EAAE,eAAe,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM;QAC/T,4CAA4C;QAC5C,IAAI,CAAC,+BAA+B,CAAC,2BAA2B;YAC5D,QAAQ;YACR;QACJ;QACA,yBAAyB;QACzB,gBAAgB,MAAM;YAClB,0BAA0B;YAC1B,0BAA0B;QAC9B;QACA,IAAI,6BAA6B;YAC7B,SAAS;YACT,yCAAyC;YACzC,qMAAA,CAAA,gBAAa,CAAC,IAAI,CAAC,2BAA2B,CAAC,eAAe;gBAC1D,uFAAuF;gBACvF,UAAU,KAAK,GAAG;gBAClB,gBACM,QAAQ,aACR,OAAO;YACjB;YACA;QACJ;QACA,SAAS;QACT,uCAAuC;QACvC,qMAAA,CAAA,gBAAa,CAAC,IAAI,CAAC,yBAAyB,CAAC,eAAe,EAAE,OAAO,QAAQ,EAAE;YAC3E,8FAA8F;YAC9F,UAAU,WAAW,GAAG;YACxB,gBACM,QAAQ,aACR,OAAO;QACjB;IACJ;AACA,mDAAmD;AACnD;;CAEC,GACD,MAAM,yBAAyB,CAAC;IAC5B,MAAM,EAAE,IAAI,EAAE,eAAe,EAAE,eAAe,EAAE,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IAC3E,MAAM,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,mNAAA,CAAA,iBAAc,AAAD;IAClC,MAAM,gBAAgB,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE,yOAAA,CAAA,yBAAsB;IACvD,IAAI,CAAC,eACD,MAAM,IAAI,8KAAA,CAAA,eAAY,CAAC;IAC3B,MAAM,EAAE,MAAM,mBAAmB,EAAE,GAAG;IACtC,MAAM,sBAAsB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;mEAAE,CAAC,QAAQ,UAAY,IAAI;2EAAQ,CAAC,SAAS;oBAC/E,yBAAyB;oBACzB,MAAM,gBAAgB,CAAA,GAAA,gSAAA,CAAA,wBAAqB,AAAD,EAAE,QAAQ,MAAM;oBAC1D,IAAI,eAAe;wBACf,OAAO;wBACP;oBACJ;oBACA,kBAAkB;oBAClB,oBAAoB;wBAChB;wBACA,YAAY,YAAY,QAAQ,YAAY,KAAK,IAAI,KAAK,IAAI,QAAQ,UAAU;wBAChF,UAAU,YAAY,QAAQ,YAAY,KAAK,IAAI,KAAK,IAAI,QAAQ,QAAQ;wBAC5E,OAAO,YAAY,QAAQ,YAAY,KAAK,IAAI,KAAK,IAAI,QAAQ,KAAK;oBAC1E,GAAG,YACE,IAAI;mFAAC,CAAC,eAAiB,eAAe,cAAc,iBAAiB,UAAU,SAAS;kFACxF,KAAK;mFAAC,CAAC;4BACR,IAAI,yBAAyB,IAAI,CAAC,QAC9B,MAAM;4BACV,OAAO;wBACX;;gBACJ;;kEAAI;QACA;QACA;QACA;QACA;QACA;QACA;KACH;IACD,OAAO;AACX","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 728, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useUserUpdateRequest/useUserUpdateRequest.js"],"sourcesContent":["'use client'\nimport { useUpdateUser } from './useUpdateUser/useUpdateUser.js';\nimport { useUpdateUserWithModal } from './useUpdateUserWithModal/useUpdateUserWithModal.js';\n\n// Hook only available internally\nconst useUserUpdateRequestInternal = ({ validationSchemaStripUnknown, }) => {\n    const updateUser = useUpdateUser(validationSchemaStripUnknown);\n    const updateUserWithModal = useUpdateUserWithModal(updateUser);\n    return { updateUser, updateUserWithModal };\n};\n// Hook exposed to the clients\n// We do not want customers to be able to edit properties such as policiesConsent or captchaToken\nconst useUserUpdateRequest = () => useUserUpdateRequestInternal({ validationSchemaStripUnknown: true });\n\nexport { useUserUpdateRequest, useUserUpdateRequestInternal };\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;AAIA,iCAAiC;AACjC,MAAM,+BAA+B,CAAC,EAAE,4BAA4B,EAAG;IACnE,MAAM,aAAa,CAAA,GAAA,sPAAA,CAAA,gBAAa,AAAD,EAAE;IACjC,MAAM,sBAAsB,CAAA,GAAA,wQAAA,CAAA,yBAAsB,AAAD,EAAE;IACnD,OAAO;QAAE;QAAY;IAAoB;AAC7C;AACA,8BAA8B;AAC9B,iGAAiG;AACjG,MAAM,uBAAuB,IAAM,6BAA6B;QAAE,8BAA8B;IAAK","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 758, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/usePromise/utils/resolveFetcher/resolveFetcher.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../../../_virtual/_tslib.js';\n\nconst isPromise = (value) => value instanceof Promise;\nconst resolveFetcher = (fetcher_1, _a, callback_1) => __awaiter(void 0, [fetcher_1, _a, callback_1], void 0, function* (fetcher, { retries }, callback) {\n    const totalNumberOfAttempts = retries ? retries + 1 : 1;\n    let currentAttempt = 0;\n    let data;\n    let err;\n    while (currentAttempt < totalNumberOfAttempts) {\n        currentAttempt = currentAttempt + 1;\n        try {\n            const result = fetcher();\n            if (isPromise(result)) {\n                data = yield result;\n            }\n            else {\n                data = result;\n            }\n            err = undefined;\n            // If we have data, we can break the loop\n            if (data) {\n                break;\n            }\n        }\n        catch (error) {\n            err = error;\n        }\n    }\n    callback(err, data);\n    return data;\n});\n\nexport { resolveFetcher };\n"],"names":[],"mappings":";;;AACA;AADA;;AAGA,MAAM,YAAY,CAAC,QAAU,iBAAiB;AAC9C,MAAM,iBAAiB,CAAC,WAAW,IAAI,aAAe,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG;QAAC;QAAW;QAAI;KAAW,EAAE,KAAK,GAAG,UAAW,OAAO,EAAE,EAAE,OAAO,EAAE,EAAE,QAAQ;QAClJ,MAAM,wBAAwB,UAAU,UAAU,IAAI;QACtD,IAAI,iBAAiB;QACrB,IAAI;QACJ,IAAI;QACJ,MAAO,iBAAiB,sBAAuB;YAC3C,iBAAiB,iBAAiB;YAClC,IAAI;gBACA,MAAM,SAAS;gBACf,IAAI,UAAU,SAAS;oBACnB,OAAO,MAAM;gBACjB,OACK;oBACD,OAAO;gBACX;gBACA,MAAM;gBACN,yCAAyC;gBACzC,IAAI,MAAM;oBACN;gBACJ;YACJ,EACA,OAAO,OAAO;gBACV,MAAM;YACV;QACJ;QACA,SAAS,KAAK;QACd,OAAO;IACX","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 802, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/usePromise/usePromise.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useRef, useState, useCallback, useEffect, useMemo } from 'react';\nimport { logger } from '../../../shared/logger.js';\nimport { resolveFetcher } from './utils/resolveFetcher/resolveFetcher.js';\n\n/**\n * Custom hook for handling promises and fetching data.\n * @template T - The type of the data returned by the promise.\n * @template E - The type of the error thrown by the promise.\n * @returns {PromiseState<T, E>} - The state object containing the data, error, loading status\n * and a callback to manually retrigger the promise.\n * @example\n * // Example usage with a simple fetcher function\n * const fetcher = fetch('https://api.example.com/data');\n *\n * const MyComponent = () => {\n *  const { data, isLoading, error } = usePromise(fetcher);\n *\n *  if (isLoading) {\n *    return <div>Loading...</div>;\n *  }\n *\n *  if (error) {\n *    return <div>Error: {error.message}</div>;\n *  }\n *\n * return <div>Data: {data}</div>;\n * };\n */\nconst usePromise = (\n/** A function that returns the data or a promise that resolves to the data */\nfetcher, \n/** Options for the hook */\noptions) => {\n    const lastCallTimestamp = useRef(new Date().getTime());\n    const { deps = [], initialData = undefined, enabled = true, retries = 0, } = options || {};\n    // Keep the callbacks updated regardless of when trigger is called\n    const callbacks = useRef({\n        onBeforeFetch: options === null || options === void 0 ? void 0 : options.onBeforeFetch,\n        onReject: options === null || options === void 0 ? void 0 : options.onReject,\n        onResolve: options === null || options === void 0 ? void 0 : options.onResolve,\n    });\n    callbacks.current = {\n        onBeforeFetch: options === null || options === void 0 ? void 0 : options.onBeforeFetch,\n        onReject: options === null || options === void 0 ? void 0 : options.onReject,\n        onResolve: options === null || options === void 0 ? void 0 : options.onResolve,\n    };\n    const [data, setData] = useState(initialData);\n    const [isLoading, setIsLoading] = useState(enabled);\n    const [error, setError] = useState(undefined);\n    const trigger = useCallback(() => __awaiter(void 0, void 0, void 0, function* () {\n        var _a, _b;\n        const callTimestamp = new Date().getTime();\n        const diffFromLastCall = callTimestamp - lastCallTimestamp.current;\n        if (diffFromLastCall < 5) {\n            logger.logVerboseTroubleshootingMessage('usePromise: Fetcher function was called in very quick succession. Please make sure the fetcher function is not synchronous and that you are not calling it inside a loop.', deps);\n        }\n        lastCallTimestamp.current = callTimestamp;\n        setIsLoading(true);\n        (_b = (_a = callbacks.current).onBeforeFetch) === null || _b === void 0 ? void 0 : _b.call(_a);\n        return resolveFetcher(fetcher, { retries }, (resultError, resultData) => {\n            var _a, _b, _c, _d;\n            if (callTimestamp !== lastCallTimestamp.current)\n                return;\n            if (resultError) {\n                logger.error(resultError);\n                setError(resultError);\n                (_b = (_a = callbacks.current).onReject) === null || _b === void 0 ? void 0 : _b.call(_a, resultError);\n                return;\n            }\n            setData(resultData);\n            (_d = (_c = callbacks.current).onResolve) === null || _d === void 0 ? void 0 : _d.call(_c, resultData);\n        }).finally(() => setIsLoading(false));\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }), deps);\n    useEffect(() => {\n        if (enabled)\n            trigger();\n    }, [trigger, enabled]);\n    return useMemo(() => ({\n        data: data,\n        error,\n        isLoading,\n        retrigger: trigger,\n    }), [data, error, isLoading, trigger]);\n};\n\nexport { usePromise };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 917, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useEmbeddedWalletSessionKeys/useEmbeddedWalletSessionKeys.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useCallback } from 'react';\nimport { StorageService, InvalidEmbeddedWalletSessionKeyError } from '@dynamic-labs/utils';\nimport { EmbeddedWalletVersionEnum } from '@dynamic-labs/sdk-api-core';\nimport { logger } from '@dynamic-labs/wallet-connector-core';\nimport { SECURE_ENCLAVE_WALLET_SESSION_KEYS, SECURE_ENCLAVE_WALLET_SESSION_KEYS_STORAGE_OPTIONS } from '../../constants/localStorage.js';\nimport { p256Sign, p256Keygen } from '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/utils.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../constants/values.js';\nimport '@dynamic-labs/multi-wallet';\nimport '../../../shared/logger.js';\nimport '../../constants/colors.js';\nimport 'react-international-phone';\nimport '@dynamic-labs/iconic';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../../shared/consts/index.js';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport { useUser } from '../../../store/state/user/user.js';\nimport { registerSessionKey } from '../../../data/api/embeddedWallets/embeddedWallets.js';\nimport '../../../locale/locale.js';\nimport { dynamicEvents } from '../../../events/dynamicEvents.js';\n\nconst useEmbeddedWalletSessionKeys = ({ environmentId, projectSettings, }) => {\n    const { user } = useUser();\n    // scenario 1: first time session register on first transaction.\n    // Keys will have been previously generated at this point in local storage but marked as not registered\n    // scenario 2: 2nd time register after expiration (key refresh)\n    // scenario 3: refresh/rerender page - session still active\n    // scenario 4: refresh/rerender page - session no longer active\n    const registerEmbeddedWalletSessionKey = (...args_1) => __awaiter(void 0, [...args_1], void 0, function* ({ ignoreRestore = false, } = {}) {\n        // check if session keys are already stored in session storage\n        const sessionKeysSS = StorageService.getItem(SECURE_ENCLAVE_WALLET_SESSION_KEYS, SECURE_ENCLAVE_WALLET_SESSION_KEYS_STORAGE_OPTIONS);\n        const decodedSessionKeys = sessionKeysSS\n            ? JSON.parse(Buffer.from(sessionKeysSS, 'base64').toString())\n            : undefined;\n        if (!decodedSessionKeys) {\n            logger.warn('Could not find session keys. Re-authentication is required to create new session keys.');\n            dynamicEvents.emit('triggerLogout');\n            throw new Error('Could not find session keys. Re-authentication is required to create new session keys.');\n        }\n        if (!user) {\n            throw new Error('User not found');\n        }\n        if (decodedSessionKeys.expirationDate &&\n            new Date() <= new Date(decodedSessionKeys.expirationDate) &&\n            !ignoreRestore) {\n            // scenario 3\n            return decodedSessionKeys;\n        }\n        let publicKey;\n        let privateKey;\n        let privateKeyJwk;\n        let prevSessionKeySignature = undefined;\n        if (!decodedSessionKeys.registered) {\n            // scenario 1\n            ({ publicKey, privateKey, privateKeyJwk } = decodedSessionKeys);\n        }\n        else {\n            // scenario 2 and 4\n            const { publicKey: nextPublicKey, privateKey: nextPrivateKey, privateKeyJwk: nextPrivateKeyJwk, } = yield generateSessionKey();\n            publicKey = nextPublicKey;\n            privateKey = nextPrivateKey;\n            privateKeyJwk = nextPrivateKeyJwk;\n            prevSessionKeySignature = yield p256Sign(decodedSessionKeys.privateKeyJwk, user.sessionId);\n        }\n        let resp;\n        try {\n            resp = yield registerSessionKey({\n                environmentId,\n                prevSessionKeySignature,\n                publicKey,\n            });\n        }\n        catch (error) {\n            if (error instanceof InvalidEmbeddedWalletSessionKeyError) {\n                // this can happen if the public key passed during initial registration\n                // does not match the root session public key that the backend expects\n                logger.warn('Invalid embedded wallet session key. Re-authentication is required to create new session keys.');\n                dynamicEvents.emit('triggerLogout');\n            }\n            throw error;\n        }\n        const expirationDate = new Date(resp.expiresAt * 1000);\n        StorageService.setItem(SECURE_ENCLAVE_WALLET_SESSION_KEYS, toEncodedFormat(publicKey, privateKey, privateKeyJwk, true, expirationDate), SECURE_ENCLAVE_WALLET_SESSION_KEYS_STORAGE_OPTIONS);\n        return { expirationDate, privateKey, publicKey };\n    });\n    const generateSessionKey = () => __awaiter(void 0, void 0, void 0, function* () {\n        const { private: privateKey, public: publicKey, privateJwk, } = yield p256Keygen();\n        // convert to base64 and store the session keys in session storage\n        StorageService.setItem(SECURE_ENCLAVE_WALLET_SESSION_KEYS, toEncodedFormat(publicKey, privateKey, privateJwk, false), SECURE_ENCLAVE_WALLET_SESSION_KEYS_STORAGE_OPTIONS);\n        return { privateKey, privateKeyJwk: privateJwk, publicKey };\n    });\n    const getSessionPublicKey = () => {\n        const sessionKeysSS = StorageService.getItem(SECURE_ENCLAVE_WALLET_SESSION_KEYS, SECURE_ENCLAVE_WALLET_SESSION_KEYS_STORAGE_OPTIONS);\n        const decodedSessionKeys = sessionKeysSS\n            ? JSON.parse(Buffer.from(sessionKeysSS, 'base64').toString())\n            : undefined;\n        if (!(decodedSessionKeys === null || decodedSessionKeys === void 0 ? void 0 : decodedSessionKeys.publicKey)) {\n            throw new Error('Could not find session keys.');\n        }\n        return decodedSessionKeys === null || decodedSessionKeys === void 0 ? void 0 : decodedSessionKeys.publicKey;\n    };\n    const shouldRegisterSessionKeysOnSignin = () => {\n        var _a;\n        return ((_a = projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.sdk.embeddedWallets) === null || _a === void 0 ? void 0 : _a.defaultWalletVersion) ===\n            EmbeddedWalletVersionEnum.V2;\n    };\n    const toEncodedFormat = (publicKey, privateKey, privateKeyJwk, registered, expirationDate) => {\n        const sessionKeys = {\n            expirationDate,\n            privateKey,\n            privateKeyJwk,\n            publicKey,\n            registered,\n        };\n        const sessionKeysString = JSON.stringify(sessionKeys);\n        return Buffer.from(sessionKeysString).toString('base64');\n    };\n    const removeSessionKey = useCallback(() => StorageService.removeItem(SECURE_ENCLAVE_WALLET_SESSION_KEYS, SECURE_ENCLAVE_WALLET_SESSION_KEYS_STORAGE_OPTIONS), []);\n    return {\n        generateSessionKey,\n        getSessionPublicKey,\n        registerEmbeddedWalletSessionKey,\n        removeSessionKey,\n        shouldRegisterSessionKeysOnSignin,\n    };\n};\n\nexport { useEmbeddedWalletSessionKeys };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1093, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useForwardedRef/useForwardedRef.js"],"sourcesContent":["'use client'\nimport { useRef, useEffect } from 'react';\n\n// Allows access to a forwarded ref's \"current\" field\n// source: https://stackoverflow.com/questions/73015696/whats-the-difference-between-reacts-forwardedref-and-refobject\n//\nconst useForwardedRef = (ref) => {\n    const innerRef = useRef(null);\n    useEffect(() => {\n        if (!ref)\n            return;\n        if (typeof ref === 'function') {\n            ref(innerRef.current);\n        }\n        else {\n            ref.current = innerRef.current;\n        }\n    }, [ref, innerRef]);\n    return innerRef;\n};\n\nexport { useForwardedRef };\n"],"names":[],"mappings":";;;AACA;AADA;;AAGA,qDAAqD;AACrD,sHAAsH;AACtH,EAAE;AACF,MAAM,kBAAkB,CAAC;IACrB,MAAM,WAAW,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IACxB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;qCAAE;YACN,IAAI,CAAC,KACD;YACJ,IAAI,OAAO,QAAQ,YAAY;gBAC3B,IAAI,SAAS,OAAO;YACxB,OACK;gBACD,IAAI,OAAO,GAAG,SAAS,OAAO;YAClC;QACJ;oCAAG;QAAC;QAAK;KAAS;IAClB,OAAO;AACX","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1126, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useIsFirstRender/useIsFirstRender.js"],"sourcesContent":["'use client'\nimport { useRef, useEffect } from 'react';\n\nconst useIsFirstRender = () => {\n    const isFirst = useRef(true);\n    // force it to be false on second client render only avoiding SSR issues\n    useEffect(() => {\n        if (isFirst.current) {\n            isFirst.current = false;\n        }\n    }, []);\n    return isFirst.current;\n};\n\nexport { useIsFirstRender };\n"],"names":[],"mappings":";;;AACA;AADA;;AAGA,MAAM,mBAAmB;IACrB,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IACvB,wEAAwE;IACxE,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;sCAAE;YACN,IAAI,QAAQ,OAAO,EAAE;gBACjB,QAAQ,OAAO,GAAG;YACtB;QACJ;qCAAG,EAAE;IACL,OAAO,QAAQ,OAAO;AAC1B","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1151, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useUpdateEffect/useUpdateEffect.js"],"sourcesContent":["'use client'\nimport { useEffect } from 'react';\nimport { useIsFirstRender } from '../useIsFirstRender/useIsFirstRender.js';\n\nconst useUpdateEffect = (effect, deps) => {\n    const isFirst = useIsFirstRender();\n    useEffect(() => {\n        if (!isFirst) {\n            return effect();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, deps);\n};\n\nexport { useUpdateEffect };\n"],"names":[],"mappings":";;;AACA;AACA;AAFA;;;AAIA,MAAM,kBAAkB,CAAC,QAAQ;IAC7B,MAAM,UAAU,CAAA,GAAA,oOAAA,CAAA,mBAAgB,AAAD;IAC/B,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;qCAAE;YACN,IAAI,CAAC,SAAS;gBACV,OAAO;YACX;QACA,uDAAuD;QAC3D;oCAAG;AACP","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1177, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useTransitionEvents/useTransitionEvents.js"],"sourcesContent":["'use client'\nimport { useUpdateEffect } from '../useUpdateEffect/useUpdateEffect.js';\n\nconst useTransitionEvents = (stage, events) => {\n    const mapCallbackToStage = {\n        ENTERED: events === null || events === void 0 ? void 0 : events.onEntered,\n        ENTERING: events === null || events === void 0 ? void 0 : events.onEntering,\n        EXITING: events === null || events === void 0 ? void 0 : events.onExiting,\n        UNMOUNT: events === null || events === void 0 ? void 0 : events.onUnmount,\n    };\n    return useUpdateEffect(() => {\n        var _a;\n        (_a = mapCallbackToStage[stage]) === null || _a === void 0 ? void 0 : _a.call(mapCallbackToStage);\n        return () => {\n            var _a;\n            if (stage === 'EXITING') {\n                (_a = mapCallbackToStage.UNMOUNT) === null || _a === void 0 ? void 0 : _a.call(mapCallbackToStage);\n            }\n        };\n    }, [stage]);\n};\n\nexport { useTransitionEvents };\n"],"names":[],"mappings":";;;AACA;AADA;;AAGA,MAAM,sBAAsB,CAAC,OAAO;IAChC,MAAM,qBAAqB;QACvB,SAAS,WAAW,QAAQ,WAAW,KAAK,IAAI,KAAK,IAAI,OAAO,SAAS;QACzE,UAAU,WAAW,QAAQ,WAAW,KAAK,IAAI,KAAK,IAAI,OAAO,UAAU;QAC3E,SAAS,WAAW,QAAQ,WAAW,KAAK,IAAI,KAAK,IAAI,OAAO,SAAS;QACzE,SAAS,WAAW,QAAQ,WAAW,KAAK,IAAI,KAAK,IAAI,OAAO,SAAS;IAC7E;IACA,OAAO,CAAA,GAAA,kOAAA,CAAA,kBAAe,AAAD;+CAAE;YACnB,IAAI;YACJ,CAAC,KAAK,kBAAkB,CAAC,MAAM,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,IAAI,CAAC;YAC9E;uDAAO;oBACH,IAAI;oBACJ,IAAI,UAAU,WAAW;wBACrB,CAAC,KAAK,mBAAmB,OAAO,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,IAAI,CAAC;oBACnF;gBACJ;;QACJ;8CAAG;QAAC;KAAM;AACd","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1214, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useTransition/useTransition.js"],"sourcesContent":["'use client'\nimport { __rest } from '../../../../../_virtual/_tslib.js';\nimport { useRef, useState, useCallback, useEffect } from 'react';\nimport { animationFrameTimeout, clearAnimationFrameTimeout } from '../../functions/animationFrameTimeout/animationFrameTimeout.js';\nimport { useTransitionEvents } from '../useTransitionEvents/useTransitionEvents.js';\n\nconst DEFAULT_DURATION = 100;\n// The hook inspired by https://github.com/reactjs/react-transition-group/blob/master/src/Transition.js\nconst useTransition = (_a) => {\n    var { isShown, inDuration, outDuration, duration = DEFAULT_DURATION, delay, inDelay, outDelay, animateOnMount = true } = _a, events = __rest(_a, [\"isShown\", \"inDuration\", \"outDuration\", \"duration\", \"delay\", \"inDelay\", \"outDelay\", \"animateOnMount\"]);\n    const initialStage = animateOnMount ? 'UNMOUNT' : 'ENTERED';\n    const animationFrameTimeoutIdRef = useRef({ id: -1 });\n    const timeoutIdRef = useRef({ id: -1 });\n    const [stage, setStage] = useState(initialStage);\n    const [mount, setMount] = useState(!animateOnMount);\n    const [currentDuration, setCurrentDuration] = useState(duration);\n    const performTransition = (runTransition, transitionDelay) => {\n        if (transitionDelay) {\n            timeoutIdRef.current = animationFrameTimeout(runTransition, transitionDelay);\n        }\n        else {\n            runTransition();\n        }\n    };\n    const performEnter = useCallback(() => {\n        const animationDuration = inDuration || duration;\n        setCurrentDuration(animationDuration);\n        setMount(true);\n        setStage('ENTERING');\n        animationFrameTimeoutIdRef.current = animationFrameTimeout(() => {\n            setStage('ENTERED');\n        }, animationDuration);\n    }, [duration, inDuration]);\n    const performExit = useCallback(() => {\n        const animationDuration = outDuration || duration;\n        setCurrentDuration(animationDuration);\n        setStage('EXITING');\n        animationFrameTimeoutIdRef.current = animationFrameTimeout(() => {\n            setMount(false);\n            setStage('UNMOUNT');\n        }, animationDuration);\n    }, [duration, outDuration]);\n    useEffect(() => {\n        if (isShown && stage !== 'ENTERED') {\n            const enterDelay = inDelay || delay;\n            performTransition(performEnter, enterDelay);\n        }\n        else if (!isShown && stage !== 'UNMOUNT') {\n            const exitDelay = outDelay || delay;\n            performTransition(performExit, exitDelay);\n        }\n        return () => {\n            clearAnimationFrameTimeout(animationFrameTimeoutIdRef.current);\n            clearAnimationFrameTimeout(timeoutIdRef.current);\n        };\n    }, [inDelay, outDelay, performEnter, performExit, isShown, delay, stage]);\n    useTransitionEvents(stage, events);\n    return { currentDuration, mount, stage };\n};\n\nexport { DEFAULT_DURATION, useTransition };\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AAJA;;;;;AAMA,MAAM,mBAAmB;AACzB,uGAAuG;AACvG,MAAM,gBAAgB,CAAC;IACnB,IAAI,EAAE,OAAO,EAAE,UAAU,EAAE,WAAW,EAAE,WAAW,gBAAgB,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,iBAAiB,IAAI,EAAE,GAAG,IAAI,SAAS,CAAA,GAAA,kLAAA,CAAA,SAAM,AAAD,EAAE,IAAI;QAAC;QAAW;QAAc;QAAe;QAAY;QAAS;QAAW;QAAY;KAAiB;IACvP,MAAM,eAAe,iBAAiB,YAAY;IAClD,MAAM,6BAA6B,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;QAAE,IAAI,CAAC;IAAE;IACnD,MAAM,eAAe,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;QAAE,IAAI,CAAC;IAAE;IACrC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,CAAC;IACpC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvD,MAAM,oBAAoB,CAAC,eAAe;QACtC,IAAI,iBAAiB;YACjB,aAAa,OAAO,GAAG,CAAA,GAAA,kPAAA,CAAA,wBAAqB,AAAD,EAAE,eAAe;QAChE,OACK;YACD;QACJ;IACJ;IACA,MAAM,eAAe,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;mDAAE;YAC7B,MAAM,oBAAoB,cAAc;YACxC,mBAAmB;YACnB,SAAS;YACT,SAAS;YACT,2BAA2B,OAAO,GAAG,CAAA,GAAA,kPAAA,CAAA,wBAAqB,AAAD;2DAAE;oBACvD,SAAS;gBACb;0DAAG;QACP;kDAAG;QAAC;QAAU;KAAW;IACzB,MAAM,cAAc,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;kDAAE;YAC5B,MAAM,oBAAoB,eAAe;YACzC,mBAAmB;YACnB,SAAS;YACT,2BAA2B,OAAO,GAAG,CAAA,GAAA,kPAAA,CAAA,wBAAqB,AAAD;0DAAE;oBACvD,SAAS;oBACT,SAAS;gBACb;yDAAG;QACP;iDAAG;QAAC;QAAU;KAAY;IAC1B,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;mCAAE;YACN,IAAI,WAAW,UAAU,WAAW;gBAChC,MAAM,aAAa,WAAW;gBAC9B,kBAAkB,cAAc;YACpC,OACK,IAAI,CAAC,WAAW,UAAU,WAAW;gBACtC,MAAM,YAAY,YAAY;gBAC9B,kBAAkB,aAAa;YACnC;YACA;2CAAO;oBACH,CAAA,GAAA,kPAAA,CAAA,6BAA0B,AAAD,EAAE,2BAA2B,OAAO;oBAC7D,CAAA,GAAA,kPAAA,CAAA,6BAA0B,AAAD,EAAE,aAAa,OAAO;gBACnD;;QACJ;kCAAG;QAAC;QAAS;QAAU;QAAc;QAAa;QAAS;QAAO;KAAM;IACxE,CAAA,GAAA,0OAAA,CAAA,sBAAmB,AAAD,EAAE,OAAO;IAC3B,OAAO;QAAE;QAAiB;QAAO;IAAM;AAC3C","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1328, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useForceUpdate/useForceUpdate.js"],"sourcesContent":["'use client'\nimport { useState } from 'react';\n\nconst useForceUpdate = () => {\n    const [, setValue] = useState(0);\n    return () => setValue((value) => value + 1);\n};\n\nexport { useForceUpdate };\n"],"names":[],"mappings":";;;AACA;AADA;;AAGA,MAAM,iBAAiB;IACnB,MAAM,GAAG,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC9B,OAAO,IAAM,SAAS,CAAC,QAAU,QAAQ;AAC7C","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1345, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/usePrevious/usePrevious.js"],"sourcesContent":["'use client'\nimport { useRef, useEffect } from 'react';\n\n/**\n * This is used to track a previous value of a variable.\n *\n * Example:\n *   const someHook = ({ value }) => {\n *     const previousValue = usePrevious(value);\n *     useEffect(() => {\n *      if (previousValue !== value) {\n *        // do something\n *      }\n *     }, [value, previousValue]);\n *   }\n *\n * When someHook is rendered for the first time with value = true, previousValue will be undefined\n * so the condition will be true and the effect will run. When someHook is rendered again with\n * value = true, previousValue will have been set to true so the condition will be false and the\n * effect will not run.\n */\nconst usePrevious = (value) => {\n    const ref = useRef();\n    useEffect(() => {\n        ref.current = value;\n    }, [value]);\n    return ref.current;\n};\n\nexport { usePrevious };\n"],"names":[],"mappings":";;;AACA;AADA;;AAGA;;;;;;;;;;;;;;;;;CAiBC,GACD,MAAM,cAAc,CAAC;IACjB,MAAM,MAAM,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD;IACjB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;iCAAE;YACN,IAAI,OAAO,GAAG;QAClB;gCAAG;QAAC;KAAM;IACV,OAAO,IAAI,OAAO;AACtB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1386, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useIsomorphicLayoutEffect/useIsomorphicLayoutEffect.js"],"sourcesContent":["'use client'\nimport { useLayoutEffect, useEffect } from 'react';\n\n// https://usehooks-ts.com/react-hook/use-isomorphic-layout-effect\nconst useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\nexport { useIsomorphicLayoutEffect };\n"],"names":[],"mappings":";;;AACA;AADA;;AAGA,kEAAkE;AAClE,MAAM,4BAA4B,OAAO,WAAW,cAAc,6JAAA,CAAA,kBAAe,GAAG,6JAAA,CAAA,YAAS","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1401, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useInterval/useInterval.js"],"sourcesContent":["'use client'\nimport { useRef, useEffect } from 'react';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect/useIsomorphicLayoutEffect.js';\n\n// https://usehooks-ts.com/react-hook/use-interval\nconst useInterval = (callback, delay) => {\n    const savedCallback = useRef(callback);\n    // Remember the latest callback if it changes.\n    useIsomorphicLayoutEffect(() => {\n        savedCallback.current = callback;\n    }, [callback]);\n    // Set up the interval.\n    useEffect(() => {\n        // Don't schedule if no delay is specified.\n        // Note: 0 is a valid value for delay.\n        if (!delay && delay !== 0) {\n            return;\n        }\n        const id = setInterval(() => savedCallback.current(), delay);\n        return () => clearInterval(id);\n    }, [delay]);\n};\n\nexport { useInterval };\n"],"names":[],"mappings":";;;AACA;AACA;AAFA;;;AAIA,kDAAkD;AAClD,MAAM,cAAc,CAAC,UAAU;IAC3B,MAAM,gBAAgB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IAC7B,8CAA8C;IAC9C,CAAA,GAAA,sPAAA,CAAA,4BAAyB,AAAD;iDAAE;YACtB,cAAc,OAAO,GAAG;QAC5B;gDAAG;QAAC;KAAS;IACb,uBAAuB;IACvB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;iCAAE;YACN,2CAA2C;YAC3C,sCAAsC;YACtC,IAAI,CAAC,SAAS,UAAU,GAAG;gBACvB;YACJ;YACA,MAAM,KAAK;4CAAY,IAAM,cAAc,OAAO;2CAAI;YACtD;yCAAO,IAAM,cAAc;;QAC/B;gCAAG;QAAC;KAAM;AACd","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1446, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useMutation/useMutation.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useState, useCallback } from 'react';\nimport { logger } from '@dynamic-labs/wallet-connector-core';\n\nconst useMutation = (mutation, options = {}) => {\n    const [state, setState] = useState({\n        isLoading: false,\n    });\n    const mutate = useCallback((variables) => __awaiter(void 0, void 0, void 0, function* () {\n        var _a, _b;\n        let data;\n        setState({\n            isLoading: true,\n        });\n        try {\n            const mutationResult = mutation(variables);\n            if (mutationResult instanceof Promise) {\n                data = yield mutationResult;\n            }\n            else {\n                data = mutationResult;\n            }\n            setState({\n                data,\n                isLoading: false,\n            });\n            try {\n                (_a = options === null || options === void 0 ? void 0 : options.onSuccess) === null || _a === void 0 ? void 0 : _a.call(options, data, variables);\n            }\n            catch (err) {\n                logger.error(err);\n            }\n            return data;\n        }\n        catch (error) {\n            setState({ error: error, isLoading: false });\n            logger.error(error);\n            try {\n                (_b = options === null || options === void 0 ? void 0 : options.onFailure) === null || _b === void 0 ? void 0 : _b.call(options, error, variables);\n            }\n            catch (err) {\n                logger.error(err);\n            }\n        }\n        return undefined;\n    }), [mutation, options]);\n    return Object.assign(Object.assign({}, state), { hasData: Boolean(state.data), hasError: Boolean(state.error), mutate });\n};\n\nexport { useMutation };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AAAA;AAHA;;;;AAKA,MAAM,cAAc,CAAC,UAAU,UAAU,CAAC,CAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;QAC/B,WAAW;IACf;IACA,MAAM,SAAS,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;2CAAE,CAAC,YAAc,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK;mDAAG;oBACxE,IAAI,IAAI;oBACR,IAAI;oBACJ,SAAS;wBACL,WAAW;oBACf;oBACA,IAAI;wBACA,MAAM,iBAAiB,SAAS;wBAChC,IAAI,0BAA0B,SAAS;4BACnC,OAAO,MAAM;wBACjB,OACK;4BACD,OAAO;wBACX;wBACA,SAAS;4BACL;4BACA,WAAW;wBACf;wBACA,IAAI;4BACA,CAAC,KAAK,YAAY,QAAQ,YAAY,KAAK,IAAI,KAAK,IAAI,QAAQ,SAAS,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,IAAI,CAAC,SAAS,MAAM;wBAC3I,EACA,OAAO,KAAK;4BACR,6LAAA,CAAA,SAAM,CAAC,KAAK,CAAC;wBACjB;wBACA,OAAO;oBACX,EACA,OAAO,OAAO;wBACV,SAAS;4BAAE,OAAO;4BAAO,WAAW;wBAAM;wBAC1C,6LAAA,CAAA,SAAM,CAAC,KAAK,CAAC;wBACb,IAAI;4BACA,CAAC,KAAK,YAAY,QAAQ,YAAY,KAAK,IAAI,KAAK,IAAI,QAAQ,SAAS,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,IAAI,CAAC,SAAS,OAAO;wBAC5I,EACA,OAAO,KAAK;4BACR,6LAAA,CAAA,SAAM,CAAC,KAAK,CAAC;wBACjB;oBACJ;oBACA,OAAO;gBACX;;0CAAI;QAAC;QAAU;KAAQ;IACvB,OAAO,OAAO,MAAM,CAAC,OAAO,MAAM,CAAC,CAAC,GAAG,QAAQ;QAAE,SAAS,QAAQ,MAAM,IAAI;QAAG,UAAU,QAAQ,MAAM,KAAK;QAAG;IAAO;AAC1H","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1518, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useElementById/useElementById.js"],"sourcesContent":["'use client'\nimport { useRef, useCallback } from 'react';\n\nconst useElementById = () => {\n    const targetElement = useRef(null);\n    const createRootElement = useCallback((elementId = 'dynamic-modal', parentElementId) => {\n        if (typeof window === 'undefined')\n            return targetElement;\n        const isElementCreated = window.document.getElementById(elementId);\n        if (isElementCreated) {\n            targetElement.current = isElementCreated;\n            return targetElement;\n        }\n        const parentElement = parentElementId\n            ? window.document.getElementById(parentElementId)\n            : undefined;\n        // creates div and attaches it to the body\n        targetElement.current = window.document.createElement('div');\n        targetElement.current.setAttribute('id', elementId);\n        targetElement.current.setAttribute('class', elementId);\n        targetElement.current.setAttribute('data-testid', elementId);\n        /**\n         * Setting the pointer-events to auto is necessary to allow the user to interact with the modal\n         * when other packages that use a modal set the pointer-events to none on the body element.\n         * For example: https://reservoir.tools/ use chakra-ui and sets the pointer-events to none on the body element.\n         */\n        targetElement.current.style.pointerEvents = 'auto';\n        if (parentElement) {\n            parentElement.appendChild(targetElement.current);\n        }\n        else {\n            window.document.body.appendChild(targetElement.current);\n        }\n        return targetElement;\n    }, []);\n    return {\n        createRootElement,\n    };\n};\n\nexport { useElementById };\n"],"names":[],"mappings":";;;AACA;AADA;;AAGA,MAAM,iBAAiB;IACnB,MAAM,gBAAgB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IAC7B,MAAM,oBAAoB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;yDAAE,CAAC,YAAY,eAAe,EAAE;YAChE,IAAI,OAAO,WAAW,aAClB,OAAO;YACX,MAAM,mBAAmB,OAAO,QAAQ,CAAC,cAAc,CAAC;YACxD,IAAI,kBAAkB;gBAClB,cAAc,OAAO,GAAG;gBACxB,OAAO;YACX;YACA,MAAM,gBAAgB,kBAChB,OAAO,QAAQ,CAAC,cAAc,CAAC,mBAC/B;YACN,0CAA0C;YAC1C,cAAc,OAAO,GAAG,OAAO,QAAQ,CAAC,aAAa,CAAC;YACtD,cAAc,OAAO,CAAC,YAAY,CAAC,MAAM;YACzC,cAAc,OAAO,CAAC,YAAY,CAAC,SAAS;YAC5C,cAAc,OAAO,CAAC,YAAY,CAAC,eAAe;YAClD;;;;SAIC,GACD,cAAc,OAAO,CAAC,KAAK,CAAC,aAAa,GAAG;YAC5C,IAAI,eAAe;gBACf,cAAc,WAAW,CAAC,cAAc,OAAO;YACnD,OACK;gBACD,OAAO,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,OAAO;YAC1D;YACA,OAAO;QACX;wDAAG,EAAE;IACL,OAAO;QACH;IACJ;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1564, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useHover/useHover.js"],"sourcesContent":["'use client'\nimport { useState } from 'react';\n\nconst useHover = ({ initialValue = false, falseOnClick = false, onHover, onHoverOff, }) => {\n    const [hover, setHover] = useState(initialValue);\n    const handlers = {\n        onMouseDown: () => setHover(true),\n        onMouseEnter: () => {\n            onHover === null || onHover === void 0 ? void 0 : onHover();\n            setHover(true);\n        },\n        onMouseLeave: () => {\n            onHoverOff === null || onHoverOff === void 0 ? void 0 : onHoverOff();\n            setHover(false);\n        },\n        onMouseUp: () => setHover(falseOnClick),\n    };\n    return [hover, handlers];\n};\n\nexport { useHover };\n"],"names":[],"mappings":";;;AACA;AADA;;AAGA,MAAM,WAAW,CAAC,EAAE,eAAe,KAAK,EAAE,eAAe,KAAK,EAAE,OAAO,EAAE,UAAU,EAAG;IAClF,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,WAAW;QACb,aAAa,IAAM,SAAS;QAC5B,cAAc;YACV,YAAY,QAAQ,YAAY,KAAK,IAAI,KAAK,IAAI;YAClD,SAAS;QACb;QACA,cAAc;YACV,eAAe,QAAQ,eAAe,KAAK,IAAI,KAAK,IAAI;YACxD,SAAS;QACb;QACA,WAAW,IAAM,SAAS;IAC9B;IACA,OAAO;QAAC;QAAO;KAAS;AAC5B","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1596, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useWalletItemActions/useHandleWalletItem/useHandleWalletItem.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../../_virtual/_tslib.js';\nimport { StorageService, isMobile, UserRejectedRequestError } from '@dynamic-labs/utils';\nimport { isPhantomRedirectConnector, isWalletConnectConnector } from '@dynamic-labs/wallet-connector-core';\nimport 'react';\nimport '../../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport { logger } from '../../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport 'react/jsx-runtime';\nimport { useViewContext } from '../../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport { PHANTOM_SIGNATURE_STATE } from '../../../constants/localStorage.js';\nimport '../../../constants/colors.js';\nimport '../../../constants/values.js';\nimport '../../../../shared/consts/index.js';\nimport { dynamicEvents } from '../../../../events/dynamicEvents.js';\nimport '../../../../context/CaptchaContext/CaptchaContext.js';\nimport { useErrorContext } from '../../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../../store/state/nonce/nonce.js';\nimport { requiresTwoStepAuthentication } from '../../../functions/requiresTwoStepAuthentication/requiresTwoStepAuthentication.js';\nimport '../../../../store/state/projectSettings/projectSettings.js';\nimport '../../../../config/ApiEndpoint.js';\nimport '../../../../store/state/user/user.js';\nimport '../../../../locale/locale.js';\nimport '../../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../../functions/compareChains/compareChains.js';\nimport '../../../../context/ThemeContext/ThemeContext.js';\nimport '../../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../../context/LoadingContext/LoadingContext.js';\nimport '../../../../context/WalletContext/WalletContext.js';\nimport '../../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport { useMockContext } from '../../../../context/MockContext/MockContext.js';\nimport '../../../../views/CollectUserDataView/useFields.js';\nimport '../../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../../store/state/loadingAndLifecycle.js';\nimport '../../../../store/state/walletOptions/walletOptions.js';\nimport { isSelectedWalletAlreadyConnected } from '../../../functions/isSelectedWalletAlreadyConnected/isSelectedWalletAlreadyConnected.js';\nimport 'react-i18next';\nimport '../../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../../components/Alert/Alert.js';\nimport '../../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../../components/IconButton/IconButton.js';\nimport '../../../../components/InlineWidget/InlineWidget.js';\nimport '../../../../components/Input/Input.js';\nimport '../../../../components/IsBrowser/IsBrowser.js';\nimport '../../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../../components/OverlayCard/OverlayCard.js';\nimport '../../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../../components/Popper/Popper/Popper.js';\nimport '../../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../../context/FooterAnimationContext/index.js';\nimport '../../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../../store/state/sendBalances.js';\nimport '../../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../../context/OnrampContext/OnrampContext.js';\nimport '../../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../../index.js';\nimport '../../../../store/state/tokenBalances.js';\nimport '../../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useHandleWalletItem = ({ allowAlreadyConnectedWallet, onQrCodeConnect, onConnectOnly, onCustodialWallet, onInstalledExtension, }) => {\n    const { setMultiWalletWidgetState, setShowAuthFlow, setSelectedWalletConnectorKey, walletConnectorOptions, setQrcodeUri, setDesktopUri, user, linkedWallets, setLegacyIsVerifying, authMode, } = useInternalDynamicContext();\n    const { mockedSDK } = useMockContext();\n    const { setError, setErrorMessage } = useErrorContext();\n    const { pushView, clearStackAndPushInitialView } = useViewContext();\n    const handleCustodialWalletClick = (walletConnector) => __awaiter(void 0, void 0, void 0, function* () {\n        logger.debug('handleCustodialWalletClick', walletConnector);\n        const twoStepAuthentication = requiresTwoStepAuthentication(walletConnector);\n        logger.logVerboseTroubleshootingMessage('[handleCustodialWalletClick]', {\n            twoStepAuthentication,\n        });\n        setSelectedWalletConnectorKey(walletConnector.key);\n        return onCustodialWallet({\n            requiresTwoStepAuthentication: twoStepAuthentication,\n            walletConnector,\n        });\n    });\n    const handleMobileWalletClick = (walletConnector) => __awaiter(void 0, void 0, void 0, function* () {\n        var _a;\n        logger.debug('handleMobileWalletClick', walletConnector);\n        setSelectedWalletConnectorKey(walletConnector.key);\n        // We need to set to LS when about to verify phantom wallet on mobile\n        // because the deeplink interrupts this code execution and then redirects back on a new tab.\n        // This resets all state (except for LS obviously). When we receive the phantom signature in this new tab,\n        // we can't tell whether it's supposed to be used to sign a message, verify a wallet sign in/link,\n        // or conclude a wallet transfer, which is why we need this LS variable: it will indicate whether it\n        // is a signature, authentication or transfer.\n        // Check method handleUserResponse in file useResponseHandlers, case 'signMessage'.\n        if (walletConnector.key === 'phantom') {\n            const currentState = StorageService.getItem(PHANTOM_SIGNATURE_STATE);\n            StorageService.setItem(PHANTOM_SIGNATURE_STATE, {\n                loseOriginalAccountOnTransfer: (_a = currentState === null || currentState === void 0 ? void 0 : currentState.loseOriginalAccountOnTransfer) !== null && _a !== void 0 ? _a : false,\n                submittedAtTimestamp: new Date().toString(),\n                verificationType: 'awaiting_verification',\n            });\n        }\n        const attemptConnection = () => {\n            onConnectOnly({ shouldShowPendingConnectView: false, walletConnector });\n        };\n        pushView('mobile-wallet-redirect-view', { onRetry: attemptConnection });\n        attemptConnection();\n    });\n    const handleInstalledExtensionClick = (walletConnector) => __awaiter(void 0, void 0, void 0, function* () {\n        logger.debug('handleInstalledExtensionClick', walletConnector);\n        setSelectedWalletConnectorKey(walletConnector.key);\n        return onInstalledExtension({ walletConnector });\n    });\n    const handleUninstalledClick = (walletConnector) => __awaiter(void 0, void 0, void 0, function* () {\n        logger.debug('handleUninstalledClick', walletConnector);\n        setSelectedWalletConnectorKey(walletConnector.key);\n        if (!walletConnector.canConnectViaQrCode) {\n            pushView('no-qr-not-installed');\n        }\n        else {\n            onQrCodeConnect({\n                getAddressOpts: {\n                    onDesktopUri: (uri) => __awaiter(void 0, void 0, void 0, function* () {\n                        setDesktopUri(uri);\n                    }),\n                    onDisplayUri: (uri) => __awaiter(void 0, void 0, void 0, function* () {\n                        setQrcodeUri(uri);\n                    }),\n                },\n                walletConnector,\n            });\n            pushView('qr-code');\n        }\n        setError(undefined);\n    });\n    const handleAlreadyConnectedWallet = (walletConnector) => __awaiter(void 0, void 0, void 0, function* () {\n        logger.debug('handleAlreadyConnectedWallet', walletConnector);\n        setShowAuthFlow(false);\n        const connectedAccounts = yield walletConnector.getConnectedAccounts();\n        const activeAccountAlreadyLinked = linkedWallets.find((wallet) => { var _a; return wallet.address.toLowerCase() === ((_a = connectedAccounts[0]) === null || _a === void 0 ? void 0 : _a.toLowerCase()); });\n        logger.logVerboseTroubleshootingMessage('[handleAlreadyConnectedWallet]', {\n            activeAccountAlreadyLinked,\n            connectedAccounts,\n            linkedWallets,\n            walletConnectorKey: walletConnector.key,\n        });\n        setSelectedWalletConnectorKey(walletConnector.key);\n        if (!activeAccountAlreadyLinked) {\n            setMultiWalletWidgetState('awaiting_signature', undefined, 'linking_new_wallet');\n            return;\n        }\n        const isTryingToUpdateUnknownWallet = activeAccountAlreadyLinked.connector.key === 'unknown';\n        if (isTryingToUpdateUnknownWallet) {\n            //prompt the user to connect and sign with the wallet\n            dynamicEvents.emit('triggerConnectAndSign', walletConnector);\n            return;\n        }\n        setMultiWalletWidgetState('awaiting_account_switch', 'linking_new_wallet');\n    });\n    const openWallet = (walletKey, handlers) => {\n        var _a;\n        const { openMobileWallet = handleMobileWalletClick, openCustodialWallet = handleCustodialWalletClick, openExtensionWallet = handleInstalledExtensionClick, } = handlers || {};\n        const walletConnector = (_a = walletConnectorOptions.find((wallet) => wallet.key === walletKey)) === null || _a === void 0 ? void 0 : _a.walletConnector;\n        if (!walletConnector)\n            return;\n        if (isMobile()) {\n            openMobileWallet(walletConnector);\n        }\n        else if (walletConnector.canConnectViaCustodialService) {\n            openCustodialWallet(walletConnector);\n        }\n        else if (walletConnector.isInstalledOnBrowser()) {\n            openExtensionWallet(walletConnector);\n        }\n    };\n    const handleWalletItemClick = (wallet) => __awaiter(void 0, void 0, void 0, function* () {\n        const { walletConnector, isInstalledOnBrowser } = wallet;\n        const shouldEndWalletConnectorSession = walletConnector.connectedChain === 'FLOW' ||\n            isPhantomRedirectConnector(walletConnector) ||\n            // because WC only supports one connection at a time,\n            // we need to end the session (disconnect) when the user selects\n            // a different wallet to connect with\n            // a new connection is established a few steps further down\n            isWalletConnectConnector(walletConnector);\n        logger.logVerboseTroubleshootingMessage('[handleWalletItemClick]', {\n            mockedSDK,\n            shouldEndWalletConnectorSession,\n            wallet,\n        });\n        if (mockedSDK)\n            return;\n        if (shouldEndWalletConnectorSession) {\n            yield walletConnector.endSession();\n        }\n        setLegacyIsVerifying(false);\n        const isMetamask = walletConnector.key === 'metamask';\n        // in connect only we only allow one account to be connected in the same wallet\n        // also this is only a feature in MM\n        if (authMode !== 'connect-only' && isMetamask) {\n            try {\n                setSelectedWalletConnectorKey(walletConnector.key);\n                pushView('pending-connect');\n                yield walletConnector.chooseAccountsToConnect();\n            }\n            catch (error) {\n                if (error instanceof UserRejectedRequestError) {\n                    setErrorMessage('connection_rejected');\n                    clearStackAndPushInitialView();\n                    return;\n                }\n            }\n        }\n        if (!allowAlreadyConnectedWallet &&\n            isSelectedWalletAlreadyConnected(linkedWallets, walletConnector, user) &&\n            walletConnector.connectedChain !== 'FLOW' &&\n            !walletConnector.isWalletConnect) {\n            // wallet is already connected\n            handleAlreadyConnectedWallet(walletConnector);\n        }\n        else if (walletConnector.canConnectViaCustodialService) {\n            // providers like coinbase, blocto and dapper\n            handleCustodialWalletClick(walletConnector);\n        }\n        else if (isMobile()) {\n            // mobile wallets\n            if (walletConnector.key === 'walletconnect') {\n                pushView('wallet-connect-mobile-wallets-list');\n            }\n            else {\n                handleMobileWalletClick(walletConnector);\n            }\n        }\n        else if (isInstalledOnBrowser) {\n            // browser extensions or injected wallets\n            handleInstalledExtensionClick(walletConnector);\n        }\n        else {\n            // wallet requiring a qr code (wallet connect/coinbase wallet)\n            handleUninstalledClick(walletConnector);\n        }\n    });\n    return {\n        handleAlreadyConnectedWallet,\n        handleCustodialWalletClick,\n        handleInstalledExtensionClick,\n        handleMobileWalletClick,\n        handleUninstalledClick,\n        handleWalletItemClick,\n        openWallet,\n    };\n};\n\nexport { useHandleWalletItem };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1978, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useWalletItemActions/useWalletItemActions.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport 'react';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport { useViewContext } from '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport { useConnectAndSign } from '../authenticationHooks/useConnectAndSign/useConnectAndSign.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../config/ApiEndpoint.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport { useConnectAndSignSplitSteps } from '../authenticationHooks/useConnectAndSignSplitSteps/useConnectAndSignSplitSteps.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport { useHandleWalletItem } from './useHandleWalletItem/useHandleWalletItem.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useWalletItemActions = () => {\n    const { setMultiWalletWidgetState, authMode } = useInternalDynamicContext();\n    const { onlyConnectUser } = useConnectAndSignSplitSteps();\n    const connectAndSignWallet = useConnectAndSign();\n    const { pushView } = useViewContext();\n    const handleExtensionAndCustodial = (_a) => __awaiter(void 0, [_a], void 0, function* ({ requiresTwoStepAuthentication, walletConnector, }) {\n        if (requiresTwoStepAuthentication || authMode === 'connect-only') {\n            pushView('pending-connect');\n            yield onlyConnectUser({ walletConnector });\n        }\n        else {\n            // See useVerifyOnAwaitingSignature's useEffect for more context.\n            setMultiWalletWidgetState('awaiting_signature', undefined, 'linking_new_wallet');\n        }\n    });\n    return useHandleWalletItem({\n        allowAlreadyConnectedWallet: false,\n        onConnectOnly: onlyConnectUser,\n        onCustodialWallet: handleExtensionAndCustodial,\n        onInstalledExtension: handleExtensionAndCustodial,\n        onQrCodeConnect: connectAndSignWallet,\n    });\n};\n\nexport { useWalletItemActions };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA,MAAM,uBAAuB;IACzB,MAAM,EAAE,yBAAyB,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IACxE,MAAM,EAAE,eAAe,EAAE,GAAG,CAAA,GAAA,iRAAA,CAAA,8BAA2B,AAAD;IACtD,MAAM,uBAAuB,CAAA,GAAA,6PAAA,CAAA,oBAAiB,AAAD;IAC7C,MAAM,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,mNAAA,CAAA,iBAAc,AAAD;IAClC,MAAM,8BAA8B,CAAC,KAAO,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG;YAAC;SAAG,EAAE,KAAK,GAAG,UAAW,EAAE,6BAA6B,EAAE,eAAe,EAAG;YACtI,IAAI,iCAAiC,aAAa,gBAAgB;gBAC9D,SAAS;gBACT,MAAM,gBAAgB;oBAAE;gBAAgB;YAC5C,OACK;gBACD,iEAAiE;gBACjE,0BAA0B,sBAAsB,WAAW;YAC/D;QACJ;IACA,OAAO,CAAA,GAAA,kQAAA,CAAA,sBAAmB,AAAD,EAAE;QACvB,6BAA6B;QAC7B,eAAe;QACf,mBAAmB;QACnB,sBAAsB;QACtB,iBAAiB;IACrB;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2202, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useWalletOptions/useWalletOptions.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useCallback, useMemo } from 'react';\nimport { isHardwareWalletConnector } from '@dynamic-labs/wallet-connector-core';\nimport { DynamicError } from '@dynamic-labs/utils';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport { logger } from '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport 'react/jsx-runtime';\nimport { useViewContext } from '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport { isWalletGroup } from '../../functions/walletListBuilder/utils/isWalletGroup/isWalletGroup.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport { useWalletGroups } from '../../../store/state/walletOptions/walletOptions.js';\nimport { useWalletItemActions } from '../useWalletItemActions/useWalletItemActions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport { groupWalletOptions } from '../../functions/walletListBuilder/utils/groupWalletOptions/groupWalletOptions.js';\nimport { useWalletGroupContext } from '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst embeddedWalletsKeys = [\n    'magicemailotp',\n    'magiclink',\n    'magicsocial',\n    'turnkey',\n    'turnkeyhd',\n    'zerodev',\n];\nconst useWalletOptions = () => {\n    const { walletConnectorOptions, setShowAuthFlow } = useInternalDynamicContext();\n    const walletGroups = useWalletGroups();\n    const { pushView } = useViewContext();\n    const { navigateToWalletGroup } = useWalletGroupContext();\n    const { handleWalletItemClick } = useWalletItemActions();\n    const getFilteredWalletOptions = useCallback((filter) => {\n        const nonEmbeddedOptions = walletConnectorOptions.filter((option) => !embeddedWalletsKeys.includes(option.walletConnector.key));\n        return filter(nonEmbeddedOptions).map((option) => {\n            var _a;\n            const groupName = option.group && ((_a = walletGroups[option.group]) === null || _a === void 0 ? void 0 : _a.name);\n            return {\n                chain: option.walletConnector.connectedChain,\n                group: option.group,\n                groupName,\n                isInstalledOnBrowser: option.isInstalledOnBrowser,\n                isWalletConnect: option.walletConnector.isWalletConnect,\n                key: option.walletConnector.key,\n                name: option.name,\n            };\n        });\n    }, [walletConnectorOptions, walletGroups]);\n    const allWalletOptions = useMemo(() => getFilteredWalletOptions((options) => options), [getFilteredWalletOptions]);\n    const selectWalletOption = useCallback((walletKey_1, ...args_1) => __awaiter(void 0, [walletKey_1, ...args_1], void 0, function* (walletKey, selectGroupIfAvailable = true) {\n        const group = groupWalletOptions(walletGroups, walletConnectorOptions);\n        const walletGroup = group.find((wallet) => wallet.key === walletKey);\n        const walletOption = walletConnectorOptions === null || walletConnectorOptions === void 0 ? void 0 : walletConnectorOptions.find((wallet) => wallet.key === walletKey);\n        logger.logVerboseTroubleshootingMessage('[useWalletOptions] selectWalletOption', {\n            selectGroupIfAvailable,\n            walletKey,\n            walletOption: walletOption === null || walletOption === void 0 ? void 0 : walletOption.key,\n        });\n        if (!walletOption) {\n            throw new DynamicError('Invalid wallet option key provided.');\n        }\n        if (selectGroupIfAvailable && walletGroup && isWalletGroup(walletGroup)) {\n            navigateToWalletGroup(walletGroup);\n        }\n        else if (isHardwareWalletConnector(walletOption.walletConnector) &&\n            walletOption.walletConnector.canConnectWithHardwareWallet()) {\n            pushView('select-hardware-wallet', {\n                onSelectWallet: handleWalletItemClick,\n                wallet: walletOption,\n            });\n        }\n        else {\n            handleWalletItemClick(walletOption);\n        }\n        setShowAuthFlow(true);\n    }), [\n        handleWalletItemClick,\n        navigateToWalletGroup,\n        setShowAuthFlow,\n        pushView,\n        walletConnectorOptions,\n        walletGroups,\n    ]);\n    return {\n        getFilteredWalletOptions,\n        selectWalletOption,\n        walletOptions: allWalletOptions,\n    };\n};\n\nexport { useWalletOptions };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2496, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useTokenBalances/useTokenBalances.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useCallback, useEffect, useMemo } from 'react';\nimport { ChainEnum } from '@dynamic-labs/sdk-api-core';\nimport { useTokenBalancesState, setTokenBalanceVariable } from '../../../store/state/tokenBalances.js';\nimport { getAccountTokenBalances } from '../../../data/api/chains/balances.js';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport { logger } from '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport { useInternalDynamicEvents } from '../events/useDynamicEvents/useDynamicEvents.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport { USER_NOT_LOGGED_IN } from '../../constants/errors.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport { getProjectSettings } from '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport { logResponseError } from '../../../data/api/utils.js';\nimport { getUser } from '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport { useDynamicSettings, getEnvironmentId } from '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\n// Hook exposed to customers and used internally to fetch account balances\nconst useTokenBalances = ({ accountAddress, networkId, chainName = ChainEnum.Evm, tokenAddresses, includeFiat = false, includeNativeBalance = false, } = {}) => {\n    const tokenBalancesState = useTokenBalancesState();\n    const { tokenBalances, isLoading, error } = tokenBalancesState;\n    const { primaryWallet, authMode, network } = useInternalDynamicContext();\n    const walletConnector = primaryWallet === null || primaryWallet === void 0 ? void 0 : primaryWallet.connector;\n    const requestAccount = accountAddress !== null && accountAddress !== void 0 ? accountAddress : primaryWallet === null || primaryWallet === void 0 ? void 0 : primaryWallet.address;\n    const requestChainName = chainName !== null && chainName !== void 0 ? chainName : walletConnector === null || walletConnector === void 0 ? void 0 : walletConnector.connectedChain;\n    const fetchAccountBalances = useCallback((...args_1) => __awaiter(void 0, [...args_1], void 0, function* (forceRefresh = false) {\n        var _a;\n        const user = getUser();\n        if (authMode !== 'connect-only' && !user) {\n            setTokenBalanceVariable('error', USER_NOT_LOGGED_IN);\n            return;\n        }\n        const projectSettings = getProjectSettings();\n        if (authMode === 'connect-only' &&\n            !((_a = projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.sdk.featureFlags) === null || _a === void 0 ? void 0 : _a.connectOnlyMultiAsset)) {\n            return;\n        }\n        // the reason why we need to get the network here again insteaf of using the value\n        // from DynamicContext is because this function might run before the network state is\n        // properly set when switching wallets, so we want to make sure we have the latest network\n        const requestNetwork = networkId !== null && networkId !== void 0 ? networkId : (yield (walletConnector === null || walletConnector === void 0 ? void 0 : walletConnector.getNetwork(true)));\n        const isValidRequest = requestNetwork && !isNaN(Number(requestNetwork));\n        logger.logVerboseTroubleshootingMessage('[useTokenBalances] will try to fetch token balances', {\n            isLoading,\n            isValidRequest,\n            networkId,\n            requestAccount,\n            requestChainName,\n            requestNetwork,\n        });\n        if (isLoading || !requestAccount || !isValidRequest) {\n            setTokenBalanceVariable('tokenBalances', undefined);\n            return;\n        }\n        setTokenBalanceVariable('isLoading', true);\n        let response = [];\n        try {\n            response = yield getAccountTokenBalances({\n                accountAddress: requestAccount,\n                chainName: requestChainName,\n                environmentId: getEnvironmentId(),\n                forceRefresh,\n                includeNative: includeNativeBalance,\n                includePrices: includeFiat,\n                networkId: Number(requestNetwork),\n            });\n            if (!response)\n                return;\n            setTokenBalanceVariable('error', undefined);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        }\n        catch (e) {\n            const logLevel = (e === null || e === void 0 ? void 0 : e.code) >= 500 || (e === null || e === void 0 ? void 0 : e.code) < 400 ? 'error' : 'warn';\n            yield logResponseError(e, 'Error getting token balances', logLevel);\n            const errorMessage = (e === null || e === void 0 ? void 0 : e.code) === 429 ? 'Too many requests fetching balances' : e === null || e === void 0 ? void 0 : e.message;\n            setTokenBalanceVariable('error', errorMessage);\n        }\n        finally {\n            setTokenBalanceVariable('tokenBalances', response);\n            setTokenBalanceVariable('isLoading', false);\n        }\n    }), [\n        requestChainName,\n        isLoading,\n        requestAccount,\n        includeNativeBalance,\n        includeFiat,\n        authMode,\n        networkId,\n        walletConnector,\n    ]);\n    useInternalDynamicEvents('tokenBalancesChanged', () => fetchAccountBalances(true));\n    useEffect(() => {\n        fetchAccountBalances();\n    }, [requestAccount, network, networkId]);\n    const { tokensFilter } = useDynamicSettings();\n    const lowerTokenAddresses = useMemo(() => tokenAddresses === null || tokenAddresses === void 0 ? void 0 : tokenAddresses.map((address) => address.toLowerCase()), [tokenAddresses]);\n    const initialTokenBalances = useMemo(() => lowerTokenAddresses\n        ? tokenBalances === null || tokenBalances === void 0 ? void 0 : tokenBalances.filter((token) => lowerTokenAddresses === null || lowerTokenAddresses === void 0 ? void 0 : lowerTokenAddresses.includes(token.address.toLowerCase()))\n        : tokenBalances, [lowerTokenAddresses, tokenBalances]);\n    const filteredTokenBalances = useMemo(() => (initialTokenBalances ? tokensFilter(initialTokenBalances) : []), [initialTokenBalances, tokensFilter]);\n    return {\n        error,\n        fetchAccountBalances,\n        isError: Boolean(error),\n        isLoading,\n        tokenBalances: filteredTokenBalances,\n    };\n};\n\nexport { useTokenBalances };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2815, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useEffectOnce/useEffectOnce.js"],"sourcesContent":["'use client'\nimport { useEffect } from 'react';\n\n/**\n * Runs an effect function only once during component initialization.\n *\n * @param {Function} effect - The effect function to be executed.\n * @returns {void}\n *\n * @example\n * function ExampleComponent() {\n *   useEffectOnce(() => {\n *     console.log('Effect executed once');\n *   });\n *\n *   return <div>Example Component</div>;\n * }\n */\nconst useEffectOnce = (effect) => {\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useEffect(effect, []);\n};\n\nexport { useEffectOnce };\n"],"names":[],"mappings":";;;AACA;AADA;;AAGA;;;;;;;;;;;;;;CAcC,GACD,MAAM,gBAAgB,CAAC;IACnB,uDAAuD;IACvD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD,EAAE,QAAQ,EAAE;AACxB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2846, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useInitEmbeddedWalletAuthMethod/useInitEmbeddedWalletAuthMethod.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useState } from 'react';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport { logger } from '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport { useViewContext } from '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport { dynamicEvents } from '../../../events/dynamicEvents.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport { useSmartWallets } from '../useSmartWallets/useSmartWallets.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport { iframeElementId } from '../../../views/Passkey/PasskeyRecovery/constants.js';\nimport { initEmbeddedWalletSession } from '../../../views/Passkey/utils/passkeyRecovery/passkeyRecovery.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\n// This hook needs to be async that's why it's not using useMutation\nconst useInitEmbeddedWalletAuthMethod = () => {\n    const { primaryWallet, environmentId, user, projectSettings, setShowAuthFlow, } = useInternalDynamicContext();\n    const { pushView } = useViewContext();\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState();\n    const { getEOAWallet } = useSmartWallets();\n    const initAuthMethod = (_a) => __awaiter(void 0, [_a], void 0, function* ({ authenticatorType, iframeContainer, currentAction, }) {\n        var _b, _c, _d, _e, _f;\n        setIsLoading(true);\n        const wallet = (_b = (primaryWallet && getEOAWallet(primaryWallet))) !== null && _b !== void 0 ? _b : primaryWallet;\n        const sessionExpiration = ((_d = (_c = projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.sdk.embeddedWallets) === null || _c === void 0 ? void 0 : _c.sessionKeyDuration) === null || _d === void 0 ? void 0 : _d.amount) || 0;\n        const sessionExpirationUnit = ((_f = (_e = projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.sdk.embeddedWallets) === null || _e === void 0 ? void 0 : _e.sessionKeyDuration) === null || _f === void 0 ? void 0 : _f.unit) ===\n            'minutes'\n            ? 60\n            : 3600;\n        const showEmailBundle = authenticatorType === 'email' ||\n            !(wallet === null || wallet === void 0 ? void 0 : wallet.connector)\n                .getAuthenticatorHandler()\n                .isSessionActive();\n        try {\n            yield initEmbeddedWalletSession({\n                authenticatorType,\n                environmentId,\n                iframeContainer,\n                iframeElementId,\n                sessionExpiration: sessionExpiration * sessionExpirationUnit || undefined,\n                user,\n                wallet: wallet,\n            });\n            if (showEmailBundle) {\n                pushView('passkey-recovery-bundle', {\n                    authenticatorType,\n                    currentAction,\n                });\n                setShowAuthFlow(true, {\n                    ignoreIfIsEmbeddedWidget: false,\n                    performMultiWalletChecks: false,\n                });\n            }\n            else {\n                setShowAuthFlow(false);\n            }\n        }\n        catch (err) {\n            setError(err);\n            logger.error('Failed to create embedded wallet session', err);\n            dynamicEvents.emit('passkeyRecoveryFailed', err);\n        }\n        finally {\n            setIsLoading(false);\n        }\n    });\n    return {\n        error,\n        initAuthMethod,\n        isLoading,\n    };\n};\n\nexport { useInitEmbeddedWalletAuthMethod };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 3096, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/usePasskeyRecovery/usePasskeyRecovery.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useCallback } from 'react';\nimport { NextViewEnum } from '@dynamic-labs/sdk-api-core';\nimport { isPasskeyWalletConnector } from '@dynamic-labs/wallet-connector-core';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport { logger } from '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport 'react/jsx-runtime';\nimport { useViewContext } from '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport { dynamicEvents } from '../../../events/dynamicEvents.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport { USER_NOT_LOGGED_IN } from '../../constants/errors.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport { isTurnkeyEnabled } from '../../functions/isTurnkeyEnabled/isTurnkeyEnabled.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport { getEnabledEmbeddedWalletsAuthenticators } from '../../functions/getEnabledEmbeddedWalletsAuthenticators/getEnabledEmbeddedWalletsAuthenticators.js';\nimport { hasEmbeddedWallet } from '../../functions/hasEmbeddedWallet/hasEmbeddedWallet.js';\nimport { getEmbeddedWalletSessionExpiration } from '../../functions/getEmbeddedWalletSessionExpiration/getEmbeddedWalletSessionExpiration.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport { updateUserProfileFields } from '../../../data/api/user/user.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport { useVerification } from '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport { useElementById } from '../useElementById/useElementById.js';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport { useSmartWallets } from '../useSmartWallets/useSmartWallets.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport { iframeContainerId, iframeElementId } from '../../../views/Passkey/PasskeyRecovery/constants.js';\nimport { canRestoreEmbeddedWalletSession, restoreEmbeddedWalletSession, addNewPasskeyAuthenticator, addEmailRecovery } from '../../../views/Passkey/utils/passkeyRecovery/passkeyRecovery.js';\nimport { useInitEmbeddedWalletAuthMethod } from '../useInitEmbeddedWalletAuthMethod/useInitEmbeddedWalletAuthMethod.js';\nimport { useIsTurnkeyWallet } from '../useIsTurnkeyWallet/useIsTurnkeyWallet.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\n// Hook exposed to customers and used internally to trigger passkey recovery\nconst usePasskeyRecovery = () => {\n    var _a, _b, _c;\n    const { environmentId, primaryWallet, projectSettings, setShowAuthFlow, user, } = useInternalDynamicContext();\n    const { createRootElement } = useElementById();\n    const iframeContainerRef = createRootElement(iframeContainerId);\n    const { isTurnkeyWalletWithoutAuthenticator, hasRecoveryEmail } = useIsTurnkeyWallet();\n    const { initAuthMethod } = useInitEmbeddedWalletAuthMethod();\n    const { setDisplayedDestination: setEmailForVerification, setVerificationUUID, } = useVerification();\n    const { getEOAWallet } = useSmartWallets();\n    const { pushView } = useViewContext();\n    const wallet = (_a = (primaryWallet && getEOAWallet(primaryWallet))) !== null && _a !== void 0 ? _a : primaryWallet;\n    const isSessionRestored = useCallback(() => __awaiter(void 0, void 0, void 0, function* () {\n        var _d, _e;\n        if (!((_d = projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.sdk.embeddedWallets) === null || _d === void 0 ? void 0 : _d.sessionKeyDuration) ||\n            !canRestoreEmbeddedWalletSession((_e = projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.sdk.embeddedWallets) === null || _e === void 0 ? void 0 : _e.sessionKeyDuration)) {\n            return false;\n        }\n        const sessionExpiration = getEmbeddedWalletSessionExpiration(projectSettings.sdk.embeddedWallets.sessionKeyDuration);\n        try {\n            return yield restoreEmbeddedWalletSession({\n                iframeContainer: iframeContainerRef.current,\n                iframeElementId,\n                sessionExpiration,\n                user,\n                wallet: primaryWallet,\n            });\n        }\n        catch (err) {\n            logger.error('Failed to restore embedded wallet', err);\n        }\n        return false;\n    }), [\n        user,\n        iframeContainerRef,\n        primaryWallet,\n        (_c = (_b = projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.sdk) === null || _b === void 0 ? void 0 : _b.embeddedWallets) === null || _c === void 0 ? void 0 : _c.sessionKeyDuration,\n    ]);\n    const shouldInitRecovery = useCallback(() => __awaiter(void 0, void 0, void 0, function* () {\n        if (!wallet || !isPasskeyWalletConnector(wallet.connector)) {\n            return false;\n        }\n        const turnkeyRecoveryHandler = wallet.connector.getAuthenticatorHandler();\n        // user has passkey authenticator set up OR\n        // email auth - session is still up, so no need to recover\n        if (!isTurnkeyWalletWithoutAuthenticator ||\n            turnkeyRecoveryHandler.isSessionActive() ||\n            (yield isSessionRestored())) {\n            return false;\n        }\n        return true;\n    }), [wallet, isTurnkeyWalletWithoutAuthenticator, isSessionRestored]);\n    const initPasskeyRecoveryProcess = useCallback((authenticatorType, currentAction) => __awaiter(void 0, void 0, void 0, function* () {\n        var _f;\n        const validateRecoveryRequest = () => {\n            if (!user) {\n                throw new Error(USER_NOT_LOGGED_IN);\n            }\n            if (!isTurnkeyEnabled(projectSettings)) {\n                throw new Error('Dynamic embedded wallet is not enabled. Go to the dashboard and make sure to have both Dynamic embedded wallet and at least one EVM network enabled. Also, check if EthereumWalletConnectors is in the  DynamicContextProvider > settings > walletConnectors.');\n            }\n            if (!hasEmbeddedWallet(user)) {\n                throw new Error('Dynamic embedded wallet not found');\n            }\n            if (wallet && !isPasskeyWalletConnector(wallet.connector)) {\n                throw new Error('Dynamic embedded wallet not found.');\n            }\n        };\n        validateRecoveryRequest();\n        const turnkeyRecoveryHandler = (wallet === null || wallet === void 0 ? void 0 : wallet.connector).getAuthenticatorHandler();\n        // email auth - session is still up, so create passkey authenticator usign the same session\n        if (authenticatorType === 'passkey' &&\n            turnkeyRecoveryHandler.isSessionActive()) {\n            yield addNewPasskeyAuthenticator({\n                environmentId,\n                user,\n                wallet: wallet,\n            });\n            setShowAuthFlow(false);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            return wallet;\n        }\n        const supportedAuthenticators = getEnabledEmbeddedWalletsAuthenticators((_f = projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.sdk.embeddedWallets) === null || _f === void 0 ? void 0 : _f.supportedSecurityMethods);\n        const supportedAuthenticatorMethods = supportedAuthenticators\n            ? Object.keys(supportedAuthenticators)\n            : [];\n        if (!hasRecoveryEmail) {\n            pushView('passkey-recovery-add-email', { shouldInitRecovery: true });\n            setShowAuthFlow(true, {\n                ignoreIfIsEmbeddedWidget: false,\n                performMultiWalletChecks: false,\n            });\n        }\n        else if (!authenticatorType &&\n            supportedAuthenticatorMethods.length > 1) {\n            pushView('embedded-wallet-auth-choice', { currentAction });\n            setShowAuthFlow(true, {\n                ignoreIfIsEmbeddedWidget: false,\n                performMultiWalletChecks: false,\n            });\n        }\n        else {\n            const [authType] = supportedAuthenticatorMethods;\n            // since we're forcing the authenticator type = 'email' during transactions when no passkey is configured,\n            // we need to make sure it's supported.\n            // Otherwise, we'll use the first supported authenticator type from the list\n            if (authenticatorType &&\n                !supportedAuthenticatorMethods.includes(authenticatorType)) {\n                authenticatorType = authType;\n            }\n            yield initAuthMethod({\n                authenticatorType: authenticatorType || authType,\n                currentAction,\n                iframeContainer: iframeContainerRef.current,\n            });\n        }\n        return new Promise((resolve, reject) => {\n            dynamicEvents.once('passkeyRecoveryCompleted', (wallet) => resolve(wallet));\n            dynamicEvents.once('passkeyRecoveryFailed', (error) => reject(error));\n        });\n    }), [\n        wallet,\n        projectSettings,\n        hasRecoveryEmail,\n        environmentId,\n        user,\n        setShowAuthFlow,\n        pushView,\n        initAuthMethod,\n        iframeContainerRef,\n    ]);\n    const addRecoveryEmail = (emailInput) => __awaiter(void 0, void 0, void 0, function* () {\n        try {\n            let updatedUser = user;\n            // TODO - This seems wrong what if the user has a different email.\n            // As well it does not verify the the email is verified\n            if (!(user === null || user === void 0 ? void 0 : user.email)) {\n                updatedUser = yield updateUserProfile(emailInput);\n            }\n            yield addEmailRecovery({\n                environmentId,\n                user: updatedUser,\n                wallet: primaryWallet,\n            });\n            dynamicEvents.emit('embeddedWalletRecoveryEmailCompleted', '');\n        }\n        catch (err) {\n            logger.error('Failed to add recovery email', err);\n            dynamicEvents.emit('embeddedWalletRecoveryEmailFailed', err);\n        }\n    });\n    const updateUserProfile = (emailInput) => __awaiter(void 0, void 0, void 0, function* () {\n        try {\n            const { nextView, emailVerification, userProfile } = yield updateUserProfileFields(environmentId, {\n                email: emailInput,\n            });\n            if (nextView === NextViewEnum.Done) {\n                return userProfile;\n            }\n            pushView('verify-email', { isEmailRecoveryFlow: true });\n            setEmailForVerification(emailInput);\n            setVerificationUUID(emailVerification === null || emailVerification === void 0 ? void 0 : emailVerification.verificationUUID);\n            return new Promise((resolve, reject) => {\n                // TODO - This is not the latest user, it is the not verified user\n                dynamicEvents.once('emailVerificationResult', (wasSuccessful) => {\n                    if (wasSuccessful) {\n                        resolve(userProfile);\n                    }\n                    reject('Failed to verify email');\n                });\n            });\n        }\n        catch (err) {\n            logger.error('Failed to update user email', err);\n            throw err;\n        }\n    });\n    return {\n        addRecoveryEmail,\n        initPasskeyRecoveryProcess,\n        shouldInitRecovery,\n    };\n};\n\nexport { usePasskeyRecovery };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 3514, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useResizeObserver/useResizeObserver.js"],"sourcesContent":["'use client'\nimport { useState, useCallback, useLayoutEffect } from 'react';\n\nconst useResizeObserver = (ref, callback) => {\n    const [rect, setRect] = useState();\n    const onResize = useCallback((entries) => {\n        if (!Array.isArray(entries)) {\n            return;\n        }\n        const [entry] = entries;\n        setRect(entry.contentRect);\n        if (callback) {\n            callback(entry.contentRect);\n        }\n    }, [callback, setRect]);\n    useLayoutEffect(() => {\n        if (!ref.current) {\n            return;\n        }\n        let observer = new ResizeObserver(onResize);\n        observer.observe(ref.current);\n        return () => {\n            observer === null || observer === void 0 ? void 0 : observer.disconnect();\n            observer = null;\n        };\n    }, [ref]);\n    return [rect];\n};\n\nexport { useResizeObserver };\n"],"names":[],"mappings":";;;AACA;AADA;;AAGA,MAAM,oBAAoB,CAAC,KAAK;IAC5B,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD;IAC/B,MAAM,WAAW,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;mDAAE,CAAC;YAC1B,IAAI,CAAC,MAAM,OAAO,CAAC,UAAU;gBACzB;YACJ;YACA,MAAM,CAAC,MAAM,GAAG;YAChB,QAAQ,MAAM,WAAW;YACzB,IAAI,UAAU;gBACV,SAAS,MAAM,WAAW;YAC9B;QACJ;kDAAG;QAAC;QAAU;KAAQ;IACtB,CAAA,GAAA,6JAAA,CAAA,kBAAe,AAAD;6CAAE;YACZ,IAAI,CAAC,IAAI,OAAO,EAAE;gBACd;YACJ;YACA,IAAI,WAAW,IAAI,eAAe;YAClC,SAAS,OAAO,CAAC,IAAI,OAAO;YAC5B;qDAAO;oBACH,aAAa,QAAQ,aAAa,KAAK,IAAI,KAAK,IAAI,SAAS,UAAU;oBACvE,WAAW;gBACf;;QACJ;4CAAG;QAAC;KAAI;IACR,OAAO;QAAC;KAAK;AACjB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 3565, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useNetworkConfigurationsFromProjectSettings/useNetworkConfigurationsFromProjectSettings.js"],"sourcesContent":["'use client'\nimport { useMemo } from 'react';\n\nconst useNetworkConfigurationsFromProjectSettings = ({ projectSettings, cosmosNetworkOverrides, evmNetworksOverrides, solanaNetworksOverrides, }) => useMemo(() => {\n    var _a, _b, _c, _d, _e;\n    const networks = projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.networks;\n    if (!networks)\n        return {};\n    const evm = networks.find((configurations) => configurations.chainName === 'evm');\n    const solana = networks.find((configurations) => configurations.chainName === 'solana');\n    const cosmos = networks.find((configurations) => configurations.chainName === 'cosmos');\n    const starknet = networks.find((configurations) => configurations.chainName === 'starknet');\n    const eclipse = networks.find((configurations) => configurations.chainName === 'eclipse');\n    let cosmosNetworks = (_a = cosmos === null || cosmos === void 0 ? void 0 : cosmos.networks) === null || _a === void 0 ? void 0 : _a.map((net) => createNetwork(net, Number.parseInt));\n    cosmosNetworks = overrideNetworks(cosmosNetworkOverrides, cosmosNetworks);\n    let evmNetworks = (_b = evm === null || evm === void 0 ? void 0 : evm.networks) === null || _b === void 0 ? void 0 : _b.map((net) => createNetwork(net, Number.parseInt));\n    evmNetworks = overrideNetworks(evmNetworksOverrides, evmNetworks);\n    const starknetNetworks = (_c = starknet === null || starknet === void 0 ? void 0 : starknet.networks) === null || _c === void 0 ? void 0 : _c.map((net) => createNetwork(net));\n    let solanaNetworks = (_d = solana === null || solana === void 0 ? void 0 : solana.networks) === null || _d === void 0 ? void 0 : _d.map((net) => createNetwork(net));\n    solanaNetworks = overrideNetworks(solanaNetworksOverrides, solanaNetworks);\n    const eclipseNetworks = (_e = eclipse === null || eclipse === void 0 ? void 0 : eclipse.networks) === null || _e === void 0 ? void 0 : _e.map((net) => createNetwork(net));\n    if (evmNetworksOverrides) {\n        if (Array.isArray(evmNetworksOverrides)) {\n            evmNetworks = evmNetworksOverrides;\n        }\n        else {\n            evmNetworks = evmNetworksOverrides(evmNetworks !== null && evmNetworks !== void 0 ? evmNetworks : []);\n        }\n    }\n    const networkConfigurations = {\n        cosmos: cosmosNetworks,\n        eclipse: eclipseNetworks,\n        evm: evmNetworks,\n        solana: solanaNetworks,\n        starknet: starknetNetworks,\n    };\n    return networkConfigurations;\n}, [\n    projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.networks,\n    cosmosNetworkOverrides,\n    evmNetworksOverrides,\n    solanaNetworksOverrides,\n]);\nconst createNetwork = (network, parser = (input) => input) => {\n    const result = {\n        bech32Prefix: network.bech32Prefix,\n        blockExplorerUrls: network.blockExplorerUrls,\n        chainId: parser(network.chainId),\n        cluster: network.cluster,\n        genesisHash: network.genesisHash,\n        iconUrls: network.iconUrls,\n        isTestnet: network.isTestnet,\n        key: network.key,\n        lcdUrl: network.lcdUrl,\n        name: network.name,\n        nativeCurrency: network.nativeCurrency,\n        networkId: parser(network.networkId),\n        privateCustomerRpcUrls: network.privateCustomerRpcUrls,\n        rpcUrls: network.rpcUrls,\n        vanityName: network.vanityName,\n    };\n    return result;\n};\nconst overrideNetworks = (networkOverrides, networks) => {\n    if (!networkOverrides) {\n        return networks;\n    }\n    if (Array.isArray(networkOverrides)) {\n        return networkOverrides;\n    }\n    else {\n        return networkOverrides(networks !== null && networks !== void 0 ? networks : []);\n    }\n};\n\nexport { useNetworkConfigurationsFromProjectSettings };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 3668, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useSmartWallets/useSmartWallets.js"],"sourcesContent":["'use client'\nimport { useCallback, useMemo } from 'react';\nimport { WalletProviderEnum } from '@dynamic-labs/sdk-api-core';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../../../_virtual/_tslib.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport { findWalletOptionFor } from '../../functions/findWalletOptionFor/findWalletOptionFor.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useSmartWallets = () => {\n    const { user, walletConnectorOptions } = useInternalDynamicContext();\n    const getSCWAccount = useCallback((wallet) => {\n        const { verifiedCredentials } = user !== null && user !== void 0 ? user : {};\n        if (!verifiedCredentials)\n            return;\n        // Ensure this is a SCW wallet\n        const scwAccount = verifiedCredentials.find((credential) => credential.id === wallet.id);\n        return (scwAccount === null || scwAccount === void 0 ? void 0 : scwAccount.walletProvider) ===\n            WalletProviderEnum.SmartContractWallet\n            ? scwAccount\n            : undefined;\n    }, [user]);\n    const getEOAWallet = useCallback((wallet) => {\n        var _a, _b, _c;\n        const verifiedCredentials = user === null || user === void 0 ? void 0 : user.verifiedCredentials;\n        if (!verifiedCredentials)\n            return;\n        // Ensure this is a SCW wallet\n        const scwAccount = getSCWAccount(wallet);\n        // Find the EOA account for this SCW\n        const eoaAccount = verifiedCredentials.find((credential) => credential.id === (scwAccount === null || scwAccount === void 0 ? void 0 : scwAccount.signerRefId));\n        if (!(eoaAccount === null || eoaAccount === void 0 ? void 0 : eoaAccount.address) || !(eoaAccount === null || eoaAccount === void 0 ? void 0 : eoaAccount.chain))\n            return;\n        const { walletConnector } = (_a = findWalletOptionFor(eoaAccount, walletConnectorOptions)) !== null && _a !== void 0 ? _a : {};\n        // It's always authenticated, unless it's a turnkey wallet that still hasn't created a passkey\n        const isTurnkey = (_b = eoaAccount.walletName) === null || _b === void 0 ? void 0 : _b.startsWith('turnkey');\n        const isAuthenticated = !isTurnkey ||\n            Boolean((_c = eoaAccount.walletProperties) === null || _c === void 0 ? void 0 : _c.isAuthenticatorAttached);\n        return walletConnector === null || walletConnector === void 0 ? void 0 : walletConnector.createWallet({\n            address: eoaAccount.address,\n            chain: walletConnector.connectedChain,\n            connector: walletConnector,\n            id: eoaAccount.id,\n            isAuthenticated,\n            key: walletConnector.key,\n        });\n    }, [getSCWAccount, user === null || user === void 0 ? void 0 : user.verifiedCredentials, walletConnectorOptions]);\n    const getSmartWallet = useCallback((wallet) => {\n        var _a;\n        const verifiedCredentials = user === null || user === void 0 ? void 0 : user.verifiedCredentials;\n        if (!verifiedCredentials)\n            return;\n        // Get the EOA account for this wallet\n        const eoaAccount = verifiedCredentials.find((credential) => credential.id === wallet.id);\n        // Find the smart wallet account for this EOA\n        const scwAccount = verifiedCredentials.find((credential) => credential.signerRefId === (eoaAccount === null || eoaAccount === void 0 ? void 0 : eoaAccount.id));\n        if (!(scwAccount === null || scwAccount === void 0 ? void 0 : scwAccount.address) || !(scwAccount === null || scwAccount === void 0 ? void 0 : scwAccount.chain))\n            return;\n        const { walletConnector } = (_a = findWalletOptionFor(scwAccount, walletConnectorOptions)) !== null && _a !== void 0 ? _a : {};\n        return walletConnector === null || walletConnector === void 0 ? void 0 : walletConnector.createWallet({\n            address: scwAccount.address,\n            chain: walletConnector.connectedChain,\n            connector: walletConnector,\n            id: scwAccount.id,\n            isAuthenticated: true,\n            key: walletConnector.key,\n        });\n    }, [user === null || user === void 0 ? void 0 : user.verifiedCredentials, walletConnectorOptions]);\n    return useMemo(() => ({\n        getEOAWallet,\n        getSmartWallet,\n        isSmartWallet: (wallet) => getSCWAccount(wallet) !== undefined,\n    }), [getEOAWallet, getSCWAccount, getSmartWallet]);\n};\n\nexport { useSmartWallets };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 3948, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useIsTurnkeyWallet/useIsTurnkeyWallet.js"],"sourcesContent":["'use client'\nimport { JwtVerifiedCredentialFormatEnum } from '@dynamic-labs/sdk-api-core';\nimport 'react';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../../../_virtual/_tslib.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport { getUserVerifiedCredentialType } from '../../functions/getUserVerifiedCredentialType/getUserVerifiedCredentialType.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport { useSmartWallets } from '../useSmartWallets/useSmartWallets.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useIsTurnkeyWallet = () => {\n    var _a, _b, _c;\n    const { primaryWallet, user } = useInternalDynamicContext();\n    const { getEOAWallet } = useSmartWallets();\n    const wallet = (_a = (primaryWallet && getEOAWallet(primaryWallet))) !== null && _a !== void 0 ? _a : primaryWallet;\n    const getTurnkeyVerifiedCredential = () => {\n        if (!wallet || !user || !wallet.connector.key.startsWith('turnkey')) {\n            return undefined;\n        }\n        const primaryWalletId = wallet.id;\n        const turnkeyVC = user.verifiedCredentials.find((vc) => vc.id === primaryWalletId);\n        if (!turnkeyVC) {\n            return undefined;\n        }\n        return turnkeyVC;\n    };\n    const getUnclaimedTurnkeyTheSignerOfScw = () => {\n        if (!wallet || !user) {\n            return false;\n        }\n        const unclaimedTurnkeyVc = user.verifiedCredentials.find((vc) => {\n            var _a, _b;\n            return ((_a = vc.walletName) === null || _a === void 0 ? void 0 : _a.startsWith('turnkey')) &&\n                ((_b = vc.walletProperties) === null || _b === void 0 ? void 0 : _b.isAuthenticatorAttached) === false;\n        });\n        const smartContractWalletWithUnclaimedTurnkeySigner = user.verifiedCredentials.find((vc) => unclaimedTurnkeyVc && vc.signerRefId === unclaimedTurnkeyVc.id);\n        return smartContractWalletWithUnclaimedTurnkeySigner;\n    };\n    const turnkeyVerifiedCredential = getTurnkeyVerifiedCredential();\n    const isUnclaimedTurnkeyTheSignerOfScw = Boolean(getUnclaimedTurnkeyTheSignerOfScw());\n    const isTurnkeyWallet = Boolean(turnkeyVerifiedCredential || isUnclaimedTurnkeyTheSignerOfScw);\n    const hasTurnkeyVerifiedCredentialAuthenticator = Boolean((_b = turnkeyVerifiedCredential === null || turnkeyVerifiedCredential === void 0 ? void 0 : turnkeyVerifiedCredential.walletProperties) === null || _b === void 0 ? void 0 : _b.isAuthenticatorAttached);\n    const isTurnkeyWalletWithoutAuthenticator = (isTurnkeyWallet && !hasTurnkeyVerifiedCredentialAuthenticator) ||\n        isUnclaimedTurnkeyTheSignerOfScw;\n    const hasRecoveryEmail = isTurnkeyWallet &&\n        Boolean(getUserVerifiedCredentialType(user, JwtVerifiedCredentialFormatEnum.Email));\n    const isSessionKeyCompatible = isTurnkeyWallet &&\n        Boolean((_c = turnkeyVerifiedCredential === null || turnkeyVerifiedCredential === void 0 ? void 0 : turnkeyVerifiedCredential.walletProperties) === null || _c === void 0 ? void 0 : _c.isSessionKeyCompatible);\n    return {\n        hasRecoveryEmail,\n        hasTurnkeyVerifiedCredentialAuthenticator,\n        isSessionKeyCompatible,\n        isTurnkeyWallet,\n        isTurnkeyWalletWithoutAuthenticator,\n        turnkeyVerifiedCredential,\n    };\n};\n\nexport { useIsTurnkeyWallet };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4188, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useWalletConnectors/utils/smartWallet/smartWallet.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../../../_virtual/_tslib.js';\nimport { isAccountAbstractionConnector, isTurnkeyWalletConnector, isSameAddress } from '@dynamic-labs/wallet-connector-core';\nimport { VerifiedCredentialNameToChainEnum } from '../../../../constants/values.js';\nimport { findWalletOptionFor } from '../../../../functions/findWalletOptionFor/findWalletOptionFor.js';\n\n// assumes `account` input is a smart wallet (has a signerRefId) and attempts to find\n// the associated eoa account\nconst findOwner = (account, verifiedCredentials) => verifiedCredentials.find((credential) => credential.id === account.signerRefId);\nconst findSmartWallet = (account, verifiedCredentials) => verifiedCredentials.find((credential) => credential.signerRefId === account.id);\nconst isOwnerOfASmartWallet = (account, verifiedCredentials) => Boolean(findSmartWallet(account, verifiedCredentials));\nconst initializeSmartWallet = (_a) => __awaiter(void 0, [_a], void 0, function* ({ account, verifiedCredentials, walletConnectorOptions, primaryWalletId, }) {\n    var _b, _c, _d, _e, _f;\n    const smartWallet = findWalletOptionFor(account, walletConnectorOptions);\n    if (!smartWallet) {\n        throw new Error('could not find smart wallet from wallet options');\n    }\n    const connector = smartWallet.walletConnector;\n    if (!isAccountAbstractionConnector(connector)) {\n        throw new Error('could not initialize smart wallet');\n    }\n    const owner = findOwner(account, verifiedCredentials);\n    if (!owner) {\n        throw new Error('could not find associated eoa account for smart wallet');\n    }\n    const ownerWallet = findWalletOptionFor(owner, walletConnectorOptions);\n    if (!owner.address || !account.address || !ownerWallet) {\n        throw new Error('could not find owner or smart wallet address');\n    }\n    if (ownerWallet && isTurnkeyWalletConnector(ownerWallet.walletConnector)) {\n        const sortedVcs = (_c = (_b = ownerWallet.walletConnector) === null || _b === void 0 ? void 0 : _b.verifiedCredentials) === null || _c === void 0 ? void 0 : _c.reduce((acc, vc) => {\n            if (vc.smartWalletRefAddress &&\n                account.address &&\n                account.chain &&\n                isSameAddress(vc.smartWalletRefAddress, account.address, VerifiedCredentialNameToChainEnum[account.chain])) {\n                return [vc, ...acc];\n            }\n            return [...acc, vc];\n        }, []);\n        if (sortedVcs) {\n            ownerWallet.walletConnector.setVerifiedCredentials(sortedVcs);\n        }\n    }\n    yield connector.registerEoa({\n        ecdsaProviderType: (_d = account.walletProperties) === null || _d === void 0 ? void 0 : _d.ecdsaProviderType,\n        entryPointVersion: (_e = account.walletProperties) === null || _e === void 0 ? void 0 : _e.entryPointVersion,\n        eoaAddress: owner.address,\n        eoaConnector: ownerWallet === null || ownerWallet === void 0 ? void 0 : ownerWallet.walletConnector,\n        kernelVersion: (_f = account.walletProperties) === null || _f === void 0 ? void 0 : _f.kernelVersion,\n        shouldSetEoaConnector: primaryWalletId === owner.id || primaryWalletId === account.id,\n        smartWalletAddress: account.address,\n    });\n});\n\nexport { findOwner, findSmartWallet, initializeSmartWallet, isOwnerOfASmartWallet };\n"],"names":[],"mappings":";;;;;;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAJA;;;;;AAMA,qFAAqF;AACrF,6BAA6B;AAC7B,MAAM,YAAY,CAAC,SAAS,sBAAwB,oBAAoB,IAAI,CAAC,CAAC,aAAe,WAAW,EAAE,KAAK,QAAQ,WAAW;AAClI,MAAM,kBAAkB,CAAC,SAAS,sBAAwB,oBAAoB,IAAI,CAAC,CAAC,aAAe,WAAW,WAAW,KAAK,QAAQ,EAAE;AACxI,MAAM,wBAAwB,CAAC,SAAS,sBAAwB,QAAQ,gBAAgB,SAAS;AACjG,MAAM,wBAAwB,CAAC,KAAO,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG;QAAC;KAAG,EAAE,KAAK,GAAG,UAAW,EAAE,OAAO,EAAE,mBAAmB,EAAE,sBAAsB,EAAE,eAAe,EAAG;QACvJ,IAAI,IAAI,IAAI,IAAI,IAAI;QACpB,MAAM,cAAc,CAAA,GAAA,8OAAA,CAAA,sBAAmB,AAAD,EAAE,SAAS;QACjD,IAAI,CAAC,aAAa;YACd,MAAM,IAAI,MAAM;QACpB;QACA,MAAM,YAAY,YAAY,eAAe;QAC7C,IAAI,CAAC,CAAA,GAAA,qPAAA,CAAA,gCAA6B,AAAD,EAAE,YAAY;YAC3C,MAAM,IAAI,MAAM;QACpB;QACA,MAAM,QAAQ,UAAU,SAAS;QACjC,IAAI,CAAC,OAAO;YACR,MAAM,IAAI,MAAM;QACpB;QACA,MAAM,cAAc,CAAA,GAAA,8OAAA,CAAA,sBAAmB,AAAD,EAAE,OAAO;QAC/C,IAAI,CAAC,MAAM,OAAO,IAAI,CAAC,QAAQ,OAAO,IAAI,CAAC,aAAa;YACpD,MAAM,IAAI,MAAM;QACpB;QACA,IAAI,eAAe,CAAA,GAAA,2OAAA,CAAA,2BAAwB,AAAD,EAAE,YAAY,eAAe,GAAG;YACtE,MAAM,YAAY,CAAC,KAAK,CAAC,KAAK,YAAY,eAAe,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,mBAAmB,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,MAAM,CAAC,CAAC,KAAK;gBACzK,IAAI,GAAG,qBAAqB,IACxB,QAAQ,OAAO,IACf,QAAQ,KAAK,IACb,CAAA,GAAA,qNAAA,CAAA,gBAAa,AAAD,EAAE,GAAG,qBAAqB,EAAE,QAAQ,OAAO,EAAE,0MAAA,CAAA,oCAAiC,CAAC,QAAQ,KAAK,CAAC,GAAG;oBAC5G,OAAO;wBAAC;2BAAO;qBAAI;gBACvB;gBACA,OAAO;uBAAI;oBAAK;iBAAG;YACvB,GAAG,EAAE;YACL,IAAI,WAAW;gBACX,YAAY,eAAe,CAAC,sBAAsB,CAAC;YACvD;QACJ;QACA,MAAM,UAAU,WAAW,CAAC;YACxB,mBAAmB,CAAC,KAAK,QAAQ,gBAAgB,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,iBAAiB;YAC5G,mBAAmB,CAAC,KAAK,QAAQ,gBAAgB,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,iBAAiB;YAC5G,YAAY,MAAM,OAAO;YACzB,cAAc,gBAAgB,QAAQ,gBAAgB,KAAK,IAAI,KAAK,IAAI,YAAY,eAAe;YACnG,eAAe,CAAC,KAAK,QAAQ,gBAAgB,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,aAAa;YACpG,uBAAuB,oBAAoB,MAAM,EAAE,IAAI,oBAAoB,QAAQ,EAAE;YACrF,oBAAoB,QAAQ,OAAO;QACvC;IACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4265, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useWalletConnectors/utils/convertLegacyPhantomLedgerConnector/convertLegacyPhantomLedgerConnector.js"],"sourcesContent":["'use client'\nimport { HardwareWalletEnum } from '@dynamic-labs/sdk-api-core';\n\nconst convertLegacyPhantomLedgerConnector = (account) => (Object.assign(Object.assign({}, account), { walletName: 'phantom', walletProperties: {\n        hardwareWallet: HardwareWalletEnum.Ledger,\n    } }));\n\nexport { convertLegacyPhantomLedgerConnector };\n"],"names":[],"mappings":";;;AACA;AAAA;AADA;;AAGA,MAAM,sCAAsC,CAAC,UAAa,OAAO,MAAM,CAAC,OAAO,MAAM,CAAC,CAAC,GAAG,UAAU;QAAE,YAAY;QAAW,kBAAkB;YACvI,gBAAgB,iMAAA,CAAA,qBAAkB,CAAC,MAAM;QAC7C;IAAE","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4285, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useWalletConnectors/utils/createLinkedWalletsFromWalletOptions/createLinkedWalletsFromWalletOptions.js"],"sourcesContent":["'use client'\nimport { HardwareWalletEnum, WalletProviderEnum } from '@dynamic-labs/sdk-api-core';\nimport { isHardwareWalletConnector } from '@dynamic-labs/wallet-connector-core';\nimport { findWalletOptionFor } from '../../../../functions/findWalletOptionFor/findWalletOptionFor.js';\nimport { shouldManuallyReconnectOnRefresh } from '../../../../functions/shouldManuallyReconnectOnRefresh/shouldManuallyReconnectOnRefresh.js';\nimport { convertLegacyPhantomLedgerConnector } from '../convertLegacyPhantomLedgerConnector/convertLegacyPhantomLedgerConnector.js';\nimport { isOwnerOfASmartWallet, initializeSmartWallet } from '../smartWallet/smartWallet.js';\n\nconst createLinkedWalletsFromWalletOptions = ({ user, walletConnectorOptions, primaryWalletId, separateSmartWalletAndSigner, }) => {\n    // wallet state should be null while loading all the wallets or when there is no user\n    if (!walletConnectorOptions || !user) {\n        return [];\n    }\n    return user.verifiedCredentials\n        .map(convertLegacyPhantomLedger)\n        .map((account) => {\n        var _a, _b;\n        const wallet = findWalletOptionFor(account, walletConnectorOptions);\n        // this probably shouldn't happen. this would mean that the user has an account linked\n        // with wallet W, but the customer has toggled off wallet W or the chain that\n        // supports wallet W\n        /* istanbul ignore next */\n        if (!wallet)\n            return null;\n        if (account.id === primaryWalletId &&\n            shouldManuallyReconnectOnRefresh(wallet.walletConnector)) {\n            wallet.walletConnector.connect();\n        }\n        // only checking for ledger hardware wallets since we only specify ledger as a hardware wallet\n        if (((_a = account.walletProperties) === null || _a === void 0 ? void 0 : _a.hardwareWallet) ===\n            HardwareWalletEnum.Ledger &&\n            isHardwareWalletConnector(wallet.walletConnector)) {\n            wallet.walletConnector.isHardwareWalletEnabled = true;\n        }\n        // this account is the owner of a smart wallet, and should not be surfaced\n        if (!separateSmartWalletAndSigner &&\n            isOwnerOfASmartWallet(account, user.verifiedCredentials)) {\n            return null;\n        }\n        if (account.address && account.chain) {\n            if (account.walletProvider === WalletProviderEnum.SmartContractWallet) {\n                initializeSmartWallet({\n                    account,\n                    primaryWalletId,\n                    verifiedCredentials: user.verifiedCredentials,\n                    walletConnectorOptions,\n                });\n            }\n            return wallet.walletConnector.createWallet({\n                additionalAddresses: account.walletAdditionalAddresses,\n                address: account.address,\n                chain: wallet.walletConnector.connectedChain,\n                connector: wallet.walletConnector,\n                id: account.id,\n                isAuthenticated: true,\n                key: (_b = account.walletName) !== null && _b !== void 0 ? _b : wallet.walletConnector.key,\n            });\n        }\n        return null;\n    })\n        .filter((wc) => wc !== null);\n};\nconst convertLegacyPhantomLedger = (account) => {\n    if (account.walletName === 'phantomledger') {\n        return convertLegacyPhantomLedgerConnector(account);\n    }\n    return account;\n};\n\nexport { createLinkedWalletsFromWalletOptions };\n"],"names":[],"mappings":";;;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQA,MAAM,uCAAuC,CAAC,EAAE,IAAI,EAAE,sBAAsB,EAAE,eAAe,EAAE,4BAA4B,EAAG;IAC1H,qFAAqF;IACrF,IAAI,CAAC,0BAA0B,CAAC,MAAM;QAClC,OAAO,EAAE;IACb;IACA,OAAO,KAAK,mBAAmB,CAC1B,GAAG,CAAC,4BACJ,GAAG,CAAC,CAAC;QACN,IAAI,IAAI;QACR,MAAM,SAAS,CAAA,GAAA,8OAAA,CAAA,sBAAmB,AAAD,EAAE,SAAS;QAC5C,sFAAsF;QACtF,6EAA6E;QAC7E,oBAAoB;QACpB,wBAAwB,GACxB,IAAI,CAAC,QACD,OAAO;QACX,IAAI,QAAQ,EAAE,KAAK,mBACf,CAAA,GAAA,wQAAA,CAAA,mCAAgC,AAAD,EAAE,OAAO,eAAe,GAAG;YAC1D,OAAO,eAAe,CAAC,OAAO;QAClC;QACA,8FAA8F;QAC9F,IAAI,CAAC,CAAC,KAAK,QAAQ,gBAAgB,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,cAAc,MACvF,iMAAA,CAAA,qBAAkB,CAAC,MAAM,IACzB,CAAA,GAAA,6OAAA,CAAA,4BAAyB,AAAD,EAAE,OAAO,eAAe,GAAG;YACnD,OAAO,eAAe,CAAC,uBAAuB,GAAG;QACrD;QACA,0EAA0E;QAC1E,IAAI,CAAC,gCACD,CAAA,GAAA,0PAAA,CAAA,wBAAqB,AAAD,EAAE,SAAS,KAAK,mBAAmB,GAAG;YAC1D,OAAO;QACX;QACA,IAAI,QAAQ,OAAO,IAAI,QAAQ,KAAK,EAAE;YAClC,IAAI,QAAQ,cAAc,KAAK,iMAAA,CAAA,qBAAkB,CAAC,mBAAmB,EAAE;gBACnE,CAAA,GAAA,0PAAA,CAAA,wBAAqB,AAAD,EAAE;oBAClB;oBACA;oBACA,qBAAqB,KAAK,mBAAmB;oBAC7C;gBACJ;YACJ;YACA,OAAO,OAAO,eAAe,CAAC,YAAY,CAAC;gBACvC,qBAAqB,QAAQ,yBAAyB;gBACtD,SAAS,QAAQ,OAAO;gBACxB,OAAO,OAAO,eAAe,CAAC,cAAc;gBAC5C,WAAW,OAAO,eAAe;gBACjC,IAAI,QAAQ,EAAE;gBACd,iBAAiB;gBACjB,KAAK,CAAC,KAAK,QAAQ,UAAU,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,OAAO,eAAe,CAAC,GAAG;YAC9F;QACJ;QACA,OAAO;IACX,GACK,MAAM,CAAC,CAAC,KAAO,OAAO;AAC/B;AACA,MAAM,6BAA6B,CAAC;IAChC,IAAI,QAAQ,UAAU,KAAK,iBAAiB;QACxC,OAAO,CAAA,GAAA,0SAAA,CAAA,sCAAmC,AAAD,EAAE;IAC/C;IACA,OAAO;AACX","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4362, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useWalletConnectors/utils/updateUserWalletsFromLinkedWallets/updateUserWalletsFromLinkedWallets.js"],"sourcesContent":["'use client'\n/**\n * This takes a userWallets and linkedWallets array, and returns a new userWallets array\n * updated to match the linkedWallets array.\n * It will add any missing wallets, update properties that don't match, and remove wallets that aren't\n * in the linkedWallets.\n */\nconst updateUserWalletsFromLinkedWallets = (userWallets, authenticatedWallets) => {\n    const userWalletsCopy = [...userWallets];\n    /** We will use this to find wallets addresses that were removed */\n    const newWalletsAddresses = new Set();\n    const newWalletsChains = new Set();\n    // First pass: add missing wallets and update changed properties\n    for (const authenticatedWallet of authenticatedWallets) {\n        newWalletsAddresses.add(authenticatedWallet.address);\n        newWalletsChains.add(authenticatedWallet.chain);\n        const respectiveIndex = userWalletsCopy.findIndex((wallet) => wallet.address === authenticatedWallet.address &&\n            wallet.chain === authenticatedWallet.chain);\n        // Catch new wallets\n        if (respectiveIndex === -1) {\n            userWalletsCopy.push(authenticatedWallet);\n            continue;\n        }\n        // If already present, just update to match the new state\n        userWalletsCopy[respectiveIndex] = authenticatedWallet;\n        // NOTE: this will actually update the wallet's ID if it changed, which happens when a wallet is signed\n        // It initially has a id in the format \"connected-wallet-X\", and after being signed it changes to a hash\n    }\n    // This filter is to remove a wallet that was previously added to userWallets but is not present\n    // among the verified credentials wallets anymore\n    return userWalletsCopy.filter((userWallet) => newWalletsAddresses.has(userWallet.address) &&\n        newWalletsChains.has(userWallet.chain));\n};\n\nexport { updateUserWalletsFromLinkedWallets };\n"],"names":[],"mappings":";;;AAAA;AACA;;;;;CAKC,GACD,MAAM,qCAAqC,CAAC,aAAa;IACrD,MAAM,kBAAkB;WAAI;KAAY;IACxC,iEAAiE,GACjE,MAAM,sBAAsB,IAAI;IAChC,MAAM,mBAAmB,IAAI;IAC7B,gEAAgE;IAChE,KAAK,MAAM,uBAAuB,qBAAsB;QACpD,oBAAoB,GAAG,CAAC,oBAAoB,OAAO;QACnD,iBAAiB,GAAG,CAAC,oBAAoB,KAAK;QAC9C,MAAM,kBAAkB,gBAAgB,SAAS,CAAC,CAAC,SAAW,OAAO,OAAO,KAAK,oBAAoB,OAAO,IACxG,OAAO,KAAK,KAAK,oBAAoB,KAAK;QAC9C,oBAAoB;QACpB,IAAI,oBAAoB,CAAC,GAAG;YACxB,gBAAgB,IAAI,CAAC;YACrB;QACJ;QACA,yDAAyD;QACzD,eAAe,CAAC,gBAAgB,GAAG;IACnC,uGAAuG;IACvG,wGAAwG;IAC5G;IACA,gGAAgG;IAChG,iDAAiD;IACjD,OAAO,gBAAgB,MAAM,CAAC,CAAC,aAAe,oBAAoB,GAAG,CAAC,WAAW,OAAO,KACpF,iBAAiB,GAAG,CAAC,WAAW,KAAK;AAC7C","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4403, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useWalletConnectors/useWalletConnectors.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useState, useRef, useMemo, useEffect, useCallback } from 'react';\nimport { DynamicError } from '@dynamic-labs/utils';\nimport { isEmailWalletConnector } from '@dynamic-labs/wallet-connector-core';\nimport { useInternalUserWallets } from '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport { logger } from '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport { dynamicEvents } from '../../../events/dynamicEvents.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport { updatePrimaryWalletId } from '../../functions/updatePrimaryWalletId/updatePrimaryWalletId.js';\nimport { createLinkedWalletsFromWalletOptions } from './utils/createLinkedWalletsFromWalletOptions/createLinkedWalletsFromWalletOptions.js';\nimport { updateUserWalletsFromLinkedWallets } from './utils/updateUserWalletsFromLinkedWallets/updateUserWalletsFromLinkedWallets.js';\n\nconst useWalletConnectors = ({ connectedWallets, walletConnectorOptions, setMultiWalletWidgetState, primaryWalletId, user, canHaveMultipleWalletsConnected, separateSmartWalletAndSigner = false, }) => {\n    const [showQrcodeModal, setShowQrcodeModal] = useState(false);\n    // keeps track of the last primary wallet id to avoid emitting the same event multiple times\n    const lastPrimaryWalletId = useRef(primaryWalletId);\n    const linkedWallets = useMemo(() => {\n        if (!user) {\n            return [];\n        }\n        return createLinkedWalletsFromWalletOptions({\n            primaryWalletId,\n            separateSmartWalletAndSigner,\n            user,\n            walletConnectorOptions,\n        });\n    }, [\n        user,\n        primaryWalletId,\n        walletConnectorOptions,\n        separateSmartWalletAndSigner,\n    ]);\n    logger.logVerboseTroubleshootingMessage('linkedWallets', linkedWallets);\n    const wallets = useMemo(() => {\n        if (user) {\n            return linkedWallets;\n        }\n        // This is to handle users in connect-only who have not yet connected a wallet\n        return connectedWallets !== null && connectedWallets !== void 0 ? connectedWallets : [];\n    }, [connectedWallets, linkedWallets, user]);\n    logger.logVerboseTroubleshootingMessage('wallets', wallets);\n    /**\n     * This useEffect is temporary.\n     * While the wallet connectors don't use the event emitter, we need to manually\n     * initialize the bridge between the old event listeners and the new event emitter.\n     * When the wallet connectors are migrated to the new event emitter, there will be no\n     * need to initialize or teardown event listeners, then we can remove this useEffect.\n     */\n    useEffect(() => wallets.forEach((wallet) => {\n        wallet.connector.initEventListener();\n    }), [wallets]);\n    const { setUserWallets } = useInternalUserWallets();\n    // Keep userWallets in sync whenever linkedWallets changes\n    useEffect(() => {\n        logger.logVerboseTroubleshootingMessage('[useWalletConnectors] will call setUserWallets', wallets);\n        setUserWallets((userWallets) => updateUserWalletsFromLinkedWallets(userWallets, wallets));\n    }, [setUserWallets, wallets]);\n    const primaryWallet = useMemo(() => { var _a; return (_a = wallets.find((wallet) => wallet.id === primaryWalletId)) !== null && _a !== void 0 ? _a : null; }, [primaryWalletId, wallets]);\n    // emit primaryWalletChanged event if the primary wallet changes\n    useEffect(() => {\n        if (primaryWallet && primaryWallet.id !== lastPrimaryWalletId.current) {\n            lastPrimaryWalletId.current = primaryWallet.id;\n            dynamicEvents.emit('primaryWalletChanged', primaryWallet);\n        }\n    }, [primaryWallet]);\n    const secondaryWallets = useMemo(() => canHaveMultipleWalletsConnected\n        ? wallets.filter((wallet) => wallet.id !== primaryWalletId)\n        : [], [primaryWalletId, wallets, canHaveMultipleWalletsConnected]);\n    const getSelectedWallet = useCallback((walletId) => __awaiter(void 0, void 0, void 0, function* () {\n        const newWallet = wallets.find(({ id }) => id === walletId);\n        if (!newWallet) {\n            throw new DynamicError(`Wallet with id: ${walletId} not found`);\n        }\n        return newWallet;\n    }), [wallets]);\n    const setPrimaryWallet = useCallback((walletId) => __awaiter(void 0, void 0, void 0, function* () {\n        const newPrimaryWallet = yield getSelectedWallet(walletId);\n        if (!primaryWalletId) {\n            updatePrimaryWalletId(walletId);\n            return;\n        }\n        if (primaryWalletId === walletId)\n            return;\n        if (isEmailWalletConnector(newPrimaryWallet.connector)) {\n            const emailConnector = newPrimaryWallet.connector;\n            const email = localStorage.getItem('magic-link-email');\n            if (email) {\n                emailConnector.setEmail(email);\n            }\n        }\n        updatePrimaryWalletId(walletId);\n        setMultiWalletWidgetState('idle');\n    }), [getSelectedWallet, primaryWalletId, setMultiWalletWidgetState]);\n    return {\n        primaryWallet,\n        secondaryWallets,\n        setPrimaryWallet,\n        setShowQrcodeModal,\n        showQrcodeModal,\n        wallets,\n    };\n};\n\nexport { useWalletConnectors };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4605, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useWalletConnectors/reconnectSocialWallet.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { isSocialWalletConnector, isSameAddress } from '@dynamic-labs/wallet-connector-core';\nimport { JwtVerifiedCredentialFormatEnum } from '@dynamic-labs/sdk-api-core';\n\n/**\n * This function will use a referenced account to kick off the social wallet\n * authentication. This is useful in the multiwallet scenario where the user\n * wants to set their disconnected social wallet as their primary wallet, in\n * which case the wallet needs to be reconnected\n */\nconst reconnectSocialWallet = (user, connector, walletAddress, walletChain) => __awaiter(void 0, void 0, void 0, function* () {\n    if (!isSocialWalletConnector(connector)) {\n        return;\n    }\n    const socialAccountDataForWallet = user === null || user === void 0 ? void 0 : user.verifiedCredentials.find((account) => account.format === JwtVerifiedCredentialFormatEnum.Oauth &&\n        account.address &&\n        isSameAddress(account.address, walletAddress, walletChain));\n    if (!socialAccountDataForWallet ||\n        !socialAccountDataForWallet.oauthProvider) {\n        return;\n    }\n    yield connector.connect(socialAccountDataForWallet.oauthProvider);\n});\n\nexport { reconnectSocialWallet };\n"],"names":[],"mappings":";;;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAHA;;;;AAKA;;;;;CAKC,GACD,MAAM,wBAAwB,CAAC,MAAM,WAAW,eAAe,cAAgB,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG;QAC7G,IAAI,CAAC,CAAA,GAAA,yOAAA,CAAA,0BAAuB,AAAD,EAAE,YAAY;YACrC;QACJ;QACA,MAAM,6BAA6B,SAAS,QAAQ,SAAS,KAAK,IAAI,KAAK,IAAI,KAAK,mBAAmB,CAAC,IAAI,CAAC,CAAC,UAAY,QAAQ,MAAM,KAAK,8MAAA,CAAA,kCAA+B,CAAC,KAAK,IAC9K,QAAQ,OAAO,IACf,CAAA,GAAA,qNAAA,CAAA,gBAAa,AAAD,EAAE,QAAQ,OAAO,EAAE,eAAe;QAClD,IAAI,CAAC,8BACD,CAAC,2BAA2B,aAAa,EAAE;YAC3C;QACJ;QACA,MAAM,UAAU,OAAO,CAAC,2BAA2B,aAAa;IACpE","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4640, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useCreateDynamicEmbeddedWalletMutation/useCreateDynamicEmbeddedWalletMutation.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useState, useCallback } from 'react';\nimport { EmbeddedWalletChainEnum } from '@dynamic-labs/sdk-api-core';\nimport { DynamicError } from '@dynamic-labs/utils';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport { logger } from '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport { dynamicEvents } from '../../../events/dynamicEvents.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport { USER_NOT_LOGGED_IN } from '../../constants/errors.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport { updatePrimaryWalletId } from '../../functions/updatePrimaryWalletId/updatePrimaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport { createEmbeddedWalletRequest } from '../../../views/Passkey/utils/createEmbeddedWalletRequest/createEmbeddedWalletRequest.js';\nimport { findPasskeyEmailWalletConnector } from '../../../views/Passkey/utils/findPasskeyEmailWalletConnector/findPasskeyEmailWalletConnector.js';\nimport { findSmartWallet, initializeSmartWallet } from '../useWalletConnectors/utils/smartWallet/smartWallet.js';\nimport { findPrimaryEmbeddedChain } from '../../../views/Passkey/utils/findPrimaryEmbeddedChain/findPrimaryEmbeddedChain.js';\nimport { useEmbeddedWalletSessionKeys } from '../useEmbeddedWalletSessionKeys/useEmbeddedWalletSessionKeys.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../../functions/compareChains/compareChains.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\n// This hook needs to be async that's why it's not using useMutation\nconst useCreateDynamicEmbeddedWalletMutation = () => {\n    var _a, _b;\n    const { user, setShowAuthFlow, projectSettings, environmentId } = useInternalDynamicContext();\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState();\n    const { getSessionPublicKey, shouldRegisterSessionKeysOnSignin } = useEmbeddedWalletSessionKeys({\n        environmentId,\n        projectSettings,\n    });\n    const embeddedChainConfig = ((_b = (_a = projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.sdk) === null || _a === void 0 ? void 0 : _a.embeddedWallets) === null || _b === void 0 ? void 0 : _b.chainConfigurations) || [];\n    const primaryEmbeddedChain = findPrimaryEmbeddedChain(projectSettings);\n    const embeddedChains = embeddedChainConfig\n        .filter((chain) => chain.enabled)\n        .map((c) => c.name === 'SOL'\n        ? EmbeddedWalletChainEnum.Sol\n        : EmbeddedWalletChainEnum.Evm);\n    const createDynamicEmbeddedWalletMutation = useCallback((_c) => __awaiter(void 0, [_c], void 0, function* ({ environmentId, walletConnectorOptions, withAuthenticator, options, chains, }) {\n        var _d, _e;\n        setIsLoading(true);\n        if (!user) {\n            throw new DynamicError(USER_NOT_LOGGED_IN);\n        }\n        let sessionPublicKey;\n        // get the session public key that was created in the login/signup flow\n        if (shouldRegisterSessionKeysOnSignin()) {\n            sessionPublicKey = getSessionPublicKey();\n        }\n        try {\n            const { embeddedWalletVerifiedCredential, updatedUser, walletConnector, } = yield createEmbeddedWalletRequest({\n                chains: chains !== null && chains !== void 0 ? chains : embeddedChains,\n                environmentId,\n                sessionPublicKey,\n                user,\n                walletConnector: findPasskeyEmailWalletConnector(walletConnectorOptions, primaryEmbeddedChain),\n                webAuthnAttestation: options === null || options === void 0 ? void 0 : options.webAuthnAttestation,\n                withAuthenticator,\n            });\n            const turnkeyVerifiedCredentials = (_d = updatedUser.verifiedCredentials) === null || _d === void 0 ? void 0 : _d.find(({ walletName }) => walletName === null || walletName === void 0 ? void 0 : walletName.startsWith('turnkey'));\n            /** It's not authenticated if it's a turnkey wallet that still hasn't created a passkey */\n            const isAuthenticated = Boolean((_e = turnkeyVerifiedCredentials === null || turnkeyVerifiedCredentials === void 0 ? void 0 : turnkeyVerifiedCredentials.walletProperties) === null || _e === void 0 ? void 0 : _e.isAuthenticatorAttached);\n            const embeddedWallet = walletConnector.createWallet({\n                address: (yield walletConnector.getAddress()) || '',\n                chain: walletConnector.connectedChain,\n                connector: walletConnector,\n                id: embeddedWalletVerifiedCredential.id,\n                isAuthenticated,\n                key: embeddedWalletVerifiedCredential.walletName || walletConnector.key,\n            });\n            const smartWallet = findSmartWallet(embeddedWalletVerifiedCredential, updatedUser.verifiedCredentials);\n            if (!smartWallet) {\n                updatePrimaryWalletId(embeddedWalletVerifiedCredential.id);\n            }\n            else {\n                yield initializeSmartWallet({\n                    account: smartWallet,\n                    primaryWalletId: smartWallet.id,\n                    verifiedCredentials: updatedUser.verifiedCredentials,\n                    walletConnectorOptions,\n                });\n                updatePrimaryWalletId(smartWallet.id);\n            }\n            dynamicEvents.emit('embeddedWalletCreated', embeddedWallet, turnkeyVerifiedCredentials, updatedUser);\n            setShowAuthFlow(false, { performMultiWalletChecks: false });\n        }\n        catch (err) {\n            logger.error('Failed to create embedded wallet', err);\n            setError(err);\n            dynamicEvents.emit('embeddedWalletFailed', err);\n        }\n        finally {\n            setIsLoading(false);\n        }\n    }), [\n        embeddedChains,\n        primaryEmbeddedChain,\n        setShowAuthFlow,\n        user,\n        getSessionPublicKey,\n        shouldRegisterSessionKeysOnSignin,\n    ]);\n    return {\n        createDynamicEmbeddedWalletMutation,\n        error,\n        isLoading,\n    };\n};\n\nexport { useCreateDynamicEmbeddedWalletMutation };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 4937, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useOnlyConnectedMode/useOnlyConnectedMode.js"],"sourcesContent":["'use client'\nimport 'react';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../../../_virtual/_tslib.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useOnlyConnectedMode = () => {\n    const { authMode, user } = useInternalDynamicContext();\n    return authMode === 'connect-only' && !user;\n};\n\nexport { useOnlyConnectedMode };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA,MAAM,uBAAuB;IACzB,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IACnD,OAAO,aAAa,kBAAkB,CAAC;AAC3C","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5133, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useKYCFlag/useKYCFlag.js"],"sourcesContent":["'use client'\nimport 'react';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../../../_virtual/_tslib.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport { getUserProfileFields } from '../../functions/getUserProfileFields/getUserProfileFields.js';\nimport '../../../store/state/nonce/nonce.js';\nimport { isSocialKycEnabled } from '../../functions/isSocialKycEnabled/isSocialKycEnabled.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport { useOnlyConnectedMode } from '../useOnlyConnectedMode/useOnlyConnectedMode.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\n/* eslint-disable max-len */\n/**\n * A custom React hook that checks if KYC fields are enabled in the project settings or defined in the user profile.\n *\n * @returns {boolean} - A boolean value indicating whether the KYC fields are enabled in the project settings or defined in the user profile.\n */\nconst useKYCFlag = () => {\n    const isOnlyConnectedMode = useOnlyConnectedMode();\n    const { projectSettings, user } = useInternalDynamicContext();\n    if (isOnlyConnectedMode)\n        return false;\n    const hasAnyKYCFields = getUserProfileFields({\n        customFields: projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.customFields,\n        projectSettingsKyc: projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.kyc,\n        user,\n    });\n    return hasAnyKYCFields.length > 0 || isSocialKycEnabled(projectSettings);\n};\n\nexport { useKYCFlag };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA,0BAA0B,GAC1B;;;;CAIC,GACD,MAAM,aAAa;IACf,MAAM,sBAAsB,CAAA,GAAA,4OAAA,CAAA,uBAAoB,AAAD;IAC/C,MAAM,EAAE,eAAe,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IAC1D,IAAI,qBACA,OAAO;IACX,MAAM,kBAAkB,CAAA,GAAA,gPAAA,CAAA,uBAAoB,AAAD,EAAE;QACzC,cAAc,oBAAoB,QAAQ,oBAAoB,KAAK,IAAI,KAAK,IAAI,gBAAgB,YAAY;QAC5G,oBAAoB,oBAAoB,QAAQ,oBAAoB,KAAK,IAAI,KAAK,IAAI,gBAAgB,GAAG;QACzG;IACJ;IACA,OAAO,gBAAgB,MAAM,GAAG,KAAK,CAAA,GAAA,4OAAA,CAAA,qBAAkB,AAAD,EAAE;AAC5D","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5346, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useConfirmationModal/useConfirmationModal.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { jsx } from 'react/jsx-runtime';\nimport { useState, useCallback } from 'react';\nimport { createPortal } from 'react-dom';\nimport { useElementById } from '../useElementById/useElementById.js';\n\n/**\n * Allows showing a modal for the user to confirm or cancel.\n *\n * The open method accepts a callback which receives a (resolve, reject) pair to be called if the user\n * confirms or cancels the operation, and must return the ReactNode for the modal to be displayed.\n *\n * @param {string} elementId The id of the modal root, to which the modal will be portalled\n * @returns {ConfirmationModalHookResult} An object with a method to open a modal and a reference to the modal itself.\n */\nconst useConfirmationModal = ({ elementId, }) => {\n    const { createRootElement } = useElementById();\n    const modalRootElementRef = createRootElement(elementId);\n    const [node, setNode] = useState(null);\n    const open = useCallback((builder) => __awaiter(void 0, void 0, void 0, function* () {\n        const promise = new Promise((resolve, reject) => {\n            try {\n                setNode(builder(resolve, reject));\n            }\n            catch (err) {\n                reject(err);\n            }\n        });\n        return promise.finally(() => {\n            setNode(undefined);\n        });\n    }), [setNode]);\n    return {\n        modal: node ? (jsx(\"div\", { children: createPortal(node, modalRootElementRef.current) })) : undefined,\n        open,\n    };\n};\n\nexport { useConfirmationModal };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AALA;;;;;;AAOA;;;;;;;;CAQC,GACD,MAAM,uBAAuB,CAAC,EAAE,SAAS,EAAG;IACxC,MAAM,EAAE,iBAAiB,EAAE,GAAG,CAAA,GAAA,gOAAA,CAAA,iBAAc,AAAD;IAC3C,MAAM,sBAAsB,kBAAkB;IAC9C,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,OAAO,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;kDAAE,CAAC,UAAY,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK;0DAAG;oBACpE,MAAM,UAAU,IAAI;kEAAQ,CAAC,SAAS;4BAClC,IAAI;gCACA,QAAQ,QAAQ,SAAS;4BAC7B,EACA,OAAO,KAAK;gCACR,OAAO;4BACX;wBACJ;;oBACA,OAAO,QAAQ,OAAO;kEAAC;4BACnB,QAAQ;wBACZ;;gBACJ;;iDAAI;QAAC;KAAQ;IACb,OAAO;QACH,OAAO,OAAQ,CAAA,GAAA,sKAAA,CAAA,MAAG,AAAD,EAAE,OAAO;YAAE,UAAU,CAAA,GAAA,oKAAA,CAAA,eAAY,AAAD,EAAE,MAAM,oBAAoB,OAAO;QAAE,KAAM;QAC5F;IACJ;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5408, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useAuthLayoutChecks/useAllowClose/useAllowClose.js"],"sourcesContent":["'use client'\nimport { useViewContext } from '../../../../context/ViewContext/ViewContext.js';\nimport { hasPendingMfaAction } from '../../../../shared/utils/functions/hasPendingMfaAction/hasPendingMfaAction.js';\nimport { useUserCoalesced } from '../../../../store/state/user/user.js';\nimport '@dynamic-labs/utils';\nimport '../../../constants/values.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../../store/state/projectSettings/projectSettings.js';\nimport { mfaViewsThatPreventModalClose, viewsThatPreventModalClose, viewsThatHideCloseButton } from '../../../constants/authViewLayoutChecks.js';\n\nconst useAllowClose = () => {\n    const { view } = useViewContext();\n    const user = useUserCoalesced();\n    const isMfaPreventingClose = user &&\n        hasPendingMfaAction(user) &&\n        mfaViewsThatPreventModalClose.includes(view.type);\n    const allowsClosing = !isMfaPreventingClose && !viewsThatPreventModalClose.includes(view.type);\n    const showCloseButton = allowsClosing && !viewsThatHideCloseButton.includes(view.type);\n    return {\n        /**\n         * Whether user can close the current view\n         */\n        allowsClosing,\n        /**\n         * Whether the close button should be shown.\n         * Even if the view allows closing, the close button may still be hidden.\n         */\n        showCloseButton,\n    };\n};\n\nexport { useAllowClose };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;AAUA,MAAM,gBAAgB;IAClB,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,mNAAA,CAAA,iBAAc,AAAD;IAC9B,MAAM,OAAO,CAAA,GAAA,4MAAA,CAAA,mBAAgB,AAAD;IAC5B,MAAM,uBAAuB,QACzB,CAAA,GAAA,wPAAA,CAAA,sBAAmB,AAAD,EAAE,SACpB,wNAAA,CAAA,gCAA6B,CAAC,QAAQ,CAAC,KAAK,IAAI;IACpD,MAAM,gBAAgB,CAAC,wBAAwB,CAAC,wNAAA,CAAA,6BAA0B,CAAC,QAAQ,CAAC,KAAK,IAAI;IAC7F,MAAM,kBAAkB,iBAAiB,CAAC,wNAAA,CAAA,2BAAwB,CAAC,QAAQ,CAAC,KAAK,IAAI;IACrF,OAAO;QACH;;SAEC,GACD;QACA;;;SAGC,GACD;IACJ;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5451, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useAuthLayoutChecks/useAuthLayoutChecks.js"],"sourcesContent":["'use client'\nimport 'react';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport { useViewContext } from '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../../../_virtual/_tslib.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport { useProjectSettings } from '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport { useUserCoalesced } from '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport { useMockContext } from '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport { useAllowClose } from './useAllowClose/useAllowClose.js';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport { useFooterAnimationContext } from '../../../context/FooterAnimationContext/index.js';\nimport { isUserLinkingWallet } from '../../../shared/utils/functions/isUserLinkingWallet/isUserLinkingWallet.js';\nimport { viewsThatPreventBorderBelowHeader, viewsWithWalletListType, viewsThatHideHelpContent, viewsThatHideHeader, viewsThatShowConnectedWalletProgress, viewsThatShowDynamicFooter } from '../../constants/authViewLayoutChecks.js';\nimport { useDynamicLayoutData } from '../useDynamicLayoutData/useDynamicLayoutData.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useAuthLayoutChecks = () => {\n    var _a;\n    const { view } = useViewContext();\n    const { customPrivacyPolicy, customTermsOfServices, privacyPolicyUrl, termsOfServiceUrl, isBridgeFlow, authMode, } = useInternalDynamicContext();\n    const { isFooterExpanded } = useFooterAnimationContext();\n    const { mockedSDK } = useMockContext();\n    const { helpHeaderData } = useDynamicLayoutData({\n        authMode,\n        view: view.type,\n    });\n    const user = useUserCoalesced();\n    const projectSettings = useProjectSettings();\n    const isLinkingWallet = isUserLinkingWallet(user, view.type, mockedSDK);\n    const displayBorderBelowHeader = !viewsThatPreventBorderBelowHeader.includes(view.type) || isFooterExpanded;\n    const isWalletListTypeView = viewsWithWalletListType.includes(view.type);\n    const showHelpContent = Boolean(helpHeaderData &&\n        !viewsThatHideHelpContent.includes(view.type) &&\n        !isLinkingWallet);\n    const showHeader = !viewsThatHideHeader.includes(view.type);\n    const showConnectedWalletProgress = isBridgeFlow && viewsThatShowConnectedWalletProgress.includes(view.type);\n    const showToSFooter = Boolean(!isLinkingWallet &&\n        (view.type === 'wallet-list' ||\n            view.type === 'wallet-connect-mobile-wallets-list' ||\n            // Don't show empty footer during the login\n            ((view.type === 'login-with-email-or-wallet' ||\n                view.type === 'login-with-email-or-wallet-full-wallet-list' ||\n                view.type === 'login-with-wallet-only' ||\n                view.type === 'multi-wallet-wallet-list') &&\n                (termsOfServiceUrl ||\n                    privacyPolicyUrl ||\n                    customPrivacyPolicy ||\n                    customTermsOfServices))));\n    const showDynamicFooter = Boolean((_a = projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.sdk) === null || _a === void 0 ? void 0 : _a.displayDynamicMessaging) &&\n        viewsThatShowDynamicFooter.includes(view.type);\n    const showDefaultFooter = !showConnectedWalletProgress && !showDynamicFooter && !showToSFooter;\n    const shouldHideDynamicFooterSeparator = showDynamicFooter && showToSFooter;\n    const { allowsClosing, showCloseButton } = useAllowClose();\n    return {\n        allowsClosing,\n        displayBorderBelowHeader,\n        isWalletListTypeView,\n        shouldHideDynamicFooterSeparator,\n        showCloseButton,\n        showConnectedWalletProgress,\n        showDefaultFooter,\n        showDynamicFooter,\n        showHeader,\n        showHelpContent,\n        showToSFooter,\n    };\n};\n\nexport { useAuthLayoutChecks };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5688, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useKeyboardEventListener/useKeyboardEventListener.js"],"sourcesContent":["'use client'\nimport { useEffect } from 'react';\n\nconst useKeyboardEventListener = ({ disabled, inputKey, onKeyPressed, }) => {\n    useEffect(() => {\n        const handleKeydown = (evt) => {\n            if (disabled || evt.key !== inputKey)\n                return;\n            onKeyPressed(evt);\n        };\n        document.addEventListener('keydown', handleKeydown);\n        return () => {\n            document.removeEventListener('keydown', handleKeydown);\n        };\n    }, [disabled, inputKey, onKeyPressed]);\n};\n\nexport { useKeyboardEventListener };\n"],"names":[],"mappings":";;;AACA;AADA;;AAGA,MAAM,2BAA2B,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,YAAY,EAAG;IACnE,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;8CAAE;YACN,MAAM;oEAAgB,CAAC;oBACnB,IAAI,YAAY,IAAI,GAAG,KAAK,UACxB;oBACJ,aAAa;gBACjB;;YACA,SAAS,gBAAgB,CAAC,WAAW;YACrC;sDAAO;oBACH,SAAS,mBAAmB,CAAC,WAAW;gBAC5C;;QACJ;6CAAG;QAAC;QAAU;QAAU;KAAa;AACzC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5723, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useNetworkDataFromWallet/useNetworkDataFromWallet.js"],"sourcesContent":["'use client'\nimport { usePromise } from '../usePromise/usePromise.js';\n\nconst useNetworkDataFromWallet = (wallet) => {\n    const { data: network } = usePromise(() => wallet === null || wallet === void 0 ? void 0 : wallet.connector.getNetwork(true), {\n        enabled: Boolean(wallet),\n    });\n    if (!wallet || !network)\n        return undefined;\n    return wallet.connector\n        .getEnabledNetworks()\n        .find((_network) => _network.chainId === network);\n};\n\nexport { useNetworkDataFromWallet };\n"],"names":[],"mappings":";;;AACA;AADA;;AAGA,MAAM,2BAA2B,CAAC;IAC9B,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,CAAA,GAAA,wNAAA,CAAA,aAAU,AAAD;+CAAE,IAAM,WAAW,QAAQ,WAAW,KAAK,IAAI,KAAK,IAAI,OAAO,SAAS,CAAC,UAAU,CAAC;8CAAO;QAC1H,SAAS,QAAQ;IACrB;IACA,IAAI,CAAC,UAAU,CAAC,SACZ,OAAO;IACX,OAAO,OAAO,SAAS,CAClB,kBAAkB,GAClB,IAAI,CAAC,CAAC,WAAa,SAAS,OAAO,KAAK;AACjD","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5745, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useColorSchemePreference/useColorSchemePreference.js"],"sourcesContent":["'use client'\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport { useMediaQuery } from '../../../shared/utils/hooks/useMediaQuery/useMediaQuery.js';\nimport '../../../shared/consts/index.js';\n\nconst useColorSchemePreference = () => {\n    const isDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n    return isDarkMode ? 'dark' : 'light';\n};\n\nexport { useColorSchemePreference };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;;;;;;;;;;;;;;AAeA,MAAM,2BAA2B;IAC7B,MAAM,aAAa,CAAA,GAAA,wOAAA,CAAA,gBAAa,AAAD,EAAE;IACjC,OAAO,aAAa,SAAS;AACjC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5786, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useIconThemeVariant/useIconThemeVariant.js"],"sourcesContent":["'use client'\nimport { useThemeContext } from '../../../context/ThemeContext/ThemeContext.js';\nimport { useColorSchemePreference } from '../useColorSchemePreference/useColorSchemePreference.js';\n\nconst useIconThemeVariant = () => {\n    const { theme: { theme: { name }, }, } = useThemeContext();\n    const preference = useColorSchemePreference();\n    const variant = name === 'auto' ? preference : name;\n    return variant;\n};\n\nexport { useIconThemeVariant };\n"],"names":[],"mappings":";;;AACA;AACA;AAFA;;;AAIA,MAAM,sBAAsB;IACxB,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,EAAG,EAAG,GAAG,CAAA,GAAA,qNAAA,CAAA,kBAAe,AAAD;IACvD,MAAM,aAAa,CAAA,GAAA,oPAAA,CAAA,2BAAwB,AAAD;IAC1C,MAAM,UAAU,SAAS,SAAS,aAAa;IAC/C,OAAO;AACX","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5807, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useFindSocialIcon/useFindSocialIcon.js"],"sourcesContent":["'use client'\nimport { useCallback } from 'react';\nimport { findSocialIcon } from '@dynamic-labs/iconic';\nimport { useIconThemeVariant } from '../useIconThemeVariant/useIconThemeVariant.js';\n\nconst useFindSocialIcon = () => {\n    const variant = useIconThemeVariant();\n    return useCallback((provider) => findSocialIcon(provider, variant), [variant]);\n};\n\nexport { useFindSocialIcon };\n"],"names":[],"mappings":";;;AACA;AACA;AAAA;AACA;AAHA;;;;AAKA,MAAM,oBAAoB;IACtB,MAAM,UAAU,CAAA,GAAA,0OAAA,CAAA,sBAAmB,AAAD;IAClC,OAAO,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;yCAAE,CAAC,WAAa,CAAA,GAAA,qLAAA,CAAA,iBAAc,AAAD,EAAE,UAAU;wCAAU;QAAC;KAAQ;AACjF","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5833, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useWalletConnectorNetwork/useWalletConnectorNetwork.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useState, useMemo } from 'react';\nimport { usePromise } from '../usePromise/usePromise.js';\nimport '../../../events/dynamicEvents.js';\nimport { useWalletConnectorEvent } from '../events/useWalletConnectorEvent/useWalletConnectorEvent.js';\nimport { useConnectorsInitializing } from '../../../store/state/connectorsInitializing/connectorsInitializing.js';\n\n/**\n * Sync wallet connector network.\n *\n * @param walletConnector - The WalletConnector instance to be used.\n *\n * @returns {{ network: string | number | undefined }} An object containing the current network state.\n *\n * @example\n * // Example of using the useWalletConnectorNetwork hook\n * const { network } = useWalletConnectorNetwork(walletConnector);\n *\n * // You can then use the 'network' state in your component\n * return <div>Current Network: {network}</div>;\n */\nconst useWalletConnectorNetwork = (walletConnector, { onChange } = { onChange: () => { } }) => {\n    const [network, setNetwork] = useState();\n    const connectorsInitializing = useConnectorsInitializing();\n    const isConnectorInitialized = useMemo(() => {\n        if (!walletConnector) {\n            return false;\n        }\n        // this is a special case for WalletConnect because we have\n        // multiple WC connectors with different keys\n        if (walletConnector.isWalletConnect) {\n            return Boolean(connectorsInitializing['walletconnect']);\n        }\n        return Boolean(connectorsInitializing[walletConnector.key]);\n    }, [connectorsInitializing, walletConnector]);\n    const { isLoading } = usePromise(() => walletConnector === null || walletConnector === void 0 ? void 0 : walletConnector.getNetwork(true), {\n        deps: [walletConnector, isConnectorInitialized],\n        onResolve: (network) => {\n            setNetwork(network);\n        },\n    });\n    useWalletConnectorEvent(walletConnector || undefined, 'chainChange', ({ chain }) => {\n        const parsedChain = (walletConnector === null || walletConnector === void 0 ? void 0 : walletConnector.connectedChain) === 'STARK' ? chain : parseInt(chain);\n        setNetwork(parsedChain);\n        onChange === null || onChange === void 0 ? void 0 : onChange(parsedChain);\n    });\n    /**\n     * Listen to disconnect event and update the network because ArgentX\n     * emits a disconnect event when the user switches network.\n     */\n    useWalletConnectorEvent(walletConnector || undefined, 'disconnect', () => __awaiter(void 0, void 0, void 0, function* () {\n        if ((walletConnector === null || walletConnector === void 0 ? void 0 : walletConnector.key) !== 'argentx')\n            return;\n        const chain = yield walletConnector.getNetwork(true);\n        setNetwork(chain);\n        onChange === null || onChange === void 0 ? void 0 : onChange(chain);\n    }));\n    return { isLoading, network };\n};\n\nexport { useWalletConnectorNetwork };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQA;;;;;;;;;;;;;CAaC,GACD,MAAM,4BAA4B,CAAC,iBAAiB,EAAE,QAAQ,EAAE,GAAG;IAAE,UAAU,KAAQ;AAAE,CAAC;IACtF,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD;IACrC,MAAM,yBAAyB,CAAA,GAAA,gPAAA,CAAA,4BAAyB,AAAD;IACvD,MAAM,yBAAyB,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;qEAAE;YACnC,IAAI,CAAC,iBAAiB;gBAClB,OAAO;YACX;YACA,2DAA2D;YAC3D,6CAA6C;YAC7C,IAAI,gBAAgB,eAAe,EAAE;gBACjC,OAAO,QAAQ,sBAAsB,CAAC,gBAAgB;YAC1D;YACA,OAAO,QAAQ,sBAAsB,CAAC,gBAAgB,GAAG,CAAC;QAC9D;oEAAG;QAAC;QAAwB;KAAgB;IAC5C,MAAM,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,wNAAA,CAAA,aAAU,AAAD;gDAAE,IAAM,oBAAoB,QAAQ,oBAAoB,KAAK,IAAI,KAAK,IAAI,gBAAgB,UAAU,CAAC;+CAAO;QACvI,MAAM;YAAC;YAAiB;SAAuB;QAC/C,SAAS;oDAAE,CAAC;gBACR,WAAW;YACf;;IACJ;IACA,CAAA,GAAA,4PAAA,CAAA,0BAAuB,AAAD,EAAE,mBAAmB,WAAW;6DAAe,CAAC,EAAE,KAAK,EAAE;YAC3E,MAAM,cAAc,CAAC,oBAAoB,QAAQ,oBAAoB,KAAK,IAAI,KAAK,IAAI,gBAAgB,cAAc,MAAM,UAAU,QAAQ,SAAS;YACtJ,WAAW;YACX,aAAa,QAAQ,aAAa,KAAK,IAAI,KAAK,IAAI,SAAS;QACjE;;IACA;;;KAGC,GACD,CAAA,GAAA,4PAAA,CAAA,0BAAuB,AAAD,EAAE,mBAAmB,WAAW;6DAAc,IAAM,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK;qEAAG;oBACxG,IAAI,CAAC,oBAAoB,QAAQ,oBAAoB,KAAK,IAAI,KAAK,IAAI,gBAAgB,GAAG,MAAM,WAC5F;oBACJ,MAAM,QAAQ,MAAM,gBAAgB,UAAU,CAAC;oBAC/C,WAAW;oBACX,aAAa,QAAQ,aAAa,KAAK,IAAI,KAAK,IAAI,SAAS;gBACjE;;;IACA,OAAO;QAAE;QAAW;IAAQ;AAChC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 5928, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useHandleWalletsToConnect/useHandleWalletsToConnect.js"],"sourcesContent":["'use client'\nimport 'react';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport { useViewContext } from '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../../../_virtual/_tslib.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useHandleWalletsToConnect = () => {\n    const { bridgeChains, bridgeChainsToConnect, setShowAuthFlow, bridgeOnboardingCompleted, setBridgeOnboardingCompleted, } = useInternalDynamicContext();\n    const { pushView, clearStackAndPushInitialView } = useViewContext();\n    const handleWalletsToConnect = ({ walletConnector, }) => {\n        if (!bridgeChains) {\n            setShowAuthFlow(false);\n            return;\n        }\n        if (!bridgeChainsToConnect) {\n            setBridgeOnboardingCompleted(true);\n            setShowAuthFlow(false);\n            return;\n        }\n        // Avoid showing wallet-list when wallet updates network to the correct one in run time (bridge mode)\n        if (bridgeChainsToConnect.length === 0) {\n            setShowAuthFlow(false);\n            return clearStackAndPushInitialView();\n        }\n        if (!walletConnector || !walletConnector.connectedChain) {\n            setShowAuthFlow(false);\n            return clearStackAndPushInitialView();\n        }\n        const restOfWallets = bridgeChainsToConnect.filter((wallet) => wallet.chain !== (walletConnector === null || walletConnector === void 0 ? void 0 : walletConnector.connectedChain));\n        const allWalletsConnected = restOfWallets.length === 0;\n        if (allWalletsConnected) {\n            if (!bridgeOnboardingCompleted) {\n                setBridgeOnboardingCompleted(true);\n                pushView('bridge-summary');\n            }\n            else {\n                setShowAuthFlow(false);\n                clearStackAndPushInitialView();\n            }\n            return;\n        }\n        pushView('bridge-next-wallet-connection');\n    };\n    return { handleWalletsToConnect };\n};\n\nexport { useHandleWalletsToConnect };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA,MAAM,4BAA4B;IAC9B,MAAM,EAAE,YAAY,EAAE,qBAAqB,EAAE,eAAe,EAAE,yBAAyB,EAAE,4BAA4B,EAAG,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IACnJ,MAAM,EAAE,QAAQ,EAAE,4BAA4B,EAAE,GAAG,CAAA,GAAA,mNAAA,CAAA,iBAAc,AAAD;IAChE,MAAM,yBAAyB,CAAC,EAAE,eAAe,EAAG;QAChD,IAAI,CAAC,cAAc;YACf,gBAAgB;YAChB;QACJ;QACA,IAAI,CAAC,uBAAuB;YACxB,6BAA6B;YAC7B,gBAAgB;YAChB;QACJ;QACA,qGAAqG;QACrG,IAAI,sBAAsB,MAAM,KAAK,GAAG;YACpC,gBAAgB;YAChB,OAAO;QACX;QACA,IAAI,CAAC,mBAAmB,CAAC,gBAAgB,cAAc,EAAE;YACrD,gBAAgB;YAChB,OAAO;QACX;QACA,MAAM,gBAAgB,sBAAsB,MAAM,CAAC,CAAC,SAAW,OAAO,KAAK,KAAK,CAAC,oBAAoB,QAAQ,oBAAoB,KAAK,IAAI,KAAK,IAAI,gBAAgB,cAAc;QACjL,MAAM,sBAAsB,cAAc,MAAM,KAAK;QACrD,IAAI,qBAAqB;YACrB,IAAI,CAAC,2BAA2B;gBAC5B,6BAA6B;gBAC7B,SAAS;YACb,OACK;gBACD,gBAAgB;gBAChB;YACJ;YACA;QACJ;QACA,SAAS;IACb;IACA,OAAO;QAAE;IAAuB;AACpC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6160, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useSubdomainCheck/useSubdomainCheck.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useCallback } from 'react';\nimport { UserFieldsCheckEnum } from '@dynamic-labs/sdk-api-core';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport { getUserFieldsCheck } from '../../../data/api/user/user.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nvar SubdomainCheckResponseError;\n(function (SubdomainCheckResponseError) {\n    SubdomainCheckResponseError[SubdomainCheckResponseError[\"CHECK_FAILED\"] = 0] = \"CHECK_FAILED\";\n})(SubdomainCheckResponseError || (SubdomainCheckResponseError = {}));\n/** Hook to check if a subdomain is available */\nconst useSubdomainCheck = () => {\n    const { environmentId } = useInternalDynamicContext();\n    const checkSubdomain = useCallback((_a) => __awaiter(void 0, [_a], void 0, function* ({ subdomain, }) {\n        var _b;\n        const response = yield getUserFieldsCheck({\n            environmentId,\n            filter: {\n                field: UserFieldsCheckEnum.NameServiceSubdomainHandle,\n                value: subdomain,\n            },\n        });\n        if (!response) {\n            return {\n                available: false,\n                error: SubdomainCheckResponseError.CHECK_FAILED,\n            };\n        }\n        return {\n            available: (_b = response === null || response === void 0 ? void 0 : response.available) !== null && _b !== void 0 ? _b : false,\n            error: undefined,\n        };\n    }), [environmentId]);\n    return checkSubdomain;\n};\n\nexport { SubdomainCheckResponseError, useSubdomainCheck };\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA,IAAI;AACJ,CAAC,SAAU,2BAA2B;IAClC,2BAA2B,CAAC,2BAA2B,CAAC,eAAe,GAAG,EAAE,GAAG;AACnF,CAAC,EAAE,+BAA+B,CAAC,8BAA8B,CAAC,CAAC;AACnE,8CAA8C,GAC9C,MAAM,oBAAoB;IACtB,MAAM,EAAE,aAAa,EAAE,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IAClD,MAAM,iBAAiB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;yDAAE,CAAC,KAAO,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG;gBAAC;aAAG,EAAE,KAAK;iEAAG,UAAW,EAAE,SAAS,EAAG;oBAChG,IAAI;oBACJ,MAAM,WAAW,MAAM,CAAA,GAAA,yMAAA,CAAA,qBAAkB,AAAD,EAAE;wBACtC;wBACA,QAAQ;4BACJ,OAAO,kMAAA,CAAA,sBAAmB,CAAC,0BAA0B;4BACrD,OAAO;wBACX;oBACJ;oBACA,IAAI,CAAC,UAAU;wBACX,OAAO;4BACH,WAAW;4BACX,OAAO,4BAA4B,YAAY;wBACnD;oBACJ;oBACA,OAAO;wBACH,WAAW,CAAC,KAAK,aAAa,QAAQ,aAAa,KAAK,IAAI,KAAK,IAAI,SAAS,SAAS,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK;wBAC1H,OAAO;oBACX;gBACJ;;wDAAI;QAAC;KAAc;IACnB,OAAO;AACX","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6390, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useUserDataForm/useUserDataForm.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useState, useMemo, useCallback } from 'react';\nimport { object } from 'yup';\nimport { KycFieldType, CustomFieldType } from '@dynamic-labs/sdk-api-core';\nimport { DynamicError, EmailAlreadyExistsError, CustomFieldNotUniqueError, TooManyEmailVerificationsError, UsernameAlreadyExistsError, InvalidPhoneNumberError } from '@dynamic-labs/utils';\nimport { useMockContext } from '../../../context/MockContext/MockContext.js';\nimport { logger } from '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport { getValueByKey } from '../../../shared/utils/functions/getValueByKey/index.js';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport { countryCodes, tShirtSizes, teamNames } from '../../../shared/consts/index.js';\nimport { useFields, customFieldValidationMap } from '../../../views/CollectUserDataView/useFields.js';\n\n// Hook that returns the prepared data to work with the formik\n// In order to update or display user information\nconst useUserDataForm = ({ onSubmit, onError, userProfile, shouldEnforcePolicies = true, fields, }) => {\n    var _a;\n    const { mockedSDK } = useMockContext();\n    const [fetch, setFetch] = useState(false);\n    const { fieldsConfig } = useFields();\n    const enforcePolicies = shouldEnforcePolicies &&\n        ((_a = fields.find((setting) => setting.name === 'policiesConsent')) === null || _a === void 0 ? void 0 : _a.enabled);\n    const requiredTitleCase = (name) => `${name.charAt(0).toUpperCase() + name.slice(1)} is required`;\n    const formikValidationSchema = useMemo(() => object().shape(Object.fromEntries(fields.map(({ name, required, type, validationType, validationRules }) => {\n        let schema = type === KycFieldType.Custom\n            ? getValueByKey(customFieldValidationMap, validationType)\n            : getValueByKey(fieldsConfig, name).validation;\n        if (type === KycFieldType.Custom &&\n            validationRules &&\n            (validationType === CustomFieldType.Select ||\n                validationType === CustomFieldType.Text)) {\n            schema = schema;\n            if (validationRules.validOptions) {\n                schema = schema.oneOf(validationRules.validOptions.map((option) => option.label), 'Select a valid option');\n            }\n            else if (validationRules.regex) {\n                schema = schema.matches(new RegExp(validationRules.regex), 'Invalid field format');\n            }\n        }\n        return [\n            name,\n            required ? schema.required(requiredTitleCase(name)) : schema,\n        ];\n    }))), [fields]);\n    const formikInitialValues = useMemo(() => Object.fromEntries(fields.map(({ name, type, validationRules, validationType }) => {\n        var _a, _b, _c, _d;\n        const info = (userProfile !== null && userProfile !== void 0 ? userProfile : {});\n        if (type === KycFieldType.Custom) {\n            let defaultValue = '';\n            if (validationType === CustomFieldType.Select &&\n                (validationRules === null || validationRules === void 0 ? void 0 : validationRules.validOptions))\n                defaultValue = (_a = validationRules.validOptions[0].label) !== null && _a !== void 0 ? _a : '';\n            return [\n                name,\n                (() => {\n                    var _a;\n                    const value = info.metadata\n                        ? getValueByKey(info.metadata, name)\n                        : undefined;\n                    return Array.isArray(value)\n                        ? value\n                        : (_a = value === null || value === void 0 ? void 0 : value.toString()) !== null && _a !== void 0 ? _a : defaultValue;\n                })(),\n            ];\n        }\n        const mapNameToDefaultValue = {\n            country: countryCodes[0].code,\n            policiesConsent: false,\n            tShirtSize: tShirtSizes[0],\n            team: teamNames[0],\n        };\n        const defaultValue = (_b = mapNameToDefaultValue[name]) !== null && _b !== void 0 ? _b : '';\n        return [name, (_d = (_c = getValueByKey(info, name)) === null || _c === void 0 ? void 0 : _c.toString()) !== null && _d !== void 0 ? _d : defaultValue];\n    })) || {}, [fields, userProfile]);\n    const onFormSubmit = useCallback((values, formikHelper) => __awaiter(void 0, void 0, void 0, function* () {\n        const metadata = {};\n        const uniqueMetadata = {};\n        if (mockedSDK)\n            return;\n        try {\n            if (!(userProfile === null || userProfile === void 0 ? void 0 : userProfile.environmentId))\n                throw new DynamicError('Invalid environment ID');\n            setFetch(true);\n            let updatedUserFields = values;\n            // all kyc fields including custom are in the object, move custom fields to the object.metadata\n            Object.entries(updatedUserFields).forEach(([fieldName, fieldValue]) => {\n                const field = fields.find((f) => f.name === fieldName && f.type === KycFieldType.Custom);\n                if (field) {\n                    metadata[fieldName] = fieldValue;\n                    delete updatedUserFields[fieldName];\n                    if (field.unique)\n                        uniqueMetadata[fieldName] = fieldValue;\n                }\n            });\n            if (Object.keys(metadata).length > 0)\n                updatedUserFields.metadata = metadata;\n            if (enforcePolicies) {\n                updatedUserFields = Object.assign(Object.assign({}, updatedUserFields), { policiesConsent: true });\n                delete updatedUserFields.policiesConsentArray;\n            }\n            yield (onSubmit === null || onSubmit === void 0 ? void 0 : onSubmit(updatedUserFields));\n        }\n        catch (e) {\n            logger.error(e);\n            onError === null || onError === void 0 ? void 0 : onError(e);\n            if (e instanceof EmailAlreadyExistsError) {\n                formikHelper.setErrors({ email: 'Email already exists' });\n            }\n            else if (e instanceof CustomFieldNotUniqueError) {\n                // clear all non error fields because user has to edit them anyways for the validation to pass, not sure why\n                formikHelper.setFormikState((state) => (Object.assign(Object.assign({}, state), { errors: Object.fromEntries(Object.entries(uniqueMetadata).map(([customFieldName]) => [\n                        customFieldName,\n                        Object.entries(uniqueMetadata).length > 1\n                            ? 'One or more fields are already tied to another user'\n                            : `${customFieldName} is already tied to another user`,\n                    ])), touched: Object.fromEntries(Object.entries(uniqueMetadata).map(([fieldName]) => [\n                        fieldName,\n                        true,\n                    ])), values: Object.assign(Object.assign({}, formikInitialValues), uniqueMetadata) })));\n            }\n            else if (e instanceof TooManyEmailVerificationsError) {\n                formikHelper.setErrors({\n                    email: 'Too many email verification attempts.',\n                });\n            }\n            else if (e instanceof UsernameAlreadyExistsError) {\n                formikHelper.setErrors({ username: 'Username already exists' });\n            }\n            else if (e instanceof InvalidPhoneNumberError) {\n                formikHelper.setErrors({ phoneNumber: e.message });\n            }\n            else {\n                formikHelper.setErrors({\n                    api: 'Something went wrong. Please try again.',\n                });\n            }\n        }\n        finally {\n            setFetch(false);\n        }\n    }), [\n        mockedSDK,\n        userProfile === null || userProfile === void 0 ? void 0 : userProfile.environmentId,\n        enforcePolicies,\n        onSubmit,\n        fields,\n        onError,\n        formikInitialValues,\n    ]);\n    return {\n        enforcePolicies,\n        fetch,\n        formikInitialValues,\n        formikValidationSchema,\n        onFormSubmit,\n    };\n};\n\nexport { useUserDataForm };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6608, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useDebounce/useDebounce.js"],"sourcesContent":["'use client'\nimport { useRef, useCallback } from 'react';\n\nconst useDebounce = (callback, timeout) => {\n    const timeoutId = useRef(null);\n    const callbackRef = useRef(callback);\n    callbackRef.current = callback;\n    return useCallback(((...params) => {\n        if (timeoutId.current) {\n            clearTimeout(timeoutId.current);\n        }\n        timeoutId.current = window.setTimeout(() => {\n            callbackRef.current(...params);\n        }, timeout);\n    }), [timeout]);\n};\n\nexport { useDebounce };\n"],"names":[],"mappings":";;;AACA;AADA;;AAGA,MAAM,cAAc,CAAC,UAAU;IAC3B,MAAM,YAAY,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IACzB,MAAM,cAAc,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IAC3B,YAAY,OAAO,GAAG;IACtB,OAAO,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;mCAAG,CAAC,GAAG;YACpB,IAAI,UAAU,OAAO,EAAE;gBACnB,aAAa,UAAU,OAAO;YAClC;YACA,UAAU,OAAO,GAAG,OAAO,UAAU;2CAAC;oBAClC,YAAY,OAAO,IAAI;gBAC3B;0CAAG;QACP;kCAAI;QAAC;KAAQ;AACjB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 6640, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useDynamicLayoutData/useDynamicLayoutData.js"],"sourcesContent":["'use client'\nimport { jsxs, Fragment, jsx } from 'react/jsx-runtime';\nimport { useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { WalletConnectIcon } from '@dynamic-labs/iconic';\nimport { useIsTurnkeyWallet } from '../useIsTurnkeyWallet/useIsTurnkeyWallet.js';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/wallet-connector-core';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../../../_virtual/_tslib.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useDynamicLayoutData = ({ view, authMode, }) => {\n    const { t } = useTranslation();\n    const { isTurnkeyWalletWithoutAuthenticator } = useIsTurnkeyWallet();\n    const { selectedWalletConnector } = useInternalDynamicContext();\n    const helpHeaderMap = useMemo(() => ({\n        'login-with-email-or-wallet-full-wallet-list': {\n            copykey: 'dyn_login.helper.all_wallet_list',\n            heading: t('dyn_login.helper.all_wallet_list'),\n        },\n        'login-with-wallet-only': {\n            copykey: 'dyn_login.helper.wallet_only',\n            heading: t('dyn_login.helper.wallet_only'),\n        },\n        'passkey-intro': {\n            copykey: 'dyn_passkey_intro.helper.title',\n            heading: t('dyn_passkey_intro.helper.title'),\n        },\n        'pending-connect': {\n            copykey: 'dyn_login.helper.pending_connect.title',\n            heading: t('dyn_login.helper.pending_connect.title'),\n        },\n        'pending-signature': {\n            copykey: 'dyn_login.helper.pending_signature.title',\n            heading: t('dyn_login.helper.pending_signature.title'),\n        },\n        'pending-signature-without-back-button': {\n            copykey: 'dyn_login.helper.pending_signature_without_back_button.title',\n            heading: t('dyn_login.helper.pending_signature_without_back_button.title'),\n        },\n        'qr-code': {\n            copykey: 'dyn_login.helper.qr_code.title',\n            heading: t('dyn_login.helper.qr_code.title'),\n        },\n        'wallet-connect-mobile-wallets-list': {\n            copykey: 'dyn_wallet_conect.mobile.wallet_list.helper',\n            heading: t('dyn_wallet_conect.mobile.wallet_list.helper'),\n        },\n        'wallet-list': {\n            copykey: 'dyn_wallet_list.helper',\n            heading: t('dyn_wallet_list.helper'),\n        },\n    }), [t]);\n    const headerMap = useMemo(() => {\n        var _a;\n        return ({\n            'account-exists': {\n                copykey: 'dyn_account_exists.title',\n                heading: t('dyn_account_exists.title'),\n            },\n            'chainalysis-blocked-wallet': {\n                copykey: 'dyn_chainalysis_blocked_wallet.title',\n                heading: t('dyn_chainalysis_blocked_wallet.title'),\n            },\n            'deposit-view': {\n                copykey: 'dyn_deposit.title',\n                heading: t('dyn_deposit.title'),\n            },\n            'embedded-delete-view': {\n                copykey: 'dyn_embedded_delete.title',\n                heading: t('dyn_embedded_delete.title'),\n            },\n            'embedded-wallet-exists': {\n                copykey: 'dyn_wallet_link.already_exists.title',\n                heading: t('dyn_wallet_link.already_exists.title'),\n            },\n            'external-funding-wallet-list': {\n                copykey: 'dyn_wallet_funding.from_external_wallet.title',\n                heading: t('dyn_wallet_funding.from_external_wallet.title'),\n            },\n            'farcaster-connect-view': {\n                copykey: 'dyn_login.qr_code.title',\n                heading: t('dyn_login.qr_code.title'),\n            },\n            'login-with-email-or-wallet': {\n                copykey: 'dyn_login.title.all',\n                heading: t('dyn_login.title.all'),\n            },\n            'login-with-email-or-wallet-full-wallet-list': {\n                copykey: 'dyn_login.title.all_wallet_list',\n                heading: t('dyn_login.title.all_wallet_list'),\n            },\n            'login-with-email-verification': {\n                copykey: 'dyn_otp_verification.confirm_code',\n                heading: t('dyn_otp_verification.confirm_code'),\n            },\n            'login-with-sms-verification': {\n                copykey: 'dyn_otp_verification.confirm_code',\n                heading: t('dyn_otp_verification.confirm_code'),\n            },\n            'login-with-wallet-only': {\n                copykey: 'dyn_login.title.wallet_only',\n                heading: t('dyn_login.title.wallet_only'),\n            },\n            'merge-user-accounts': {\n                copykey: 'dyn_merge_user_accounts.wallet.title',\n                heading: t('dyn_merge_user_accounts.wallet.title'),\n            },\n            'merge-user-accounts-conflicts': {\n                copykey: 'dyn_merge_user_accounts_conflicts.title',\n                heading: t('dyn_merge_user_accounts_conflicts.title'),\n            },\n            'mfa-choose-device': {\n                copykey: 'dyn_mfa.choose_device_view.title',\n                heading: t('dyn_mfa.choose_device_view.title'),\n            },\n            'mfa-display-backup-codes': {\n                copykey: 'dyn_mfa.display_backup_codes_view.title',\n                heading: t('dyn_mfa.display_backup_codes_view.title'),\n            },\n            'mfa-recovery': {\n                copykey: 'dyn_mfa.recovery_view.title',\n                heading: t('dyn_mfa.recovery_view.title'),\n            },\n            'mfa-secure-device': {\n                copykey: 'dyn_mfa.secure_device_view.title',\n                heading: t('dyn_mfa.secure_device_view.title'),\n            },\n            'mfa-secure-device-help': {\n                copykey: 'dyn_mfa.secure_device_view.helper.title',\n                heading: t('dyn_mfa.secure_device_view.helper.title'),\n            },\n            'mfa-verification': {\n                copykey: 'dyn_mfa.otp_verification_view.title',\n                heading: t('dyn_mfa.otp_verification_view.title'),\n            },\n            'mobile-wallet-redirect-view': {\n                copykey: 'dyn_login.mobile_wallet_redirect.backup_title',\n                heading: (_a = selectedWalletConnector === null || selectedWalletConnector === void 0 ? void 0 : selectedWalletConnector.name) !== null && _a !== void 0 ? _a : t('dyn_login.mobile_wallet_redirect.backup_title'),\n            },\n            'multi-wallet-wallet-list': {\n                copykey: authMode === 'connect-only'\n                    ? 'dyn_wallet_list.title.connect'\n                    : 'dyn_wallet_list.title.link',\n                heading: authMode === 'connect-only'\n                    ? t('dyn_wallet_list.title.connect')\n                    : t('dyn_wallet_list.title.link'),\n            },\n            'network-not-supported': {\n                copykey: 'dyn_network_not_supported.title',\n                heading: t('dyn_network_not_supported.title'),\n            },\n            'passkey-recovery-complete': {\n                copykey: isTurnkeyWalletWithoutAuthenticator\n                    ? 'dyn_passkey_secure_modal.complete.title'\n                    : 'dyn_passkey_recovery.complete.title',\n                heading: isTurnkeyWalletWithoutAuthenticator\n                    ? t('dyn_passkey_secure_modal.complete.title')\n                    : t('dyn_passkey_recovery.complete.title'),\n            },\n            'passkey-recovery-start': {\n                copykey: isTurnkeyWalletWithoutAuthenticator\n                    ? 'dyn_passkey_secure_modal.start.title'\n                    : 'dyn_passkey_recovery.start.title',\n                heading: isTurnkeyWalletWithoutAuthenticator\n                    ? t('dyn_passkey_secure_modal.start.title')\n                    : t('dyn_passkey_recovery.start.title'),\n            },\n            'pending-connect': {\n                copykey: 'dyn_login.connect_wallet.title',\n                heading: t('dyn_login.connect_wallet.title'),\n            },\n            'pending-signature': {\n                copykey: 'dyn_login.sign_wallet.title',\n                heading: t('dyn_login.sign_wallet.title'),\n            },\n            'qr-code': {\n                copykey: 'dyn_login.qr_code.title',\n                heading: t('dyn_login.qr_code.title'),\n            },\n            'select-hardware-wallet': {\n                copykey: 'dyn_select_hardware_wallet.title',\n                heading: t('dyn_select_hardware_wallet.title'),\n            },\n            'select-wallet-in-wallet-group': {\n                copykey: 'dyn_login.select_wallet_in_wallet_group.title',\n                heading: t('dyn_login.select_wallet_in_wallet_group.title'),\n            },\n            'user-delete-account': {\n                copykey: 'dyn_settings.delete_account.title',\n                heading: t('dyn_settings.delete_account.title'),\n            },\n            'verify-email': {\n                copykey: 'dyn_otp_verification.confirm_code',\n                heading: t('dyn_otp_verification.confirm_code'),\n            },\n            'verify-sms': {\n                copykey: 'dyn_otp_verification.confirm_code',\n                heading: t('dyn_otp_verification.confirm_code'),\n            },\n            'wallet-connect-mobile-wallets-list': {\n                copykey: 'dyn_wallet_conect.mobile.wallet_list.title',\n                heading: (jsxs(Fragment, { children: [jsx(WalletConnectIcon, { style: { height: '1.5rem', width: '1.5rem' } }), ' ', t('dyn_wallet_conect.mobile.wallet_list.title')] })),\n            },\n            'wallet-group': {\n                copykey: 'dyn_login.wallet_group.title',\n                heading: t('dyn_login.wallet_group.title'),\n            },\n            'wallet-list': {\n                copykey: 'dyn_wallet_list.title.select',\n                heading: t('dyn_wallet_list.title.select'),\n            },\n            'wallet-sign': {\n                copykey: 'dyn_wallet_transfer.sign.title',\n                heading: t('dyn_wallet_transfer.sign.title'),\n            },\n            'wallet-used': {\n                copykey: 'dyn_wallet_link.title',\n                heading: t('dyn_wallet_link.title'),\n            },\n        });\n    }, [\n        authMode,\n        isTurnkeyWalletWithoutAuthenticator,\n        selectedWalletConnector === null || selectedWalletConnector === void 0 ? void 0 : selectedWalletConnector.name,\n        t,\n    ]);\n    const descriptionMap = useMemo(() => ({}), []);\n    if (view === 'no-access') {\n        const headerData = {\n            copykey: 'dyn_no_access.title',\n            heading: t('dyn_no_access.title'),\n        };\n        return { headerData };\n    }\n    if (view === 'access-blocked') {\n        const headerData = {\n            copykey: 'dyn_access_blocked.title',\n            heading: t('dyn_access_blocked.title'),\n        };\n        return { headerData };\n    }\n    const helpHeaderData = helpHeaderMap[view];\n    const headerData = headerMap[view];\n    const descriptionData = descriptionMap[view];\n    return {\n        descriptionData,\n        headerData,\n        helpHeaderData,\n    };\n};\n\nexport { useDynamicLayoutData };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA,MAAM,uBAAuB,CAAC,EAAE,IAAI,EAAE,QAAQ,EAAG;IAC7C,MAAM,EAAE,CAAC,EAAE,GAAG,CAAA,GAAA,mKAAA,CAAA,iBAAc,AAAD;IAC3B,MAAM,EAAE,mCAAmC,EAAE,GAAG,CAAA,GAAA,wOAAA,CAAA,qBAAkB,AAAD;IACjE,MAAM,EAAE,uBAAuB,EAAE,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IAC5D,MAAM,gBAAgB,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;uDAAE,IAAM,CAAC;gBACjC,+CAA+C;oBAC3C,SAAS;oBACT,SAAS,EAAE;gBACf;gBACA,0BAA0B;oBACtB,SAAS;oBACT,SAAS,EAAE;gBACf;gBACA,iBAAiB;oBACb,SAAS;oBACT,SAAS,EAAE;gBACf;gBACA,mBAAmB;oBACf,SAAS;oBACT,SAAS,EAAE;gBACf;gBACA,qBAAqB;oBACjB,SAAS;oBACT,SAAS,EAAE;gBACf;gBACA,yCAAyC;oBACrC,SAAS;oBACT,SAAS,EAAE;gBACf;gBACA,WAAW;oBACP,SAAS;oBACT,SAAS,EAAE;gBACf;g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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 7087, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useHandleAuthenticatedUser/useHandleAuthenticatedUser.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useRef, useCallback } from 'react';\nimport { runSafe } from '@dynamic-labs/utils';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useHandleAuthenticatedUser = () => {\n    const { handlers } = useInternalDynamicContext();\n    const { handleAuthenticatedUser } = handlers !== null && handlers !== void 0 ? handlers : {};\n    const handleAuthenticatedUserRef = useRef(handleAuthenticatedUser);\n    handleAuthenticatedUserRef.current = handleAuthenticatedUser;\n    return useCallback((user) => __awaiter(void 0, void 0, void 0, function* () {\n        if (!handleAuthenticatedUserRef.current)\n            return;\n        yield runSafe(() => { var _a; return (_a = handleAuthenticatedUserRef.current) === null || _a === void 0 ? void 0 : _a.call(handleAuthenticatedUserRef, { user }); });\n    }), []);\n};\n\nexport { useHandleAuthenticatedUser };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA,MAAM,6BAA6B;IAC/B,MAAM,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IAC7C,MAAM,EAAE,uBAAuB,EAAE,GAAG,aAAa,QAAQ,aAAa,KAAK,IAAI,WAAW,CAAC;IAC3F,MAAM,6BAA6B,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IAC1C,2BAA2B,OAAO,GAAG;IACrC,OAAO,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;kDAAE,CAAC,OAAS,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK;0DAAG;oBAC3D,IAAI,CAAC,2BAA2B,OAAO,EACnC;oBACJ,MAAM,CAAA,GAAA,0KAAA,CAAA,UAAO,AAAD;kEAAE;4BAAQ,IAAI;4BAAI,OAAO,CAAC,KAAK,2BAA2B,OAAO,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,IAAI,CAAC,4BAA4B;gCAAE;4BAAK;wBAAI;;gBACvK;;iDAAI,EAAE;AACV","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 7301, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useUserAuth/useUserAuth.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { DynamicError, MfaInvalidOtpError, MfaRateLimitedError, EmailAlreadyExistsError, CustomFieldNotUniqueError, UsernameAlreadyExistsError, TooManyEmailVerificationsError, InvalidPhoneNumberError, NoAccessError, AccountExistsError, SandboxMaximumThresholdReachedError, UserHasAccountWithEmailError, sleep } from '@dynamic-labs/utils';\nimport { EmbeddedWalletVersionEnum, MfaBackupCodeAcknowledgement } from '@dynamic-labs/sdk-api-core';\nimport { useAccountExistsContext } from '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport 'react';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport { logger } from '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport { useViewContext } from '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport { hasPendingMfaAction } from '../../../shared/utils/functions/hasPendingMfaAction/hasPendingMfaAction.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport { useErrorContext } from '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport { storeAuthTokenAndUser } from '../../../store/state/user/storeAuthTokenAndUser/storeAuthTokenAndUser.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport { useAccessDeniedContext } from '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport { useLoadingContext } from '../../../context/LoadingContext/LoadingContext.js';\nimport { useEmbeddedWallet } from '../useEmbeddedWallet/useEmbeddedWallet.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport { useHandleAuthenticatedUser } from '../useHandleAuthenticatedUser/useHandleAuthenticatedUser.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst sleepToShowSuccessMessage = () => sleep(1500);\nconst useUserAuth = ({ authMethod, }) => {\n    const { handleLogOut, setShowAuthFlow, setCallback, setMultiWalletWidgetState, walletConnectorOptions, } = useInternalDynamicContext();\n    const { setDeniedOauthUsername, setDeniedOauthProvider } = useAccessDeniedContext();\n    const { view, pushView, clearStackAndPushInitialView } = useViewContext();\n    const { setLoading } = useLoadingContext();\n    const { setErrorMessage, setError } = useErrorContext();\n    const { setExistentAccountData } = useAccountExistsContext();\n    const handleAuthenticatedUser = useHandleAuthenticatedUser();\n    const { shouldAutoCreateEmbeddedWallet, shouldPromptForKeyExport, embeddedWalletSettingVersion, } = useEmbeddedWallet();\n    const isVerifyResponse = (response) => response.user;\n    const initAuth = (_a) => __awaiter(void 0, [_a], void 0, function* ({ isSignIn = true, verifyFunction, onVerifySuccess, onSettled, onError, showSuccessMessage = false, skipDefaultErrorHandling = false, }) {\n        var _b;\n        logger.debug('initAuth', { authMethod, isSignIn });\n        try {\n            // TODO: change this logic to const verifiedUser = await verifyFunction();\n            // once all verify functions are updated to return UserProfile instead of VerifyResponse\n            const verifyResponse = yield verifyFunction();\n            if (!verifyResponse) {\n                yield cancelAuth();\n                throw new DynamicError('No user returned from verify function');\n            }\n            let verifiedUser;\n            if (isVerifyResponse(verifyResponse)) {\n                verifiedUser = storeAuthTokenAndUser(verifyResponse);\n            }\n            else {\n                verifiedUser = verifyResponse;\n            }\n            onVerifySuccess === null || onVerifySuccess === void 0 ? void 0 : onVerifySuccess(verifiedUser);\n            walletConnectorOptions.forEach((walletOption) => {\n                walletOption.walletConnector.setVerifiedCredentials(verifiedUser.verifiedCredentials);\n            });\n            if (hasPendingMfaAction(verifiedUser)) {\n                // handled in SyncAuthFlow\n                return;\n            }\n            if (isSignIn && ((_b = verifiedUser.missingFields) === null || _b === void 0 ? void 0 : _b.length)) {\n                //onboarding will be handled in the onboarding flow\n                return;\n            }\n            setMultiWalletWidgetState('idle');\n            yield handleAuthenticatedUser(verifiedUser);\n            // we should only close auth flow if no wallet is going to be created or there is no key export\n            // otherwise there will be a glitch with auth flow closing and then reopening for passkeys or export\n            const shouldCreateWallet = shouldAutoCreateEmbeddedWallet(verifiedUser);\n            // only support export prompt on v2 and higher\n            const shouldPromptExport = shouldPromptForKeyExport();\n            if (showSuccessMessage) {\n                // this timeout is set to make sure that the user will see success message\n                yield sleepToShowSuccessMessage();\n            }\n            if (isSignIn) {\n                setCallback('authSuccess');\n            }\n            const walletVersion = embeddedWalletSettingVersion();\n            if (walletVersion === EmbeddedWalletVersionEnum.V1 &&\n                shouldCreateWallet) {\n                setShowAuthFlow(true);\n            }\n            else if (!shouldCreateWallet || !shouldPromptExport) {\n                setShowAuthFlow(false);\n            }\n            onSettled === null || onSettled === void 0 ? void 0 : onSettled();\n        }\n        catch (error) {\n            logger.debug(error);\n            if (skipDefaultErrorHandling) {\n                onError === null || onError === void 0 ? void 0 : onError(error);\n                return;\n            }\n            handleAuthError(error, { onError });\n        }\n        finally {\n            setLoading(false);\n            onSettled === null || onSettled === void 0 ? void 0 : onSettled();\n        }\n    });\n    const handleAuthError = (error, { options = {}, onError, }) => {\n        var _a;\n        if (error instanceof MfaInvalidOtpError ||\n            error instanceof MfaRateLimitedError) {\n            throw error;\n        }\n        // these get caught in onboarding form and handled there\n        if (error instanceof EmailAlreadyExistsError ||\n            error instanceof CustomFieldNotUniqueError ||\n            error instanceof UsernameAlreadyExistsError ||\n            error instanceof TooManyEmailVerificationsError ||\n            error instanceof InvalidPhoneNumberError)\n            throw error;\n        if (error instanceof NoAccessError) {\n            setDeniedOauthProvider(error === null || error === void 0 ? void 0 : error.socialProvider);\n            setDeniedOauthUsername((_a = error === null || error === void 0 ? void 0 : error.socialUsername) !== null && _a !== void 0 ? _a : '');\n            pushView('no-access');\n            return;\n        }\n        if (error instanceof AccountExistsError) {\n            setExistentAccountData(error.errorPayload);\n            pushView('account-exists');\n            return;\n        }\n        if (error instanceof SandboxMaximumThresholdReachedError) {\n            pushView('sandbox-maximum-threshold-reached');\n            return;\n        }\n        // Handle the case where the user has already an account with the email\n        if (error instanceof UserHasAccountWithEmailError) {\n            pushView('merge-user-accounts-with-same-email', {\n                returnToView: 'isEmailRecoveryFlow' in options && options.isEmailRecoveryFlow\n                    ? 'passkey-recovery-add-email'\n                    : undefined,\n            });\n            return;\n        }\n        if (onError) {\n            onError === null || onError === void 0 ? void 0 : onError(error);\n            return;\n        }\n        if (error.code) {\n            setErrorMessage(error.code);\n        }\n        else {\n            setError(error.message);\n        }\n    };\n    const handleVerifyMissingFields = (_c) => __awaiter(void 0, [_c], void 0, function* ({ missingFields, isEmailVerificationRequired, isSmsVerificationRequired, }) {\n        if (isEmailVerificationRequired &&\n            missingFields.find((field) => field.name === 'email')) {\n            pushView('verify-email');\n            return;\n        }\n        if (isSmsVerificationRequired &&\n            missingFields.find((field) => field.name === 'phoneNumber')) {\n            pushView('verify-sms');\n            return;\n        }\n        pushView(view.type);\n    });\n    const completeAuth = (_d) => __awaiter(void 0, [_d], void 0, function* ({ completeSignInFlow, updateJwtFunction, onValidUpdatedJwt, options = {}, }) {\n        logger.debug('completeAuth', { authMethod });\n        try {\n            const { updateUserProfileResponse, isSmsVerificationRequired, isEmailVerificationRequired, missingFields, } = yield updateJwtFunction();\n            onValidUpdatedJwt === null || onValidUpdatedJwt === void 0 ? void 0 : onValidUpdatedJwt();\n            const updatedUser = storeAuthTokenAndUser({\n                expiresAt: updateUserProfileResponse.expiresAt,\n                jwt: updateUserProfileResponse.jwt,\n                minifiedJwt: updateUserProfileResponse.minifiedJwt,\n                user: updateUserProfileResponse.user,\n            });\n            if (missingFields.length > 0) {\n                yield handleVerifyMissingFields({\n                    isEmailVerificationRequired,\n                    isSmsVerificationRequired,\n                    missingFields,\n                });\n                return;\n            }\n            yield handleAuthenticatedUser(updatedUser);\n            setCallback('authSuccess');\n            if (completeSignInFlow) {\n                const shouldReturn = yield completeSignInFlow(updateUserProfileResponse);\n                if (shouldReturn) {\n                    return;\n                }\n            }\n            // we should only close auth flow if no wallet is going to be created,\n            // otherwise there will be a glitch with auth flow closing and then reopening for passkeys\n            const shouldCreateWallet = shouldAutoCreateEmbeddedWallet();\n            if (!shouldCreateWallet &&\n                updatedUser.mfaBackupCodeAcknowledgement !==\n                    MfaBackupCodeAcknowledgement.Pending) {\n                setShowAuthFlow(false);\n            }\n        }\n        catch (error) {\n            logger.debug(error);\n            handleAuthError(error, { options });\n        }\n        finally {\n            setLoading(false);\n        }\n    });\n    const cancelAuth = () => __awaiter(void 0, void 0, void 0, function* () {\n        logger.debug('cancelAuth', { authMethod });\n        yield handleLogOut();\n        clearStackAndPushInitialView();\n    });\n    return {\n        cancelAuth,\n        completeAuth,\n        handleAuthError,\n        initAuth,\n    };\n};\n\nexport { useUserAuth };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 7708, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useVerifyWallet/useVerifyWallet.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { DynamicError, StorageService, EmbeddedWalletExistsError, WalletUsedError, MergeAccountsConfirmationError, ChainalysisError, GateBlockedError, SandboxMaximumThresholdReachedError, NoAccessError, AccountExistsError } from '@dynamic-labs/utils';\nimport { isSocialWalletConnector } from '@dynamic-labs/wallet-connector-core';\nimport 'react';\nimport { dynamicEvents } from '../../../events/dynamicEvents.js';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport { logger } from '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport 'react/jsx-runtime';\nimport { useViewContext } from '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport { LAST_USED_WALLET } from '../../constants/localStorage.js';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport { useErrorContext } from '../../../context/ErrorContext/ErrorContext.js';\nimport { USER_NOT_LOGGED_IN } from '../../constants/errors.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport { getVerifyArgs } from '../../functions/getVerifyArgs/getVerifyArgs.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport { updatePrimaryWalletId } from '../../functions/updatePrimaryWalletId/updatePrimaryWalletId.js';\nimport { useAccessDeniedContext } from '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport { useAccountExistsContext } from '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport { useInternalUserWallets } from '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport { verifyWallet, linkWallet } from '../../../data/api/wallets/wallets.js';\nimport { getSiweStatement } from '../../functions/getSiweStatement/getSiweStatement.js';\nimport { getWalletProvider } from '../../functions/getWalletProvider/getWalletProvider.js';\nimport { resetConnectedWalletsInfo } from '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport '../../../store/state/nonce/nonce.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport { useEmbeddedWalletSessionKeys } from '../useEmbeddedWalletSessionKeys/useEmbeddedWalletSessionKeys.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport { useUserAuth } from '../useUserAuth/useUserAuth.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport '../../../context/WalletContext/WalletContext.js';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\n\n// This logic is used to both verify or link a wallet\n// Since we are re-using the different screens to authenticate or link the wallet.\n// This logic is the best place to determine whether we should verify or verify and link.\nconst useVerifyWallet = ({ displaySiweStatement, environmentId, projectSettings, setIsSingleWalletAccount, }) => {\n    const { setExistentAccountData } = useAccountExistsContext();\n    const { setDeniedAddress, setDeniedOauthProvider } = useAccessDeniedContext();\n    const { pushView, clearStackAndPushInitialView } = useViewContext();\n    const { setErrorMessage, setError } = useErrorContext();\n    const { multiWalletWidgetState, debugError, multiWallet: multiWalletEnabled, appName, primaryWalletId, setShowAuthFlow, siweStatement, connectedWallets, authMode, user, setAuthMode, events, primaryWallet, enableConnectOnlyFallback, selectedWalletConnector, } = useInternalDynamicContext();\n    const { addedWalletsIds } = useInternalUserWallets();\n    const { initAuth } = useUserAuth({ authMethod: 'wallet' });\n    const { generateSessionKey, shouldRegisterSessionKeysOnSignin } = useEmbeddedWalletSessionKeys({\n        environmentId,\n        projectSettings,\n    });\n    // If the user is not already logged it means that we only need to verify\n    // We need this boolean to distinguish between logic for verify or linking.\n    const verifyOnly = !user;\n    const shouldFallbackToConnectOnly = enableConnectOnlyFallback && (verifyOnly || !multiWalletEnabled);\n    const generateJWT = (walletConnector, walletProvider, getAddressOpts, publicWalletAddress, captchaToken, oauth, signedMessageOverride, messageToSignOverride) => __awaiter(void 0, void 0, void 0, function* () {\n        const verifyArgs = yield getVerifyArgs({\n            displaySiweStatement,\n            environmentId,\n            getAddressOpts,\n            messageToSignOverride,\n            publicWalletAddress,\n            signedMessageOverride,\n            siweStatement: getSiweStatement({ appName, siweStatement }),\n            walletConnector,\n            walletProvider,\n        });\n        if (shouldRegisterSessionKeysOnSignin()) {\n            const keypair = yield generateSessionKey();\n            verifyArgs.sessionPublicKey = keypair.publicKey;\n        }\n        let verifyResponse;\n        if (!user || !multiWalletEnabled) {\n            verifyResponse = verifyWallet(environmentId, Object.assign(Object.assign({}, verifyArgs), { captchaToken,\n                oauth }));\n        }\n        else {\n            verifyResponse = linkWallet(environmentId, verifyArgs);\n        }\n        return { verifyArgs, verifyFunction: () => verifyResponse };\n    });\n    // Overrides the stored primary wallet id when the\n    // user logs in for the first time.\n    // Or when the user is linking an additional\n    // account on the same wallet as the primary wallet.\n    const updatePrimaryWallet = ({ walletConnector, verifiedCredentials, lastVerifiedCredentialId, }) => {\n        const newSelectedCredentialWallet = verifiedCredentials.find((cred) => cred.id === lastVerifiedCredentialId && cred.format === 'blockchain');\n        if (newSelectedCredentialWallet) {\n            const currentPrimaryWallet = verifiedCredentials.find((a) => a.id === primaryWalletId);\n            if (verifyOnly ||\n                !primaryWallet ||\n                (multiWalletWidgetState === 'awaiting_signature' &&\n                    newSelectedCredentialWallet.walletName ===\n                        (currentPrimaryWallet === null || currentPrimaryWallet === void 0 ? void 0 : currentPrimaryWallet.walletName)) ||\n                ((currentPrimaryWallet === null || currentPrimaryWallet === void 0 ? void 0 : currentPrimaryWallet.chain) === 'flow' &&\n                    walletConnector.connectedChain === 'FLOW')) {\n                updatePrimaryWalletId(newSelectedCredentialWallet.id);\n            }\n        }\n    };\n    const handleWalletUsedError = (e) => {\n        var _a;\n        // This is a special case where the user is trying to link a wallet\n        // and the wallet is already linked and we don't want to kill the session.\n        setShowAuthFlow(true);\n        pushView('wallet-used');\n        setIsSingleWalletAccount(false);\n        if (e.code === 'reassign_wallet_error') {\n            if ((_a = projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.sdk) === null || _a === void 0 ? void 0 : _a.preventOrphanedAccounts) {\n                pushView('wallet-cannot-be-transferred');\n            }\n            setIsSingleWalletAccount(true);\n        }\n    };\n    const handleDisconnectWallet = ({ walletConnector, endSession = true, }) => {\n        resetConnectedWalletsInfo();\n        if (endSession)\n            walletConnector === null || walletConnector === void 0 ? void 0 : walletConnector.endSession();\n    };\n    const handleError = (e, walletConnector, address, oauth) => {\n        var _a;\n        // see: PhantomRedirect#signMessage\n        if (e.message === 'ignore') {\n            return;\n        }\n        // Emit failure if this wallet connector was currently selected for auth\n        if (selectedWalletConnector &&\n            selectedWalletConnector.key === walletConnector.key)\n            dynamicEvents.emit('authFailure', {\n                address,\n                connectorName: walletConnector.name,\n                option: walletConnector.name,\n                type: 'wallet',\n            }, { error: e });\n        if (e instanceof EmbeddedWalletExistsError) {\n            pushView('embedded-wallet-exists');\n            setShowAuthFlow(true);\n            return;\n        }\n        if (e instanceof WalletUsedError) {\n            handleDisconnectWallet({ endSession: false, walletConnector });\n            return handleWalletUsedError(e);\n        }\n        if (e instanceof MergeAccountsConfirmationError) {\n            pushView('merge-user-accounts', Object.assign({}, e));\n            setShowAuthFlow(true);\n            return;\n        }\n        if (e instanceof ChainalysisError) {\n            handleDisconnectWallet({ walletConnector });\n            setDeniedAddress(address);\n            pushView('chainalysis-blocked-wallet');\n            return;\n        }\n        if (e instanceof GateBlockedError) {\n            handleDisconnectWallet({ walletConnector });\n            setDeniedAddress(address);\n            pushView('gate-blocked-wallet');\n            return;\n        }\n        if (e instanceof SandboxMaximumThresholdReachedError) {\n            pushView('sandbox-maximum-threshold-reached');\n            return;\n        }\n        if (e instanceof NoAccessError) {\n            handleDisconnectWallet({ walletConnector });\n            setDeniedAddress(address);\n            // we need to set this value if it's magic in order to set proper icon\n            if (isSocialWalletConnector(walletConnector)) {\n                setDeniedOauthProvider(oauth === null || oauth === void 0 ? void 0 : oauth.provider);\n            }\n            pushView('no-access');\n            return;\n        }\n        if (e instanceof AccountExistsError) {\n            handleDisconnectWallet({ walletConnector });\n            setExistentAccountData(e.errorPayload);\n            pushView('account-exists');\n            return;\n        }\n        if (connectedWallets.length && authMode === 'connect-only') {\n            throw new DynamicError(e.message);\n        }\n        const userRejectedRequestError = (_a = e === null || e === void 0 ? void 0 : e.message) === null || _a === void 0 ? void 0 : _a.includes('User rejected the request');\n        const fallbackToConnectOnly = shouldFallbackToConnectOnly && !userRejectedRequestError;\n        if (fallbackToConnectOnly) {\n            logger.warn('Verification failed, changing to connect-only');\n            // verification failed for unknown reason, set authmode to connect-only and show wallet list\n            setAuthMode('connect-only');\n            pushView('wallet-list');\n            return;\n        }\n        else {\n            handleDisconnectWallet({ walletConnector });\n            clearStackAndPushInitialView();\n        }\n        logger.error(e);\n        if (debugError) {\n            setError(`${e.message}\\n ${e.stack}`);\n        }\n        else {\n            setErrorMessage(e.code);\n        }\n    };\n    return (_a) => __awaiter(void 0, [_a], void 0, function* ({ walletConnector, getAddressOpts, publicWalletAddress, captchaToken, oauth, signedMessageOverride, messageToSignOverride, }) {\n        const walletProvider = getWalletProvider(walletConnector);\n        dynamicEvents.emit('authInit', {\n            address: publicWalletAddress,\n            connectorName: walletConnector.name,\n            option: walletConnector.name,\n            type: 'wallet',\n        });\n        try {\n            const { verifyFunction, verifyArgs } = yield generateJWT(walletConnector, walletProvider, getAddressOpts, publicWalletAddress, captchaToken, oauth, signedMessageOverride, messageToSignOverride);\n            yield initAuth({\n                isSignIn: verifyOnly,\n                onError: (e) => {\n                    handleError(e, walletConnector, publicWalletAddress, oauth);\n                },\n                onVerifySuccess: (user) => {\n                    var _a;\n                    if (!user) {\n                        throw new DynamicError(USER_NOT_LOGGED_IN);\n                    }\n                    try {\n                        (_a = events === null || events === void 0 ? void 0 : events.onSignedMessage) === null || _a === void 0 ? void 0 : _a.call(events, {\n                            messageToSign: verifyArgs.messageToSign,\n                            signedMessage: verifyArgs.signedMessage,\n                        });\n                    }\n                    catch (_b) {\n                        logger.warn('Error calling onSignedMessage callback');\n                    }\n                    StorageService.setItem(LAST_USED_WALLET, walletConnector.key);\n                    setAuthMode('connect-and-sign');\n                    updatePrimaryWallet({\n                        lastVerifiedCredentialId: user.lastVerifiedCredentialId,\n                        verifiedCredentials: user.verifiedCredentials,\n                        walletConnector,\n                    });\n                    const walletId = user.lastVerifiedCredentialId;\n                    if (walletId) {\n                        addedWalletsIds.current.push(walletId);\n                    }\n                },\n                options: {\n                    address: publicWalletAddress,\n                    connectorName: walletConnector.name,\n                },\n                skipDefaultErrorHandling: true,\n                verifyFunction,\n            });\n        }\n        catch (e) {\n            handleError(e, walletConnector, publicWalletAddress, oauth);\n        }\n    });\n};\n\nexport { useVerifyWallet };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 8164, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useSocialAuth/farcaster/farcaster.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../../_virtual/_tslib.js';\nimport { FetchService } from '@dynamic-labs/utils';\nimport { dynamicEvents } from '../../../../events/dynamicEvents.js';\nimport '@dynamic-labs/sdk-api-core';\nimport { logger } from '../../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react';\nimport 'react/jsx-runtime';\nimport '../../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../../constants/colors.js';\nimport '../../../constants/values.js';\nimport '../../../../shared/consts/index.js';\n\nconst CONNECT_URL = 'https://relay.farcaster.xyz/v1/channel';\nconst STATUS_URL = 'https://relay.farcaster.xyz/v1/channel/status';\nconst STATUS_TIMEOUT = 180000;\nconst STATUS_INTERVAL = 1000;\nconst connect = (connectRequest) => __awaiter(void 0, void 0, void 0, function* () {\n    try {\n        const response = yield FetchService.fetch(CONNECT_URL, {\n            body: JSON.stringify(connectRequest),\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            method: 'POST',\n        });\n        if (!response.ok) {\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        return yield response.json();\n    }\n    catch (error) {\n        logger.error('Error connecting with farcaster:', error);\n        return;\n    }\n});\nconst status = (connectStatusRequest_1, ...args_1) => __awaiter(void 0, [connectStatusRequest_1, ...args_1], void 0, function* (connectStatusRequest, count = 1) {\n    try {\n        const response = yield FetchService.fetch(STATUS_URL, {\n            headers: {\n                Authorization: `Bearer ${connectStatusRequest.channelToken}`,\n                'Content-Type': 'application/json',\n            },\n            method: 'GET',\n        });\n        if (!response.ok) {\n            throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        return yield response.json();\n    }\n    catch (error) {\n        logger.warn(`Error fetching farcaster connect status trying again attempt: ${count}`, error);\n        return { state: 'retry' };\n    }\n});\nconst watchStatus = (connectStatusRequest_2, ...args_2) => __awaiter(void 0, [connectStatusRequest_2, ...args_2], void 0, function* (connectStatusRequest, { timeout = STATUS_TIMEOUT, interval = STATUS_INTERVAL } = {}) {\n    const deadline = Date.now() + timeout;\n    let shouldPoll = true;\n    let storedResolve = undefined;\n    // When we cancel, immediately resolve the current timeout promise and abort status watch\n    dynamicEvents.on('farcasterConnectCancelled', () => {\n        shouldPoll = false;\n        storedResolve === null || storedResolve === void 0 ? void 0 : storedResolve();\n        storedResolve = undefined;\n    });\n    // Declaring the promise callback outside of loop to avoid unnecessary garbage generation\n    const timeoutCallback = (resolve) => {\n        storedResolve = resolve;\n        setTimeout(resolve, interval);\n    };\n    let count = 0;\n    while (shouldPoll && Date.now() < deadline) {\n        count++;\n        const response = yield status(connectStatusRequest, count);\n        if (response.state === 'completed') {\n            return response;\n        }\n        yield new Promise(timeoutCallback);\n    }\n    if (!shouldPoll) {\n        return 'cancelled';\n    }\n    logger.error(`Polling farcaster connect status timed out after ${STATUS_TIMEOUT}ms`);\n    return 'timeout';\n});\n\nexport { connect, status, watchStatus };\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;;;;;;;;;;;;;;;AAgBA,MAAM,cAAc;AACpB,MAAM,aAAa;AACnB,MAAM,iBAAiB;AACvB,MAAM,kBAAkB;AACxB,MAAM,UAAU,CAAC,iBAAmB,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG;QAClE,IAAI;YACA,MAAM,WAAW,MAAM,gMAAA,CAAA,eAAY,CAAC,KAAK,CAAC,aAAa;gBACnD,MAAM,KAAK,SAAS,CAAC;gBACrB,SAAS;oBACL,gBAAgB;gBACpB;gBACA,QAAQ;YACZ;YACA,IAAI,CAAC,SAAS,EAAE,EAAE;gBACd,MAAM,IAAI,MAAM,CAAC,oBAAoB,EAAE,SAAS,MAAM,EAAE;YAC5D;YACA,OAAO,MAAM,SAAS,IAAI;QAC9B,EACA,OAAO,OAAO;YACV,8LAAA,CAAA,SAAM,CAAC,KAAK,CAAC,oCAAoC;YACjD;QACJ;IACJ;AACA,MAAM,SAAS,CAAC,wBAAwB,GAAG,SAAW,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG;QAAC;WAA2B;KAAO,EAAE,KAAK,GAAG,UAAW,oBAAoB,EAAE,QAAQ,CAAC;QAC3J,IAAI;YACA,MAAM,WAAW,MAAM,gMAAA,CAAA,eAAY,CAAC,KAAK,CAAC,YAAY;gBAClD,SAAS;oBACL,eAAe,CAAC,OAAO,EAAE,qBAAqB,YAAY,EAAE;oBAC5D,gBAAgB;gBACpB;gBACA,QAAQ;YACZ;YACA,IAAI,CAAC,SAAS,EAAE,EAAE;gBACd,MAAM,IAAI,MAAM,CAAC,oBAAoB,EAAE,SAAS,MAAM,EAAE;YAC5D;YACA,OAAO,MAAM,SAAS,IAAI;QAC9B,EACA,OAAO,OAAO;YACV,8LAAA,CAAA,SAAM,CAAC,IAAI,CAAC,CAAC,8DAA8D,EAAE,OAAO,EAAE;YACtF,OAAO;gBAAE,OAAO;YAAQ;QAC5B;IACJ;AACA,MAAM,cAAc,CAAC,wBAAwB,GAAG,SAAW,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG;QAAC;WAA2B;KAAO,EAAE,KAAK,GAAG,UAAW,oBAAoB,EAAE,EAAE,UAAU,cAAc,EAAE,WAAW,eAAe,EAAE,GAAG,CAAC,CAAC;QACpN,MAAM,WAAW,KAAK,GAAG,KAAK;QAC9B,IAAI,aAAa;QACjB,IAAI,gBAAgB;QACpB,yFAAyF;QACzF,qMAAA,CAAA,gBAAa,CAAC,EAAE,CAAC,6BAA6B;YAC1C,aAAa;YACb,kBAAkB,QAAQ,kBAAkB,KAAK,IAAI,KAAK,IAAI;YAC9D,gBAAgB;QACpB;QACA,yFAAyF;QACzF,MAAM,kBAAkB,CAAC;YACrB,gBAAgB;YAChB,WAAW,SAAS;QACxB;QACA,IAAI,QAAQ;QACZ,MAAO,cAAc,KAAK,GAAG,KAAK,SAAU;YACxC;YACA,MAAM,WAAW,MAAM,OAAO,sBAAsB;YACpD,IAAI,SAAS,KAAK,KAAK,aAAa;gBAChC,OAAO;YACX;YACA,MAAM,IAAI,QAAQ;QACtB;QACA,IAAI,CAAC,YAAY;YACb,OAAO;QACX;QACA,8LAAA,CAAA,SAAM,CAAC,KAAK,CAAC,CAAC,iDAAiD,EAAE,eAAe,EAAE,CAAC;QACnF,OAAO;IACX","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 8284, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useSocialAuth/useSocialAuth.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useMemo, useState, useCallback } from 'react';\nimport { ProviderEnum } from '@dynamic-labs/sdk-api-core';\nimport { SocialOAuthErrorCode } from '@dynamic-labs/types';\nimport { SocialAccountAlreadyExistsError, PlatformService, isMobile, Oauth2Service } from '@dynamic-labs/utils';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport { logger } from '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport { dynamicEvents } from '../../../events/dynamicEvents.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport { useErrorContext } from '../../../context/ErrorContext/ErrorContext.js';\nimport { digestSHA256 } from '../../functions/digestSHA256/digestSHA256.js';\nimport { encodeBase64URL } from '../../functions/encodeBase64URL/encodeBase64URL.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport { getOauthLoginUrl } from '../../functions/getOauthLoginUrl/getOauthLoginUrl.js';\nimport { setSocialStorageFor } from '../../functions/socialStorage/socialStorage.js';\nimport { getProviderByType } from '../../functions/getProviderByType/getProviderByType.js';\nimport { consumeNonce } from '../../../store/state/nonce/nonce.js';\nimport { randomString } from '../../functions/randomString/randomString.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport { telegramSignIn, signInOAuth, telegramVerify, verifyOAuth, getOAuthResult, initAuth, farcasterSignIn, farcasterVerify } from '../../../data/api/oauth/oauth.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport { useEmbeddedWalletSessionKeys } from '../useEmbeddedWalletSessionKeys/useEmbeddedWalletSessionKeys.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport { useUserAuth } from '../useUserAuth/useUserAuth.js';\nimport { connect, watchStatus } from './farcaster/farcaster.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport '../../../context/WalletContext/WalletContext.js';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst socialProviders = [\n    'apple',\n    'coinbasesocial',\n    'discord',\n    'epicgames',\n    'facebook',\n    'farcaster',\n    'github',\n    'google',\n    'instagram',\n    'line',\n    'shopify',\n    'spotify',\n    'tiktok',\n    'telegram',\n    'twitch',\n    'twitter',\n];\n// pkce params are only required for twitter and break if added for other providers, like google\n// so we should only add provider that support pkce to this list\nconst providersRequiringPkce = ['twitter', 'github'];\n// Hook to handle common social auth logic (for social linking and social sign in)\nconst useSocialAuth = ({ onSettled, onError, onFarcasterUrl, }) => {\n    const { environmentId, setShowAuthFlow, socialSettings, projectSettings, redirectUrl: defaultRedirectUrl, } = useInternalDynamicContext();\n    /**\n     * Represents if the SDK will use a popup or redirect for social auth\n     */\n    const strategy = useMemo(() => (socialSettings === null || socialSettings === void 0 ? void 0 : socialSettings.strategy) || 'redirect', [socialSettings]);\n    const { setErrorMessage, setError: setContextError } = useErrorContext();\n    const { initAuth: initAuth$1 } = useUserAuth({\n        authMethod: 'social',\n    });\n    const { generateSessionKey, shouldRegisterSessionKeysOnSignin } = useEmbeddedWalletSessionKeys({\n        environmentId,\n        projectSettings,\n    });\n    const [isProcessing, setIsProcessing] = useState(false);\n    const [error, setError] = useState();\n    const clearError = useCallback(() => {\n        setError(undefined);\n        setContextError(undefined);\n    }, [setContextError]);\n    const onFailed = useCallback((provider, reason, options) => {\n        setIsProcessing(false);\n        onError === null || onError === void 0 ? void 0 : onError();\n        onSettled === null || onSettled === void 0 ? void 0 : onSettled();\n        if (provider && (options === null || options === void 0 ? void 0 : options.raiseAuthFailure))\n            dynamicEvents.emit('authFailure', {\n                option: provider,\n                provider,\n                type: 'social',\n            }, reason);\n    }, [onError, onSettled]);\n    const handleError = useCallback((provider, code, message, options) => {\n        const error = { code, message };\n        logger.error(message);\n        setError(error);\n        setErrorMessage(code);\n        onFailed(provider, { error }, options);\n    }, [onFailed, setErrorMessage]);\n    const checkValidProvider = useCallback((provider, authMode) => {\n        if (!provider) {\n            handleError(provider, SocialOAuthErrorCode.NO_PROVIDER, 'Provider is required', { raiseAuthFailure: authMode === 'signin' });\n            return false;\n        }\n        if (!socialProviders.includes(provider)) {\n            handleError(provider, SocialOAuthErrorCode.INVALID_PROVIDER, `Invalid social provider. Valid providers are: ${socialProviders.join(', ')}`, { raiseAuthFailure: authMode === 'signin' });\n            return false;\n        }\n        return true;\n    }, [handleError]);\n    const linkAccount = useCallback((provider, apiCall) => __awaiter(void 0, void 0, void 0, function* () {\n        try {\n            const response = yield apiCall();\n            if (!response) {\n                handleError(provider, SocialOAuthErrorCode.VERIFICATION_ERROR, `Failed to link social account: ${provider}`, { raiseAuthFailure: false });\n                return;\n            }\n            onSettled === null || onSettled === void 0 ? void 0 : onSettled();\n        }\n        catch (error) {\n            if (error instanceof SocialAccountAlreadyExistsError) {\n                handleError(provider, SocialOAuthErrorCode.ACCOUNT_ALREADY_LINKED_TO_DIFFERENT_PROFILE, `Social account already linked to a different profile: ${provider}`, { raiseAuthFailure: false });\n            }\n        }\n    }), [handleError, onSettled]);\n    const signInAccount = useCallback((provider, apiCall) => __awaiter(void 0, void 0, void 0, function* () {\n        yield initAuth$1({\n            onError: () => handleError(provider, SocialOAuthErrorCode.SIGNIN_ERROR, `Failed to sign-in with social account: ${provider}`, { raiseAuthFailure: true }),\n            onSettled,\n            options: { provider },\n            verifyFunction: () => apiCall(),\n        });\n    }), [handleError, initAuth$1, onSettled]);\n    const completeConnection = useCallback((_a) => __awaiter(void 0, [_a], void 0, function* ({ authMode, provider, state, authCode, captchaToken, verifier, telegramAuthToken, forceCreateUser = false, }) {\n        try {\n            let sessionPublicKey = undefined;\n            if (shouldRegisterSessionKeysOnSignin()) {\n                const keypair = yield generateSessionKey();\n                sessionPublicKey = keypair.publicKey;\n            }\n            if (authMode === 'signin') {\n                if (provider === ProviderEnum.Telegram && telegramAuthToken) {\n                    const apiCall = () => telegramSignIn(environmentId, {\n                        forceCreateUser,\n                        sessionPublicKey,\n                        telegramAuthToken,\n                    });\n                    return yield signInAccount(provider, apiCall);\n                }\n                else if (provider === ProviderEnum.Telegram) {\n                    const apiCall = () => telegramSignIn(environmentId, {\n                        code: authCode,\n                        sessionPublicKey,\n                        state,\n                    });\n                    yield signInAccount(provider, apiCall);\n                }\n                else {\n                    const apiCall = () => signInOAuth(environmentId, provider, {\n                        captchaToken,\n                        code: authCode,\n                        codeVerifier: verifier,\n                        sessionPublicKey,\n                        state,\n                    });\n                    yield signInAccount(provider, apiCall);\n                }\n            }\n            else {\n                if (provider === ProviderEnum.Telegram) {\n                    const apiCall = () => telegramVerify(environmentId, {\n                        code: authCode,\n                        state,\n                    });\n                    yield linkAccount(provider, apiCall);\n                }\n                else {\n                    const apiCall = () => verifyOAuth(environmentId, provider, {\n                        code: authCode,\n                        codeVerifier: verifier,\n                        state,\n                    });\n                    yield linkAccount(provider, apiCall);\n                }\n            }\n        }\n        catch (error) {\n            logger.error('Social connection failed with unexpected error:', error);\n            onFailed(provider, { error }, { raiseAuthFailure: authMode === 'signin' });\n        }\n    }), [\n        environmentId,\n        generateSessionKey,\n        linkAccount,\n        onFailed,\n        shouldRegisterSessionKeysOnSignin,\n        signInAccount,\n    ]);\n    const connectWithFarcaster = useCallback((authMode_1, _b) => __awaiter(void 0, [authMode_1, _b], void 0, function* (authMode, { captchaToken, redirectUrl }) {\n        let dynamicNonce;\n        try {\n            dynamicNonce = consumeNonce();\n        }\n        catch (error) {\n            handleError(ProviderEnum.Farcaster, SocialOAuthErrorCode.GENERAL_ERROR, 'Missing nonce', { raiseAuthFailure: authMode === 'signin' });\n            return;\n        }\n        const domain = PlatformService.getHost();\n        const data = yield connect({\n            domain,\n            nonce: dynamicNonce,\n            redirectUrl: redirectUrl || defaultRedirectUrl,\n            siweUri: PlatformService.getOrigin(),\n        });\n        if (!(data === null || data === void 0 ? void 0 : data.url) || !(data === null || data === void 0 ? void 0 : data.channelToken)) {\n            handleError(ProviderEnum.Farcaster, SocialOAuthErrorCode.GENERAL_ERROR, \"Farcaster didn't return a valid url.\", { raiseAuthFailure: authMode === 'signin' });\n            return;\n        }\n        // If on mobile, we want to redirect to the Warpcast app.\n        if (isMobile()) {\n            yield PlatformService.openURL(data.url);\n        }\n        else {\n            setShowAuthFlow(true);\n            onFarcasterUrl === null || onFarcasterUrl === void 0 ? void 0 : onFarcasterUrl(data.url);\n        }\n        const status = yield watchStatus({\n            channelToken: data.channelToken,\n        });\n        if (status === 'cancelled') {\n            setIsProcessing(false);\n            return;\n        }\n        // Error\n        if (status === 'timeout' ||\n            status === 'rejected' ||\n            !(status === null || status === void 0 ? void 0 : status.message) ||\n            !(status === null || status === void 0 ? void 0 : status.custody) ||\n            !(status === null || status === void 0 ? void 0 : status.signature) ||\n            !(status === null || status === void 0 ? void 0 : status.nonce)) {\n            handleError(ProviderEnum.Farcaster, SocialOAuthErrorCode.GENERAL_ERROR, \"Farcaster didn't return valid data.\", { raiseAuthFailure: authMode === 'signin' });\n            return;\n        }\n        const { custody: address, message, signature, nonce } = status;\n        if (authMode === 'signin') {\n            let sessionPublicKey = undefined;\n            if (shouldRegisterSessionKeysOnSignin()) {\n                const keypair = yield generateSessionKey();\n                sessionPublicKey = keypair.publicKey;\n            }\n            const apiCall = () => farcasterSignIn(environmentId, {\n                address,\n                captchaToken,\n                domain,\n                message,\n                nonce,\n                sessionPublicKey,\n                signature,\n            });\n            yield signInAccount(ProviderEnum.Farcaster, apiCall);\n        }\n        else {\n            const apiCall = () => farcasterVerify({\n                environmentId,\n                farcasterSignInRequest: {\n                    address,\n                    captchaToken,\n                    domain,\n                    message,\n                    nonce,\n                    signature,\n                },\n            });\n            yield linkAccount(ProviderEnum.Farcaster, apiCall);\n            setShowAuthFlow(false, { clearErrors: false });\n        }\n        setIsProcessing(false);\n    }), [\n        defaultRedirectUrl,\n        environmentId,\n        generateSessionKey,\n        handleError,\n        linkAccount,\n        onFarcasterUrl,\n        setShowAuthFlow,\n        shouldRegisterSessionKeysOnSignin,\n        signInAccount,\n    ]);\n    const connectSocialAccount = useCallback((_c) => __awaiter(void 0, [_c], void 0, function* ({ authMode, provider, validator, captchaToken, redirectUrl, telegramAuthToken, showWidgetAfterConnection, }) {\n        var _d, _e;\n        clearError();\n        setIsProcessing(true);\n        if (!authMode) {\n            logger.error('Auth mode is required. Please use either \"link\" or \"signin\"');\n            return;\n        }\n        if (!checkValidProvider(provider, authMode)) {\n            return;\n        }\n        // invalid connect request\n        if (validator && !validator(provider)) {\n            return;\n        }\n        dynamicEvents.emit('authInit', {\n            option: provider,\n            provider,\n            type: 'social',\n        });\n        if (provider === ProviderEnum.Farcaster) {\n            return connectWithFarcaster(authMode, {\n                captchaToken,\n                redirectUrl,\n            });\n        }\n        const state = randomString(32);\n        const verifier = randomString(43);\n        // Whether we will use PKCE (code verifier/challenge) for this provider\n        const usingPkce = providersRequiringPkce.includes(provider);\n        setSocialStorageFor(provider, {\n            captchaToken,\n            codeVerifier: usingPkce ? verifier : undefined,\n            mode: authMode,\n            showWidgetAfterConnection,\n            state,\n        });\n        const loginUrlString = getOauthLoginUrl((_d = projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.providers) !== null && _d !== void 0 ? _d : [], provider);\n        if (!loginUrlString) {\n            handleError(provider, SocialOAuthErrorCode.NO_OAUTH_URL, `Failed to get login url to connect social account: ${provider}`, { raiseAuthFailure: authMode === 'signin' });\n            return;\n        }\n        const oauthLoginUrl = new URL(loginUrlString);\n        oauthLoginUrl.searchParams.set('state', state);\n        // only add pkce params for providers that support/require it\n        if (usingPkce) {\n            const digest = yield digestSHA256(verifier);\n            oauthLoginUrl.searchParams.set('code_challenge', encodeBase64URL(digest));\n            oauthLoginUrl.searchParams.set('code_challenge_method', 'S256');\n        }\n        const isMobile$1 = isMobile();\n        try {\n            const authCode = yield Oauth2Service.getOauthCode({\n                apiProvider: getProviderByType((_e = projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.providers) !== null && _e !== void 0 ? _e : [], provider),\n                getOAuthResultFromApi: () => getOAuthResult(environmentId, provider, {\n                    state,\n                }),\n                initWebAuth: ({ redirectUrl } = {}) => initAuth(environmentId, provider, {\n                    redirectUrl: redirectUrl\n                        ? removeDynamicOauthParamsFromUrl(redirectUrl)\n                        : undefined,\n                    state,\n                }),\n                isMobile: isMobile$1,\n                oauthLoginUrl,\n                onSettled,\n                provider,\n                redirectUrl: redirectUrl !== null && redirectUrl !== void 0 ? redirectUrl : defaultRedirectUrl,\n                setIsProcessing,\n                state,\n                strategy,\n            });\n            yield completeConnection({\n                authCode,\n                authMode,\n                captchaToken,\n                provider,\n                state,\n                telegramAuthToken,\n                verifier,\n            });\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        }\n        catch (error) {\n            if (Oauth2Service.isGetOauthCodeError(error)) {\n                handleError(provider, error.code, error.message, {\n                    raiseAuthFailure: authMode === 'signin',\n                });\n                return;\n            }\n            // Log message individually so the Expo console can display it (it fails to display objects)\n            logger.error('Social connection failed with unexpected error:', error.message, error);\n            onFailed(provider, { error }, { raiseAuthFailure: authMode === 'signin' });\n        }\n    }), [\n        checkValidProvider,\n        clearError,\n        completeConnection,\n        connectWithFarcaster,\n        defaultRedirectUrl,\n        environmentId,\n        handleError,\n        onFailed,\n        onSettled,\n        projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.providers,\n        strategy,\n    ]);\n    return useMemo(() => ({\n        checkValidProvider,\n        completeConnection,\n        connectSocialAccount,\n        error,\n        handleError,\n        isProcessing,\n        setError,\n        setIsProcessing,\n    }), [\n        checkValidProvider,\n        completeConnection,\n        connectSocialAccount,\n        error,\n        handleError,\n        isProcessing,\n    ]);\n};\nconst removeDynamicOauthParamsFromUrl = (url) => {\n    const urlObject = new URL(url);\n    urlObject.searchParams.delete('dynamicOauthState');\n    urlObject.searchParams.delete('dynamicOauthCode');\n    return urlObject.toString();\n};\n\nexport { useSocialAuth };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuGA,MAAM,kBAAkB;IACpB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AACD,gGAAgG;AAChG,gEAAgE;AAChE,MAAM,yBAAyB;IAAC;IAAW;CAAS;AACpD,kFAAkF;AAClF,MAAM,gBAAgB,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,cAAc,EAAG;IAC1D,MAAM,EAAE,aAAa,EAAE,eAAe,EAAE,cAAc,EAAE,eAAe,EAAE,aAAa,kBAAkB,EAAG,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IACtI;;KAEC,GACD,MAAM,WAAW,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;2CAAE,IAAM,CAAC,mBAAmB,QAAQ,mBAAmB,KAAK,IAAI,KAAK,IAAI,eAAe,QAAQ,KAAK;0CAAY;QAAC;KAAe;IACxJ,MAAM,EAAE,eAAe,EAAE,UAAU,eAAe,EAAE,GAAG,CAAA,GAAA,qNAAA,CAAA,kBAAe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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 8981, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useDeleteUserAccount/useDeleteUserAccount.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useState } from 'react';\nimport '@dynamic-labs/utils';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../config/ApiEndpoint.js';\nimport '../../constants/values.js';\nimport '@dynamic-labs/multi-wallet';\nimport '../../../shared/logger.js';\nimport '../../constants/colors.js';\nimport 'react-international-phone';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../../shared/consts/index.js';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport { useEnvironmentId } from '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport { hardDeleteUser } from '../../../data/api/user/user.js';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useDeleteUserAccount = () => {\n    const environmentId = useEnvironmentId();\n    const { handleLogOut } = useInternalDynamicContext();\n    const [isLoading, setIsLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const deleteUser = () => __awaiter(void 0, void 0, void 0, function* () {\n        try {\n            setIsLoading(true);\n            setError(null);\n            yield hardDeleteUser(environmentId);\n            yield handleLogOut();\n        }\n        catch (err) {\n            setError(err);\n        }\n        finally {\n            setIsLoading(false);\n        }\n    });\n    return { deleteUser, error, isLoading };\n};\n\nexport { useDeleteUserAccount };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA,MAAM,uBAAuB;IACzB,MAAM,gBAAgB,CAAA,GAAA,0OAAA,CAAA,mBAAgB,AAAD;IACrC,MAAM,EAAE,YAAY,EAAE,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IACjD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,aAAa,IAAM,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG;YACvD,IAAI;gBACA,aAAa;gBACb,SAAS;gBACT,MAAM,CAAA,GAAA,yMAAA,CAAA,iBAAc,AAAD,EAAE;gBACrB,MAAM;YACV,EACA,OAAO,KAAK;gBACR,SAAS;YACb,SACQ;gBACJ,aAAa;YACjB;QACJ;IACA,OAAO;QAAE;QAAY;QAAO;IAAU;AAC1C","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 9198, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useEmailProvider/useEmailProvider.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useCallback } from 'react';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport { dynamicEvents } from '../../../events/dynamicEvents.js';\nimport { useCaptchaContext } from '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport { findEmailOtpWalletConnector } from '../../../views/Passkey/utils/findEmailOtpWalletConnector/findEmailOtpWalletConnector.js';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport { useConnectWithOtp } from '../../../context/ConnectWithOtpContext/useConnectWithOtp.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\n/** Hook used to connect with email on login */\nconst useEmailProvider = () => {\n    const { projectSettings, walletConnectorOptions } = useInternalDynamicContext();\n    const { connectWithEmail } = useConnectWithOtp();\n    const { engageCaptcha } = useCaptchaContext();\n    const emailWalletConnector = findEmailOtpWalletConnector(walletConnectorOptions);\n    /** Connects with email, engaging the captcha if needed */\n    const connectWithEmailFlow = useCallback((emailInput, onSuccess) => __awaiter(void 0, void 0, void 0, function* () {\n        var _a;\n        dynamicEvents.emit('authInit', {\n            email: emailInput,\n            option: emailInput,\n            type: 'email',\n        });\n        try {\n            if (((_a = projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.security.hCaptcha) === null || _a === void 0 ? void 0 : _a.enabled) &&\n                (emailWalletConnector === null || emailWalletConnector === void 0 ? void 0 : emailWalletConnector.key) !== 'magicemailotp') {\n                engageCaptcha({\n                    authMethod: 'email',\n                    onCaptchaSuccess: (captchaToken) => __awaiter(void 0, void 0, void 0, function* () {\n                        yield connectWithEmail(emailInput, { captchaToken });\n                        onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess();\n                    }),\n                });\n            }\n            else {\n                yield connectWithEmail(emailInput);\n                onSuccess === null || onSuccess === void 0 ? void 0 : onSuccess();\n            }\n        }\n        catch (error) {\n            dynamicEvents.emit('authFailure', {\n                email: emailInput,\n                option: emailInput,\n                type: 'email',\n            }, { error });\n            throw error;\n        }\n    }), [\n        connectWithEmail,\n        engageCaptcha,\n        projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.security.hCaptcha,\n        emailWalletConnector,\n    ]);\n    return {\n        connectWithEmail: connectWithEmailFlow,\n    };\n};\n\nexport { useEmailProvider };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA,6CAA6C,GAC7C,MAAM,mBAAmB;IACrB,MAAM,EAAE,eAAe,EAAE,sBAAsB,EAAE,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IAC5E,MAAM,EAAE,gBAAgB,EAAE,GAAG,CAAA,GAAA,mOAAA,CAAA,oBAAiB,AAAD;IAC7C,MAAM,EAAE,aAAa,EAAE,GAAG,CAAA,GAAA,yNAAA,CAAA,oBAAiB,AAAD;IAC1C,MAAM,uBAAuB,CAAA,GAAA,qQAAA,CAAA,8BAA2B,AAAD,EAAE;IACzD,wDAAwD,GACxD,MAAM,uBAAuB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;8DAAE,CAAC,YAAY,YAAc,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK;sEAAG;oBAClG,IAAI;oBACJ,qMAAA,CAAA,gBAAa,CAAC,IAAI,CAAC,YAAY;wBAC3B,OAAO;wBACP,QAAQ;wBACR,MAAM;oBACV;oBACA,IAAI;wBACA,IAAI,CAAC,CAAC,KAAK,oBAAoB,QAAQ,oBAAoB,KAAK,IAAI,KAAK,IAAI,gBAAgB,QAAQ,CAAC,QAAQ,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,OAAO,KAC3J,CAAC,yBAAyB,QAAQ,yBAAyB,KAAK,IAAI,KAAK,IAAI,qBAAqB,GAAG,MAAM,iBAAiB;4BAC5H,cAAc;gCACV,YAAY;gCACZ,gBAAgB;0FAAE,CAAC,eAAiB,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK;kGAAG;gDAClE,MAAM,iBAAiB,YAAY;oDAAE;gDAAa;gDAClD,cAAc,QAAQ,cAAc,KAAK,IAAI,KAAK,IAAI;4CAC1D;;;4BACJ;wBACJ,OACK;4BACD,MAAM,iBAAiB;4BACvB,cAAc,QAAQ,cAAc,KAAK,IAAI,KAAK,IAAI;wBAC1D;oBACJ,EACA,OAAO,OAAO;wBACV,qMAAA,CAAA,gBAAa,CAAC,IAAI,CAAC,eAAe;4BAC9B,OAAO;4BACP,QAAQ;4BACR,MAAM;wBACV,GAAG;4BAAE;wBAAM;wBACX,MAAM;oBACV;gBACJ;;6DAAI;QACA;QACA;QACA,oBAAoB,QAAQ,oBAAoB,KAAK,IAAI,KAAK,IAAI,gBAAgB,QAAQ,CAAC,QAAQ;QACnG;KACH;IACD,OAAO;QACH,kBAAkB;IACtB;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 9449, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useHandleVerificationRequired/useHandleVerificationRequired.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useCallback } from 'react';\nimport { VerificationDataCollectionError } from '@dynamic-labs/utils';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport { formatPhone } from '../../functions/formatPhone/formatPhone.js';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport { updateUserProfileFields } from '../../../data/api/user/user.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport { useOtpVerificationRequestRaw } from '../authenticationHooks/useOtpVerificationRequest/useOtpVerificationRequest.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport { useVerification } from '../../../context/VerificationContext/VerificationContext.js';\nimport { userFieldsSchema } from '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst getResponseInfo = (response, destination) => {\n    var _a, _b, _c, _d, _e, _f, _g;\n    if (destination === 'email')\n        return {\n            displayDestination: (_a = response.emailVerification) === null || _a === void 0 ? void 0 : _a.email,\n            verificationUUID: (_b = response.emailVerification) === null || _b === void 0 ? void 0 : _b.verificationUUID,\n        };\n    return {\n        displayDestination: formatPhone('+' +\n            ((_d = (_c = response.smsVerification) === null || _c === void 0 ? void 0 : _c.phoneCountryCode) !== null && _d !== void 0 ? _d : '') +\n            ((_f = (_e = response.smsVerification) === null || _e === void 0 ? void 0 : _e.phoneNumber) !== null && _f !== void 0 ? _f : '')),\n        verificationUUID: (_g = response.smsVerification) === null || _g === void 0 ? void 0 : _g.verificationUUID,\n    };\n};\nconst useHandleVerificationRequired = () => {\n    const { setVerificationUUID, setDisplayedDestination } = useVerification();\n    const { environmentId } = useInternalDynamicContext();\n    const { verifyOtp } = useOtpVerificationRequestRaw();\n    const collectNecessaryVerificationData = useCallback((destination, updateUserProfileResponse) => __awaiter(void 0, void 0, void 0, function* () {\n        // We just need to make sure we have the emailVerification/smsVerification data\n        // If it's already present, use it as is\n        if ((destination === 'email' &&\n            updateUserProfileResponse.emailVerification) ||\n            (destination === 'sms' && updateUserProfileResponse.smsVerification))\n            return updateUserProfileResponse;\n        const userField = destination === 'email' ? 'email' : 'phoneNumber';\n        // If verification is required but we don't have the userField's verification data,\n        // make another call to the api to get it\n        if (!updateUserProfileResponse.user[userField])\n            throw new VerificationDataCollectionError(`missing ${userField} field to perform update`);\n        const validatedUserFields = yield userFieldsSchema.validate({\n            [userField]: updateUserProfileResponse.user[userField],\n        });\n        const { emailVerification, smsVerification } = yield updateUserProfileFields(environmentId, validatedUserFields);\n        if ((destination === 'email' && !emailVerification) ||\n            (destination === 'sms' && !smsVerification))\n            throw new VerificationDataCollectionError(`could not get ${destination} verification data from api`);\n        return Object.assign(Object.assign({}, updateUserProfileResponse), { emailVerification,\n            smsVerification });\n    }), [environmentId]);\n    const handleVerificationRequired = useCallback((_a) => __awaiter(void 0, [_a], void 0, function* ({ updateUserProfileResponse: updateUserProfileResponseRaw, missingFields, destination, }) {\n        const updateUserProfileResponse = yield collectNecessaryVerificationData(destination, updateUserProfileResponseRaw);\n        // Use this information in the Verification view\n        const { displayDestination, verificationUUID } = getResponseInfo(updateUserProfileResponse, destination);\n        setDisplayedDestination(displayDestination);\n        setVerificationUUID(verificationUUID);\n        const scopedVerify = (verificationToken) => __awaiter(void 0, void 0, void 0, function* () {\n            return verifyOtp(handleVerificationRequired, verificationToken, destination, verificationUUID);\n        });\n        if (destination === 'email')\n            return {\n                isEmailVerificationRequired: true,\n                isSmsVerificationRequired: false,\n                missingFields,\n                updateUserProfileResponse,\n                verifyOtp: scopedVerify,\n            };\n        return {\n            isEmailVerificationRequired: false,\n            isSmsVerificationRequired: true,\n            missingFields,\n            updateUserProfileResponse,\n            verifyOtp: scopedVerify,\n        };\n    }), [\n        collectNecessaryVerificationData,\n        setDisplayedDestination,\n        setVerificationUUID,\n        verifyOtp,\n    ]);\n    return handleVerificationRequired;\n};\n\nexport { getResponseInfo, useHandleVerificationRequired };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 9729, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useOnUnmount/useOnUnmount.js"],"sourcesContent":["'use client'\nimport { useRef, useEffect } from 'react';\n\n/** Min ms that need to pass before the component is able to call the callback on unmount */\nconst MIN_EVENT_TIME = 10;\nconst useOnUnmount = (callback) => {\n    const callbackRef = useRef(callback);\n    callbackRef.current = callback;\n    useEffect(() => {\n        const mountedAt = new Date();\n        return () => {\n            // Avoid calling callback as cause of a React Strict Mode rerender\n            if (new Date().getTime() - mountedAt.getTime() < MIN_EVENT_TIME)\n                return;\n            callbackRef.current();\n        };\n    }, []);\n};\n\nexport { useOnUnmount };\n"],"names":[],"mappings":";;;AACA;AADA;;AAGA,0FAA0F,GAC1F,MAAM,iBAAiB;AACvB,MAAM,eAAe,CAAC;IAClB,MAAM,cAAc,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IAC3B,YAAY,OAAO,GAAG;IACtB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACN,MAAM,YAAY,IAAI;YACtB;0CAAO;oBACH,kEAAkE;oBAClE,IAAI,IAAI,OAAO,OAAO,KAAK,UAAU,OAAO,KAAK,gBAC7C;oBACJ,YAAY,OAAO;gBACvB;;QACJ;iCAAG,EAAE;AACT","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 9759, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useCountdown/useCountdown.js"],"sourcesContent":["'use client'\nimport { useState, useRef, useEffect } from 'react';\n\nconst useCountdown = ({ callback, seconds }) => {\n    const [remainingSeconds, setRemainingSeconds] = useState(seconds);\n    const timeoutRef = useRef();\n    const startCountdown = () => {\n        if (timeoutRef.current) {\n            return setRemainingSeconds(seconds);\n        }\n        runCountdown();\n    };\n    const stopCountdown = () => {\n        clearTimeout(timeoutRef.current);\n        timeoutRef.current = undefined;\n    };\n    const runCountdown = () => {\n        timeoutRef.current = setTimeout(() => {\n            setRemainingSeconds((prevSeconds) => prevSeconds - 1);\n        }, 1000);\n    };\n    useEffect(() => {\n        if (!timeoutRef.current)\n            return;\n        if (remainingSeconds <= 0) {\n            if (callback)\n                callback();\n            return;\n        }\n        runCountdown();\n        return () => clearTimeout(timeoutRef.current);\n    }, [remainingSeconds, callback]);\n    return { remainingSeconds, startCountdown, stopCountdown };\n};\n\nexport { useCountdown };\n"],"names":[],"mappings":";;;AACA;AADA;;AAGA,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAE,OAAO,EAAE;IACvC,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzD,MAAM,aAAa,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD;IACxB,MAAM,iBAAiB;QACnB,IAAI,WAAW,OAAO,EAAE;YACpB,OAAO,oBAAoB;QAC/B;QACA;IACJ;IACA,MAAM,gBAAgB;QAClB,aAAa,WAAW,OAAO;QAC/B,WAAW,OAAO,GAAG;IACzB;IACA,MAAM,eAAe;QACjB,WAAW,OAAO,GAAG,WAAW;YAC5B,oBAAoB,CAAC,cAAgB,cAAc;QACvD,GAAG;IACP;IACA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACN,IAAI,CAAC,WAAW,OAAO,EACnB;YACJ,IAAI,oBAAoB,GAAG;gBACvB,IAAI,UACA;gBACJ;YACJ;YACA;YACA;0CAAO,IAAM,aAAa,WAAW,OAAO;;QAChD;iCAAG;QAAC;QAAkB;KAAS;IAC/B,OAAO;QAAE;QAAkB;QAAgB;IAAc;AAC7D","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 9812, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useEmbeddedReveal/useEmbeddedReveal.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useCallback } from 'react';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport { useViewContext } from '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport { dynamicEvents } from '../../../events/dynamicEvents.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport { USER_NOT_LOGGED_IN } from '../../constants/errors.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport { isTurnkeyEnabled } from '../../functions/isTurnkeyEnabled/isTurnkeyEnabled.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport { useIsTurnkeyWallet } from '../useIsTurnkeyWallet/useIsTurnkeyWallet.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport { useEmbeddedWallet } from '../useEmbeddedWallet/useEmbeddedWallet.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\n// Hook exposed to customers and used internally to trigger embedded reveal\nconst useEmbeddedReveal = () => {\n    const { primaryWallet, projectSettings, user, setShowAuthFlow } = useInternalDynamicContext();\n    const { userHasEmbeddedWallet } = useEmbeddedWallet();\n    const { pushView } = useViewContext();\n    const { isTurnkeyWallet } = useIsTurnkeyWallet();\n    const turnkeyChecks = ({ user, recoveryPhrase, }) => {\n        var _a, _b;\n        if (!isTurnkeyEnabled(projectSettings)) {\n            throw new Error('Dynamic embedded wallet is not enabled. Go to the dashboard and make sure to have both Dynamic Embedded wallet and at least one EVM network enabled. Also, check if EthereumWalletConnectors is in the  DynamicContextProvider > settings > walletConnectors.');\n        }\n        if (!userHasEmbeddedWallet()) {\n            throw new Error('Dynamic embedded wallet not found');\n        }\n        const walletProperties = (_b = (_a = user.verifiedCredentials) === null || _a === void 0 ? void 0 : _a.find(({ walletName }) => walletName === null || walletName === void 0 ? void 0 : walletName.startsWith('turnkey'))) === null || _b === void 0 ? void 0 : _b.walletProperties;\n        const turnkeyHDWalletId = walletProperties === null || walletProperties === void 0 ? void 0 : walletProperties.turnkeyHDWalletId;\n        if (recoveryPhrase && !turnkeyHDWalletId) {\n            throw new Error('Wallet is non-HD and does not have a recovery phrase');\n        }\n    };\n    const initExportProcess = useCallback((...args_1) => __awaiter(void 0, [...args_1], void 0, function* (recoveryPhrase = false, isPromptForExport = false) {\n        if (!primaryWallet) {\n            throw new Error('No primary wallet');\n        }\n        if (!user) {\n            throw new Error(USER_NOT_LOGGED_IN);\n        }\n        if (isTurnkeyWallet) {\n            turnkeyChecks({ recoveryPhrase, user });\n        }\n        if (!userHasEmbeddedWallet()) {\n            throw new Error('Dynamic embedded wallet not found');\n        }\n        setShowAuthFlow(true, {\n            ignoreIfIsEmbeddedWidget: false,\n            performMultiWalletChecks: false,\n        });\n        pushView('embedded-reveal-view', {\n            exportPrivateKey: !recoveryPhrase,\n            isPromptForExport,\n        });\n        return new Promise((resolve, reject) => {\n            dynamicEvents.once('embeddedWalletRevealCompleted', (wallet) => resolve(wallet));\n            dynamicEvents.once('embeddedWalletRevealFailed', (error) => reject(error));\n        });\n    }), [primaryWallet, isTurnkeyWallet, setShowAuthFlow, pushView, user]);\n    return {\n        initExportProcess,\n    };\n};\n\nexport { useEmbeddedReveal };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 10083, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useSyncEmbeddedWalletFlow/useSyncEmbeddedWalletFlow.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useRef, useCallback, useEffect } from 'react';\nimport { EmbeddedWalletException } from '@dynamic-labs/utils';\nimport { useEmbeddedWallet } from '../useEmbeddedWallet/useEmbeddedWallet.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '@dynamic-labs/wallet-connector-core';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport { logger } from '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport { useLocalStorage } from '../../../shared/utils/hooks/useLocalStorage/useLocalStorage.js';\nimport '../../../shared/consts/index.js';\nimport { useInternalDynamicEvents } from '../events/useDynamicEvents/useDynamicEvents.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport { findEmbeddedWalletFromVerifiedCredentials } from '../../functions/findEmbeddedWalletFromVerifiedCredentials/findEmbeddedWalletFromVerifiedCredentials.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport { useLoadingContext } from '../../../context/LoadingContext/LoadingContext.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport { useWalletContext } from '../../../context/WalletContext/WalletContext.js';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport { useEmbeddedReveal } from '../useEmbeddedReveal/useEmbeddedReveal.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\n\nlet acknowledgedExportPrompt = false;\nconst useSyncEmbeddedWalletFlow = () => {\n    const { projectSettings, user, primaryWalletId, walletConnectorOptions, primaryWallet, setShowAuthFlow, } = useInternalDynamicContext();\n    const { isLoadingEmbeddedWallet } = useWalletContext();\n    const { loading: globalLoading } = useLoadingContext();\n    const { initExportProcess } = useEmbeddedReveal();\n    const [wasShownExportPrompt, setWasShownExportPrompt] = useLocalStorage(`dynamic_export_prompt-${user === null || user === void 0 ? void 0 : user.userId}`, false, (data) => Boolean(data));\n    const { createEmbeddedWallet, shouldAutoCreateEmbeddedWallet, shouldPromptForKeyExport, } = useEmbeddedWallet();\n    const triggeredCreate = useRef(false);\n    const handleAcknowledgeExportPrompt = useCallback((value = true) => {\n        acknowledgedExportPrompt = value;\n        setWasShownExportPrompt(value);\n    }, [setWasShownExportPrompt]);\n    useInternalDynamicEvents('logout', () => {\n        triggeredCreate.current = false;\n        acknowledgedExportPrompt = false;\n    });\n    // this is used to trigger createEmbeddedWallet\n    // when user didn't create a passkey after login,\n    // we force them to created it before they can use the app\n    // ** It must be an useEffect because some of the dependencies are async\n    useEffect(() => {\n        const syncEmbeddedWallet = () => __awaiter(void 0, void 0, void 0, function* () {\n            const isNewUser = user === null || user === void 0 ? void 0 : user.newUser;\n            if (shouldSyncCreateWallet) {\n                triggeredCreate.current = true;\n                try {\n                    yield createEmbeddedWallet();\n                }\n                catch (error) {\n                    if (error instanceof EmbeddedWalletException) {\n                        logger.debug('Error creating embedded wallet', error);\n                    }\n                    else {\n                        logger.error('Error creating embedded wallet', error);\n                    }\n                    setShowAuthFlow(false);\n                }\n            }\n            if (shouldSyncPromptKeyExport &&\n                isNewUser &&\n                findEmbeddedWalletFromVerifiedCredentials(user) &&\n                primaryWallet) {\n                try {\n                    setShowAuthFlow(true);\n                    yield initExportProcess(true, true);\n                }\n                catch (error) {\n                    logger.error('Error initializing embedded wallet export', error);\n                    setShowAuthFlow(false);\n                }\n            }\n        });\n        const shouldCreateWallet = shouldAutoCreateEmbeddedWallet();\n        const shouldSyncCreateWallet = shouldCreateWallet && !triggeredCreate.current;\n        if (wasShownExportPrompt && !acknowledgedExportPrompt)\n            acknowledgedExportPrompt = true;\n        const shouldPromptKeyExport = shouldPromptForKeyExport();\n        const shouldSyncPromptKeyExport = shouldPromptKeyExport && !acknowledgedExportPrompt;\n        const shouldSyncEmbeddedWallet = shouldSyncCreateWallet || shouldSyncPromptKeyExport;\n        if (!shouldSyncEmbeddedWallet ||\n            !user ||\n            !projectSettings ||\n            !walletConnectorOptions.length || // no connectors to use for the embedded wallet\n            isLoadingEmbeddedWallet || // already has a wallet\n            globalLoading // this will be true if auth is in progress\n        ) {\n            return;\n        }\n        syncEmbeddedWallet();\n    }, [\n        user,\n        projectSettings,\n        primaryWalletId,\n        createEmbeddedWallet,\n        isLoadingEmbeddedWallet,\n        walletConnectorOptions,\n        globalLoading,\n        shouldAutoCreateEmbeddedWallet,\n        setShowAuthFlow,\n        initExportProcess,\n        primaryWallet,\n        shouldPromptForKeyExport,\n        setWasShownExportPrompt,\n        handleAcknowledgeExportPrompt,\n        wasShownExportPrompt,\n    ]);\n    return {\n        acknowledgedExportPrompt,\n        handleAcknowledgeExportPrompt,\n    };\n};\n\nexport { useSyncEmbeddedWalletFlow };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkGA,IAAI,2BAA2B;AAC/B,MAAM,4BAA4B;IAC9B,MAAM,EAAE,eAAe,EAAE,IAAI,EAAE,eAAe,EAAE,sBAAsB,EAAE,aAAa,EAAE,eAAe,EAAG,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IACpI,MAAM,EAAE,uBAAuB,EAAE,GAAG,CAAA,GAAA,uNAAA,CAAA,mBAAgB,AAAD;IACnD,MAAM,EAAE,SAAS,aAAa,EAAE,GAAG,CAAA,GAAA,yNAAA,CAAA,oBAAiB,AAAD;IACnD,MAAM,EAAE,iBAAiB,EAAE,GAAG,CAAA,GAAA,sOAAA,CAAA,oBAAiB,AAAD;IAC9C,MAAM,CAAC,sBAAsB,wBAAwB,GAAG,CAAA,GAAA,4OAAA,CAAA,kBAAe,AAAD,EAAE,CAAC,sBAAsB,EAAE,SAAS,QAAQ,SAAS,KAAK,IAAI,KAAK,IAAI,KAAK,MAAM,EAAE,EAAE;qDAAO,CAAC,OAAS,QAAQ;;IACrL,MAAM,EAAE,oBAAoB,EAAE,8BAA8B,EAAE,wBAAwB,EAAG,GAAG,CAAA,GAAA,sOAAA,CAAA,oBAAiB,AAAD;IAC5G,MAAM,kBAAkB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IAC/B,MAAM,gCAAgC,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;gFAAE,CAAC,QAAQ,IAAI;YAC3D,2BAA2B;YAC3B,wBAAwB;QAC5B;+EAAG;QAAC;KAAwB;IAC5B,CAAA,GAAA,8OAAA,CAAA,2BAAwB,AAAD,EAAE;8DAAU;YAC/B,gBAAgB,OAAO,GAAG;YAC1B,2BAA2B;QAC/B;;IACA,+CAA+C;IAC/C,iDAAiD;IACjD,0DAA0D;IAC1D,wEAAwE;IACxE,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;+CAAE;YACN,MAAM;0EAAqB,IAAM,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK;kFAAG;4BAC/D,MAAM,YAAY,SAAS,QAAQ,SAAS,KAAK,IAAI,KAAK,IAAI,KAAK,OAAO;4BAC1E,IAAI,wBAAwB;gCACxB,gBAAgB,OAAO,GAAG;gCAC1B,IAAI;oCACA,MAAM;gCACV,EACA,OAAO,OAAO;oCACV,IAAI,iBAAiB,yLAAA,CAAA,0BAAuB,EAAE;wCAC1C,8LAAA,CAAA,SAAM,CAAC,KAAK,CAAC,kCAAkC;oCACnD,OACK;wCACD,8LAAA,CAAA,SAAM,CAAC,KAAK,CAAC,kCAAkC;oCACnD;oCACA,gBAAgB;gCACpB;4BACJ;4BACA,IAAI,6BACA,aACA,CAAA,GAAA,0RAAA,CAAA,4CAAyC,AAAD,EAAE,SAC1C,eAAe;gCACf,IAAI;oCACA,gBAAgB;oCAChB,MAAM,kBAAkB,MAAM;gCAClC,EACA,OAAO,OAAO;oCACV,8LAAA,CAAA,SAAM,CAAC,KAAK,CAAC,6CAA6C;oCAC1D,gBAAgB;gCACpB;4BACJ;wBACJ;;;YACA,MAAM,qBAAqB;YAC3B,MAAM,yBAAyB,sBAAsB,CAAC,gBAAgB,OAAO;YAC7E,IAAI,wBAAwB,CAAC,0BACzB,2BAA2B;YAC/B,MAAM,wBAAwB;YAC9B,MAAM,4BAA4B,yBAAyB,CAAC;YAC5D,MAAM,2BAA2B,0BAA0B;YAC3D,IAAI,CAAC,4BACD,CAAC,QACD,CAAC,mBACD,CAAC,uBAAuB,MAAM,IAAI,+CAA+C;YACjF,2BAA2B,uBAAuB;YAClD,cAAc,2CAA2C;cAC3D;gBACE;YACJ;YACA;QACJ;8CAAG;QACC;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACH;IACD,OAAO;QACH;QACA;IACJ;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 10382, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useTimeout/useTimeout.js"],"sourcesContent":["'use client'\nimport { useRef, useEffect } from 'react';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect/useIsomorphicLayoutEffect.js';\n\n// https://usehooks-ts.com/react-hook/use-timeout\nconst useTimeout = (callback, delay) => {\n    const savedCallback = useRef(callback);\n    // Remember the latest callback if it changes.\n    useIsomorphicLayoutEffect(() => {\n        savedCallback.current = callback;\n    }, [callback]);\n    // Set up the timeout.\n    useEffect(() => {\n        // Don't schedule if no delay is specified.\n        // Note: 0 is a valid value for delay.\n        if (!delay && delay !== 0) {\n            return;\n        }\n        const id = setTimeout(() => savedCallback.current(), delay);\n        return () => clearTimeout(id);\n    }, [delay]);\n};\n\nexport { useTimeout };\n"],"names":[],"mappings":";;;AACA;AACA;AAFA;;;AAIA,iDAAiD;AACjD,MAAM,aAAa,CAAC,UAAU;IAC1B,MAAM,gBAAgB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IAC7B,8CAA8C;IAC9C,CAAA,GAAA,sPAAA,CAAA,4BAAyB,AAAD;gDAAE;YACtB,cAAc,OAAO,GAAG;QAC5B;+CAAG;QAAC;KAAS;IACb,sBAAsB;IACtB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;gCAAE;YACN,2CAA2C;YAC3C,sCAAsC;YACtC,IAAI,CAAC,SAAS,UAAU,GAAG;gBACvB;YACJ;YACA,MAAM,KAAK;2CAAW,IAAM,cAAc,OAAO;0CAAI;YACrD;wCAAO,IAAM,aAAa;;QAC9B;+BAAG;QAAC;KAAM;AACd","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 10427, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useWalletList/utils/getEffectiveRecommendedWallets/getEffectiveRecommendedWallets.js"],"sourcesContent":["'use client'\nconst getEffectiveRecommendedWallets = (selectedTabSettings, recommendedWallets) => {\n    if (selectedTabSettings && (selectedTabSettings === null || selectedTabSettings === void 0 ? void 0 : selectedTabSettings.recommendedWallets)) {\n        return selectedTabSettings.recommendedWallets;\n    }\n    return recommendedWallets;\n};\n\nexport { getEffectiveRecommendedWallets };\n"],"names":[],"mappings":";;;AAAA;AACA,MAAM,iCAAiC,CAAC,qBAAqB;IACzD,IAAI,uBAAuB,CAAC,wBAAwB,QAAQ,wBAAwB,KAAK,IAAI,KAAK,IAAI,oBAAoB,kBAAkB,GAAG;QAC3I,OAAO,oBAAoB,kBAAkB;IACjD;IACA,OAAO;AACX","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 10444, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useWalletList/utils/getEffectiveWalletFilter/getEffectiveWalletFilter.js"],"sourcesContent":["'use client'\nconst getEffectiveWalletFilter = (selectedTabSettings, walletsFilter) => {\n    if (selectedTabSettings && (selectedTabSettings === null || selectedTabSettings === void 0 ? void 0 : selectedTabSettings.walletsFilter)) {\n        return selectedTabSettings.walletsFilter;\n    }\n    return walletsFilter;\n};\n\nexport { getEffectiveWalletFilter };\n"],"names":[],"mappings":";;;AAAA;AACA,MAAM,2BAA2B,CAAC,qBAAqB;IACnD,IAAI,uBAAuB,CAAC,wBAAwB,QAAQ,wBAAwB,KAAK,IAAI,KAAK,IAAI,oBAAoB,aAAa,GAAG;QACtI,OAAO,oBAAoB,aAAa;IAC5C;IACA,OAAO;AACX","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 10461, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useWalletList/useWalletList.js"],"sourcesContent":["'use client'\nimport { pipe } from '@dynamic-labs/utils';\nimport 'react';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../../../_virtual/_tslib.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport { useUserWallets } from '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport { useWalletGroups } from '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport { FilterBridgeChainsName } from '../../functions/walletFilters/index.js';\nimport { walletListBuilder } from '../../functions/walletListBuilder/walletListBuilder.js';\nimport { getEffectiveRecommendedWallets } from './utils/getEffectiveRecommendedWallets/getEffectiveRecommendedWallets.js';\nimport { getEffectiveWalletFilter } from './utils/getEffectiveWalletFilter/getEffectiveWalletFilter.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useWalletList = ({ isWalletConnectList = false, viewWalletsFilter, searchFilter, lastUsedWalletKey, }) => {\n    const { walletsFilter, walletConnectorOptions, defaultNumberOfWalletsToShow, bridgeChainsToConnect, authMode, multiWallet, recommendedWallets, selectedTabSettings, } = useInternalDynamicContext();\n    const userWallets = useUserWallets();\n    const walletGroups = useWalletGroups();\n    const getFilteredBridgeChains = (bridgeChainsToConnect === null || bridgeChainsToConnect === void 0 ? void 0 : bridgeChainsToConnect.length) &&\n        FilterBridgeChainsName(bridgeChainsToConnect[0].chain);\n    const filteredBridgeChains = getFilteredBridgeChains && getFilteredBridgeChains(walletConnectorOptions);\n    const effectiveRecommendedWallets = getEffectiveRecommendedWallets(selectedTabSettings, recommendedWallets);\n    const effectiveWalletsFilter = getEffectiveWalletFilter(selectedTabSettings, walletsFilter);\n    const { numberOfWallets, walletsList } = walletListBuilder({\n        authMode,\n        groupWallets: true,\n        inputList: filteredBridgeChains || walletConnectorOptions,\n        isWalletConnectList,\n        lastUsedWalletKey,\n        multiWallet,\n        numberOfWalletsToShow: defaultNumberOfWalletsToShow,\n        recommendedWallets: effectiveRecommendedWallets,\n        searchFilter,\n        showMoreWalletsWithFilter: true,\n        userWallets,\n        walletGroups,\n        // use both filters if available, else use the viewWalletsFilter or effectiveWalletsFilter\n        walletsFilter: viewWalletsFilter && effectiveWalletsFilter\n            ? pipe(viewWalletsFilter).pipe(effectiveWalletsFilter)\n            : viewWalletsFilter || effectiveWalletsFilter,\n    });\n    return {\n        numberOfWallets,\n        recommendedWallets: effectiveRecommendedWallets,\n        walletsList,\n    };\n};\n\nexport { useWalletList };\n"],"names":[],"mappings":";;;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiGA,MAAM,gBAAgB,CAAC,EAAE,sBAAsB,KAAK,EAAE,iBAAiB,EAAE,YAAY,EAAE,iBAAiB,EAAG;IACvG,MAAM,EAAE,aAAa,EAAE,sBAAsB,EAAE,4BAA4B,EAAE,qBAAqB,EAAE,QAAQ,EAAE,WAAW,EAAE,kBAAkB,EAAE,mBAAmB,EAAG,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IAChM,MAAM,cAAc,CAAA,GAAA,iOAAA,CAAA,iBAAc,AAAD;IACjC,MAAM,eAAe,CAAA,GAAA,8NAAA,CAAA,kBAAe,AAAD;IACnC,MAAM,0BAA0B,CAAC,0BAA0B,QAAQ,0BAA0B,KAAK,IAAI,KAAK,IAAI,sBAAsB,MAAM,KACvI,CAAA,GAAA,0NAAA,CAAA,yBAAsB,AAAD,EAAE,qBAAqB,CAAC,EAAE,CAAC,KAAK;IACzD,MAAM,uBAAuB,2BAA2B,wBAAwB;IAChF,MAAM,8BAA8B,CAAA,GAAA,0RAAA,CAAA,iCAA8B,AAAD,EAAE,qBAAqB;IACxF,MAAM,yBAAyB,CAAA,GAAA,8QAAA,CAAA,2BAAwB,AAAD,EAAE,qBAAqB;IAC7E,MAAM,EAAE,eAAe,EAAE,WAAW,EAAE,GAAG,CAAA,GAAA,0OAAA,CAAA,oBAAiB,AAAD,EAAE;QACvD;QACA,cAAc;QACd,WAAW,wBAAwB;QACnC;QACA;QACA;QACA,uBAAuB;QACvB,oBAAoB;QACpB;QACA,2BAA2B;QAC3B;QACA;QACA,0FAA0F;QAC1F,eAAe,qBAAqB,yBAC9B,CAAA,GAAA,oKAAA,CAAA,OAAI,AAAD,EAAE,mBAAmB,IAAI,CAAC,0BAC7B,qBAAqB;IAC/B;IACA,OAAO;QACH;QACA,oBAAoB;QACpB;IACJ;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 10692, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useViewSettings/useViewSettings.js"],"sourcesContent":["'use client'\nimport 'react';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../../../_virtual/_tslib.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useViewSettings = (viewType) => {\n    var _a, _b, _c;\n    const { projectSettings, overrides } = useInternalDynamicContext();\n    const apiViewSettings = (_b = (_a = projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.sdk) === null || _a === void 0 ? void 0 : _a.views) === null || _b === void 0 ? void 0 : _b.find((view) => view.type === viewType);\n    const overrideViewSettings = (_c = overrides === null || overrides === void 0 ? void 0 : overrides.views) === null || _c === void 0 ? void 0 : _c.find((view) => view.type === viewType);\n    return (overrideViewSettings || apiViewSettings);\n};\n\nexport { useViewSettings };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA,MAAM,kBAAkB,CAAC;IACrB,IAAI,IAAI,IAAI;IACZ,MAAM,EAAE,eAAe,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IAC/D,MAAM,kBAAkB,CAAC,KAAK,CAAC,KAAK,oBAAoB,QAAQ,oBAAoB,KAAK,IAAI,KAAK,IAAI,gBAAgB,GAAG,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,KAAK,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,IAAI,CAAC,CAAC,OAAS,KAAK,IAAI,KAAK;IAC/O,MAAM,uBAAuB,CAAC,KAAK,cAAc,QAAQ,cAAc,KAAK,IAAI,KAAK,IAAI,UAAU,KAAK,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,IAAI,CAAC,CAAC,OAAS,KAAK,IAAI,KAAK;IAC/K,OAAQ,wBAAwB;AACpC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 10891, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useMergeUserAccounts/useMergeUserAccounts.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport '@dynamic-labs/utils';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../config/ApiEndpoint.js';\nimport '../../constants/values.js';\nimport '@dynamic-labs/multi-wallet';\nimport '../../../shared/logger.js';\nimport '../../constants/colors.js';\nimport 'react-international-phone';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../../shared/consts/index.js';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport { verifyMergeUsers } from '../../../data/api/user/user.js';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport { dynamicEvents } from '../../../events/dynamicEvents.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport { useInternalUserWallets } from '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useMergeUserAccounts = () => {\n    const { environmentId, setShowAuthFlow, selectedWalletConnector } = useInternalDynamicContext();\n    const { addedWalletsIds } = useInternalUserWallets();\n    const mergeUserAccounts = (mergeConflictResolutions) => __awaiter(void 0, void 0, void 0, function* () {\n        const user = yield verifyMergeUsers(environmentId, mergeConflictResolutions);\n        const walletId = user.lastVerifiedCredentialId;\n        if (walletId) {\n            addedWalletsIds.current.push(walletId);\n        }\n        const accounts = yield (selectedWalletConnector === null || selectedWalletConnector === void 0 ? void 0 : selectedWalletConnector.getConnectedAccounts());\n        if (accounts === null || accounts === void 0 ? void 0 : accounts.length) {\n            dynamicEvents.emit('triggerComputePrimaryWalletMultiWalletStateFromAccounts', { accounts });\n        }\n        setShowAuthFlow(false);\n    });\n    return {\n        mergeUserAccounts,\n    };\n};\n\nexport { useMergeUserAccounts };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA,MAAM,uBAAuB;IACzB,MAAM,EAAE,aAAa,EAAE,eAAe,EAAE,uBAAuB,EAAE,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IAC5F,MAAM,EAAE,eAAe,EAAE,GAAG,CAAA,GAAA,iOAAA,CAAA,yBAAsB,AAAD;IACjD,MAAM,oBAAoB,CAAC,2BAA6B,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG;YACtF,MAAM,OAAO,MAAM,CAAA,GAAA,yMAAA,CAAA,mBAAgB,AAAD,EAAE,eAAe;YACnD,MAAM,WAAW,KAAK,wBAAwB;YAC9C,IAAI,UAAU;gBACV,gBAAgB,OAAO,CAAC,IAAI,CAAC;YACjC;YACA,MAAM,WAAW,MAAO,4BAA4B,QAAQ,4BAA4B,KAAK,IAAI,KAAK,IAAI,wBAAwB,oBAAoB;YACtJ,IAAI,aAAa,QAAQ,aAAa,KAAK,IAAI,KAAK,IAAI,SAAS,MAAM,EAAE;gBACrE,qMAAA,CAAA,gBAAa,CAAC,IAAI,CAAC,2DAA2D;oBAAE;gBAAS;YAC7F;YACA,gBAAgB;QACpB;IACA,OAAO;QACH;IACJ;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 11106, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useIsLoggedIn/useIsLoggedIn.js"],"sourcesContent":["'use client'\nimport { isSessionKeyCompatibleWallet } from '@dynamic-labs/wallet-connector-core';\nimport 'react';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport { logger } from '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../../../_virtual/_tslib.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport { isTurnkeyEnabled } from '../../functions/isTurnkeyEnabled/isTurnkeyEnabled.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport { useSmartWallets } from '../useSmartWallets/useSmartWallets.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useIsLoggedIn = () => {\n    var _a, _b, _c;\n    const { user, primaryWallet, authMode, projectSettings } = useInternalDynamicContext();\n    const { getEOAWallet } = useSmartWallets();\n    const eoaWallet = primaryWallet && getEOAWallet(primaryWallet);\n    const isSessionKeyCompatible = (primaryWallet && isSessionKeyCompatibleWallet(primaryWallet)) ||\n        (eoaWallet && isSessionKeyCompatibleWallet(eoaWallet));\n    const isTurnkeyProviderEnabled = isTurnkeyEnabled(projectSettings);\n    // a user is set even when on connect-only mode if signing in with social,\n    // but it won't have a primaryWallet in this case\n    const isLoggedIn = Boolean(user) || (authMode === 'connect-only' && Boolean(primaryWallet));\n    const userWalletsCredentials = (_a = user === null || user === void 0 ? void 0 : user.verifiedCredentials) === null || _a === void 0 ? void 0 : _a.filter(({ walletProvider }) => walletProvider);\n    const hasEmbeddedWalletVerifiedCredential = Boolean(userWalletsCredentials === null || userWalletsCredentials === void 0 ? void 0 : userWalletsCredentials.find(({ walletProvider }) => walletProvider === 'embeddedWallet'));\n    const isTurnkeyPregen = isTurnkeyProviderEnabled &&\n        ((_c = (_b = projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.sdk) === null || _b === void 0 ? void 0 : _b.embeddedWallets) === null || _c === void 0 ? void 0 : _c.automaticEmbeddedWalletCreation) &&\n        (!(projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.sdk.embeddedWallets.forceAuthenticatorAtSignup) ||\n            isSessionKeyCompatible);\n    const shouldHaveTurnkeyWallet = isTurnkeyPregen &&\n        // if user doesn't have a branded wallet only\n        (!(userWalletsCredentials === null || userWalletsCredentials === void 0 ? void 0 : userWalletsCredentials.length) || hasEmbeddedWalletVerifiedCredential);\n    logger.logVerboseTroubleshootingMessage('useIsLoggedIn', {\n        authMode,\n        eoaWallet,\n        isSessionKeyCompatible,\n        isTurnkeyProviderEnabled,\n        primaryWallet,\n        projectSettings,\n        user,\n    });\n    // if turnkey is enabled we need to check if the user that is logged/connected\n    // has a primaryWallet to not show the widget without secure\n    if (shouldHaveTurnkeyWallet) {\n        return Boolean(primaryWallet && isLoggedIn);\n    }\n    return isLoggedIn;\n};\n\nexport { useIsLoggedIn };\n"],"names":[],"mappings":";;;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA,MAAM,gBAAgB;IAClB,IAAI,IAAI,IAAI;IACZ,MAAM,EAAE,IAAI,EAAE,aAAa,EAAE,QAAQ,EAAE,eAAe,EAAE,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IACnF,MAAM,EAAE,YAAY,EAAE,GAAG,CAAA,GAAA,kOAAA,CAAA,kBAAe,AAAD;IACvC,MAAM,YAAY,iBAAiB,aAAa;IAChD,MAAM,yBAAyB,AAAC,iBAAiB,CAAA,GAAA,6QAAA,CAAA,+BAA4B,AAAD,EAAE,kBACzE,aAAa,CAAA,GAAA,6QAAA,CAAA,+BAA4B,AAAD,EAAE;IAC/C,MAAM,2BAA2B,CAAA,GAAA,wOAAA,CAAA,mBAAgB,AAAD,EAAE;IAClD,0EAA0E;IAC1E,iDAAiD;IACjD,MAAM,aAAa,QAAQ,SAAU,aAAa,kBAAkB,QAAQ;IAC5E,MAAM,yBAAyB,CAAC,KAAK,SAAS,QAAQ,SAAS,KAAK,IAAI,KAAK,IAAI,KAAK,mBAAmB,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,MAAM,CAAC,CAAC,EAAE,cAAc,EAAE,GAAK;IAClL,MAAM,sCAAsC,QAAQ,2BAA2B,QAAQ,2BAA2B,KAAK,IAAI,KAAK,IAAI,uBAAuB,IAAI,CAAC,CAAC,EAAE,cAAc,EAAE,GAAK,mBAAmB;IAC3M,MAAM,kBAAkB,4BACpB,CAAC,CAAC,KAAK,CAAC,KAAK,oBAAoB,QAAQ,oBAAoB,KAAK,IAAI,KAAK,IAAI,gBAAgB,GAAG,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,eAAe,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,+BAA+B,KACpO,CAAC,CAAC,CAAC,oBAAoB,QAAQ,oBAAoB,KAAK,IAAI,KAAK,IAAI,gBAAgB,GAAG,CAAC,eAAe,CAAC,0BAA0B,KAC/H,sBAAsB;IAC9B,MAAM,0BAA0B,mBAC5B,6CAA6C;IAC7C,CAAC,CAAC,CAAC,2BAA2B,QAAQ,2BAA2B,KAAK,IAAI,KAAK,IAAI,uBAAuB,MAAM,KAAK,mCAAmC;IAC5J,8LAAA,CAAA,SAAM,CAAC,gCAAgC,CAAC,iBAAiB;QACrD;QACA;QACA;QACA;QACA;QACA;QACA;IACJ;IACA,8EAA8E;IAC9E,4DAA4D;IAC5D,IAAI,yBAAyB;QACzB,OAAO,QAAQ,iBAAiB;IACpC;IACA,OAAO;AACX","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 11334, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useMfa/useMfa.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useCallback } from 'react';\nimport { MFADeviceType, MfaBackupCodeAcknowledgement } from '@dynamic-labs/sdk-api-core';\nimport '@dynamic-labs/utils';\nimport '../../../config/ApiEndpoint.js';\nimport '../../constants/values.js';\nimport { USER_NOT_LOGGED_IN } from '../../constants/errors.js';\nimport '@dynamic-labs/multi-wallet';\nimport '../../../shared/logger.js';\nimport '../../constants/colors.js';\nimport 'react-international-phone';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../../shared/consts/index.js';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport { getEnvironmentId } from '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport { getUser } from '../../../store/state/user/user.js';\nimport { getUserMfaDevices, updateUserMfaDevice, deleteMfaDevice, addMfaDevice, authMfaDevice, authMfaRecovery, verifyMfaDevice, createNewRecoveryCodes, getRecoveryCodes } from '../../../data/api/mfa/mfa.js';\nimport '../../../locale/locale.js';\nimport { refreshUserJwt } from '../../../data/api/user/user.js';\nimport { useUserAuth } from '../useUserAuth/useUserAuth.js';\nimport { dynamicEvents } from '../../../events/dynamicEvents.js';\nimport { useUserUpdateRequestInternal } from '../useUserUpdateRequest/useUserUpdateRequest.js';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport '../../../context/WalletContext/WalletContext.js';\nimport 'formik';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\n\nconst useMfa = () => {\n    const { completeAuth } = useUserAuth({});\n    const checkUserIsVerifiedAndGetEnvironmentId = useCallback(() => {\n        const verifiedUser = getUser();\n        if (!verifiedUser) {\n            throw new Error(USER_NOT_LOGGED_IN);\n        }\n        const environmentId = getEnvironmentId();\n        return environmentId;\n    }, []);\n    const getUserDevices = useCallback(() => __awaiter(void 0, void 0, void 0, function* () {\n        const environmentId = checkUserIsVerifiedAndGetEnvironmentId();\n        const devices = yield getUserMfaDevices({ environmentId });\n        return devices;\n    }), [checkUserIsVerifiedAndGetEnvironmentId]);\n    const updateUserDevice = useCallback((deviceId) => __awaiter(void 0, void 0, void 0, function* () {\n        const environmentId = checkUserIsVerifiedAndGetEnvironmentId();\n        yield updateUserMfaDevice({\n            environmentId,\n            mfaDeviceId: deviceId,\n        });\n    }), [checkUserIsVerifiedAndGetEnvironmentId]);\n    const deleteUserDevice = useCallback((deviceId, mfaAuthToken) => __awaiter(void 0, void 0, void 0, function* () {\n        const environmentId = checkUserIsVerifiedAndGetEnvironmentId();\n        yield deleteMfaDevice({\n            environmentId,\n            mfaAuthToken,\n            mfaDeviceId: deviceId,\n        });\n        // Refresh the user JWT to get the updated MFA acknowledgement\n        // since if it is completed we won't show the QR code again\n        yield refreshUserJwt({ environmentId });\n    }), [checkUserIsVerifiedAndGetEnvironmentId]);\n    const addDevice = useCallback((...args_1) => __awaiter(void 0, [...args_1], void 0, function* (type = MFADeviceType.Totp) {\n        const environmentId = checkUserIsVerifiedAndGetEnvironmentId();\n        const { id, secret, uri } = yield addMfaDevice({\n            environmentId,\n            type,\n        });\n        return { id, secret, uri };\n    }), [checkUserIsVerifiedAndGetEnvironmentId]);\n    const authDevice = useCallback((code_1, ...args_2) => __awaiter(void 0, [code_1, ...args_2], void 0, function* (code, type = MFADeviceType.Totp, deviceId) {\n        try {\n            const environmentId = checkUserIsVerifiedAndGetEnvironmentId();\n            let isValid = false;\n            yield completeAuth({\n                onValidUpdatedJwt: () => __awaiter(void 0, void 0, void 0, function* () {\n                    isValid = true;\n                }),\n                updateJwtFunction: () => __awaiter(void 0, void 0, void 0, function* () {\n                    const response = yield authMfaDevice({\n                        code,\n                        createMfaToken: {\n                            singleUse: true,\n                        },\n                        deviceId,\n                        environmentId,\n                        type,\n                    });\n                    dynamicEvents.emit('mfaCompletionSuccess', {\n                        mfaToken: response.mfaToken,\n                    });\n                    return {\n                        isEmailVerificationRequired: false,\n                        isSmsVerificationRequired: false,\n                        missingFields: [],\n                        // in the mfa flow, we only care about the user in the response\n                        updateUserProfileResponse: response,\n                    };\n                }),\n            });\n            return isValid;\n        }\n        catch (error) {\n            dynamicEvents.emit('mfaCompletionFailure', { error });\n            throw error;\n        }\n    }), [checkUserIsVerifiedAndGetEnvironmentId, completeAuth]);\n    const authRecoveryCode = useCallback((code) => __awaiter(void 0, void 0, void 0, function* () {\n        const environmentId = checkUserIsVerifiedAndGetEnvironmentId();\n        let isValid = false;\n        yield completeAuth({\n            onValidUpdatedJwt: () => __awaiter(void 0, void 0, void 0, function* () {\n                isValid = true;\n            }),\n            updateJwtFunction: () => __awaiter(void 0, void 0, void 0, function* () {\n                const response = yield authMfaRecovery({\n                    code,\n                    environmentId,\n                });\n                if (!response) {\n                    throw new Error('Failed to authenticate recovey code');\n                }\n                return {\n                    isEmailVerificationRequired: false,\n                    isSmsVerificationRequired: false,\n                    missingFields: [],\n                    // in the mfa flow, we only care about the user in the response\n                    updateUserProfileResponse: response,\n                };\n            }),\n        });\n        return isValid;\n    }), [checkUserIsVerifiedAndGetEnvironmentId, completeAuth]);\n    const verifyDevice = useCallback((code_2, ...args_3) => __awaiter(void 0, [code_2, ...args_3], void 0, function* (code, type = MFADeviceType.Totp) {\n        const environmentId = checkUserIsVerifiedAndGetEnvironmentId();\n        const device = yield verifyMfaDevice({\n            code,\n            environmentId,\n            type,\n        });\n        if (!device) {\n            throw new Error('Failed to verify device');\n        }\n        return device;\n    }), [checkUserIsVerifiedAndGetEnvironmentId]);\n    const getRecoveryCodes$1 = useCallback((...args_4) => __awaiter(void 0, [...args_4], void 0, function* (generateNewCodes = false) {\n        const environmentId = checkUserIsVerifiedAndGetEnvironmentId();\n        const getRecoveryCodesFunc = generateNewCodes\n            ? createNewRecoveryCodes\n            : getRecoveryCodes;\n        const recoveryCodes = yield getRecoveryCodesFunc({\n            environmentId,\n        });\n        if (!recoveryCodes) {\n            throw new Error('Recovery codes not found');\n        }\n        return recoveryCodes;\n    }), [checkUserIsVerifiedAndGetEnvironmentId]);\n    const { updateUser } = useUserUpdateRequestInternal({\n        validationSchemaStripUnknown: false,\n    });\n    const completeAcknowledgement = useCallback(() => __awaiter(void 0, void 0, void 0, function* () {\n        yield updateUser({\n            mfaBackupCodeAcknowledgement: MfaBackupCodeAcknowledgement.Complete,\n        });\n    }), [updateUser]);\n    return {\n        addDevice,\n        authDevice,\n        authRecoveryCode,\n        completeAcknowledgement,\n        deleteUserDevice,\n        getRecoveryCodes: getRecoveryCodes$1,\n        getUserDevices,\n        updateUserDevice,\n        verifyDevice,\n    };\n};\n\nexport { useMfa };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 11776, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useNetworkNotSupported/useNetworkNotSupported.js"],"sourcesContent":["'use client'\nimport 'react';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../../../_virtual/_tslib.js';\nimport { useConnectAndSign } from '../authenticationHooks/useConnectAndSign/useConnectAndSign.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../config/ApiEndpoint.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport { isSupportedNetwork } from '../../functions/isSupportedNetwork/isSupportedNetwork.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport { useWalletConnectorNetwork } from '../useWalletConnectorNetwork/useWalletConnectorNetwork.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useNetworkNotSupported = () => {\n    const { selectedWalletConnector: walletConnector, setShowAuthFlow, bridgeChainsToConnect, bridgeOnboardingCompleted, isBridgeFlow, user, authMode, } = useInternalDynamicContext();\n    const finishConnectAndSign = useConnectAndSign({\n        shouldCallCallback: false,\n        shouldUpdateWallets: Boolean(bridgeChainsToConnect === null || bridgeChainsToConnect === void 0 ? void 0 : bridgeChainsToConnect.length),\n    });\n    const { network: walletConnectorNetwork } = useWalletConnectorNetwork(walletConnector, {\n        onChange: (walletConnectorNetwork) => {\n            if (!walletConnector ||\n                !isSupportedNetwork({\n                    network: walletConnectorNetwork,\n                    walletConnector,\n                })) {\n                return;\n            }\n            finishConnectAndSign({\n                walletConnector,\n            }).then(() => {\n                // if user still has to do onboarding, we should not hide the auth flow\n                if (!user && authMode === 'connect-and-sign') {\n                    return;\n                }\n                // we're checking for bridgeChainsToConnect because in some scenarios,\n                // bridgeOnboardingCompleted might have not been set yet\n                if (!isBridgeFlow ||\n                    bridgeOnboardingCompleted ||\n                    !(bridgeChainsToConnect === null || bridgeChainsToConnect === void 0 ? void 0 : bridgeChainsToConnect.length)) {\n                    setShowAuthFlow(false);\n                }\n            });\n        },\n    });\n    return { currentNetwork: walletConnectorNetwork };\n};\n\nexport { useNetworkNotSupported };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA,MAAM,yBAAyB;IAC3B,MAAM,EAAE,yBAAyB,eAAe,EAAE,eAAe,EAAE,qBAAqB,EAAE,yBAAyB,EAAE,YAAY,EAAE,IAAI,EAAE,QAAQ,EAAG,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IAC/K,MAAM,uBAAuB,CAAA,GAAA,6PAAA,CAAA,oBAAiB,AAAD,EAAE;QAC3C,oBAAoB;QACpB,qBAAqB,QAAQ,0BAA0B,QAAQ,0BAA0B,KAAK,IAAI,KAAK,IAAI,sBAAsB,MAAM;IAC3I;IACA,MAAM,EAAE,SAAS,sBAAsB,EAAE,GAAG,CAAA,GAAA,sPAAA,CAAA,4BAAyB,AAAD,EAAE,iBAAiB;QACnF,QAAQ;gEAAE,CAAC;gBACP,IAAI,CAAC,mBACD,CAAC,CAAA,GAAA,4OAAA,CAAA,qBAAkB,AAAD,EAAE;oBAChB,SAAS;oBACT;gBACJ,IAAI;oBACJ;gBACJ;gBACA,qBAAqB;oBACjB;gBACJ,GAAG,IAAI;wEAAC;wBACJ,uEAAuE;wBACvE,IAAI,CAAC,QAAQ,aAAa,oBAAoB;4BAC1C;wBACJ;wBACA,sEAAsE;wBACtE,wDAAwD;wBACxD,IAAI,CAAC,gBACD,6BACA,CAAC,CAAC,0BAA0B,QAAQ,0BAA0B,KAAK,IAAI,KAAK,IAAI,sBAAsB,MAAM,GAAG;4BAC/G,gBAAgB;wBACpB;oBACJ;;YACJ;;IACJ;IACA,OAAO;QAAE,gBAAgB;IAAuB;AACpD","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 12011, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useTransferWallet/useTransferWallet.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useCallback } from 'react';\nimport { DynamicError } from '@dynamic-labs/utils';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport { USER_NOT_LOGGED_IN } from '../../constants/errors.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport { getVerifyArgs } from '../../functions/getVerifyArgs/getVerifyArgs.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport { updatePrimaryWalletId } from '../../functions/updatePrimaryWalletId/updatePrimaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport { useInternalUserWallets } from '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport { transferWallet } from '../../../data/api/wallets/wallets.js';\nimport { getWalletProvider } from '../../functions/getWalletProvider/getWalletProvider.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport '../../../store/state/nonce/nonce.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useTransferWallet = () => {\n    const { displaySiweStatement, environmentId, user, primaryWallet } = useInternalDynamicContext();\n    const { addedWalletsIds } = useInternalUserWallets();\n    const updatePrimaryWallet = useCallback((walletConnector, user) => {\n        const newWalletKey = walletConnector.key;\n        if (user.lastVerifiedCredentialId) {\n            if (!primaryWallet) {\n                updatePrimaryWalletId(user.lastVerifiedCredentialId);\n                return;\n            }\n            const currentPrimaryWalletKey = primaryWallet.connector.key;\n            if (newWalletKey === currentPrimaryWalletKey) {\n                updatePrimaryWalletId(user.lastVerifiedCredentialId);\n            }\n            // if both wallets are flow wallets, set the last verified wallet as primary\n            // this is a limitation of flow as all wallets use the same flow connector\n            if (primaryWallet.connector.connectedChain === 'FLOW' &&\n                walletConnector.connectedChain === 'FLOW') {\n                updatePrimaryWalletId(user.lastVerifiedCredentialId);\n            }\n        }\n    }, [primaryWallet]);\n    return useCallback((props) => __awaiter(void 0, void 0, void 0, function* () {\n        if (!user)\n            throw new DynamicError(USER_NOT_LOGGED_IN);\n        const { overrideSiweStatement, walletConnector } = props;\n        const args = Object.assign(Object.assign({}, props), { displaySiweStatement,\n            environmentId, siweStatement: overrideSiweStatement, walletProvider: getWalletProvider(walletConnector) });\n        const verifyArgs = yield getVerifyArgs(args);\n        const userProfile = yield transferWallet(environmentId, verifyArgs);\n        if (!userProfile) {\n            throw new DynamicError('Error transferring wallet.');\n        }\n        updatePrimaryWallet(walletConnector, userProfile);\n        const walletId = userProfile.lastVerifiedCredentialId;\n        if (walletId) {\n            addedWalletsIds.current.push(walletId);\n        }\n    }), [\n        addedWalletsIds,\n        displaySiweStatement,\n        environmentId,\n        updatePrimaryWallet,\n        user,\n    ]);\n};\n\nexport { useTransferWallet };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 12270, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/multiWallet/useVerifyOnAwaitingSignature/useVerifyOnAwaitingSignature.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../../_virtual/_tslib.js';\nimport { useRef, useCallback, useEffect } from 'react';\nimport '../../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport { logger } from '../../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../../constants/colors.js';\nimport '../../../constants/values.js';\nimport '../../../../shared/consts/index.js';\nimport { useInternalDynamicEvents } from '../../events/useDynamicEvents/useDynamicEvents.js';\nimport { useConnectAndSign } from '../../authenticationHooks/useConnectAndSign/useConnectAndSign.js';\nimport '../../../../context/ErrorContext/ErrorContext.js';\nimport '../../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../../config/ApiEndpoint.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../../store/state/nonce/nonce.js';\nimport { requiresTwoStepAuthentication } from '../../../functions/requiresTwoStepAuthentication/requiresTwoStepAuthentication.js';\nimport '../../../../store/state/projectSettings/projectSettings.js';\nimport '../../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../../store/state/user/user.js';\nimport '../../../../locale/locale.js';\nimport '../../../../events/dynamicEvents.js';\nimport '../../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../../functions/compareChains/compareChains.js';\nimport '../../../../context/ThemeContext/ThemeContext.js';\nimport '../../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../../context/LoadingContext/LoadingContext.js';\nimport '../../../../context/WalletContext/WalletContext.js';\nimport '../../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../../context/MockContext/MockContext.js';\nimport '../../../../views/CollectUserDataView/useFields.js';\nimport '../../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../../store/state/loadingAndLifecycle.js';\nimport '../../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../../components/Alert/Alert.js';\nimport '../../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../../components/IconButton/IconButton.js';\nimport '../../../../components/InlineWidget/InlineWidget.js';\nimport '../../../../components/Input/Input.js';\nimport '../../../../components/IsBrowser/IsBrowser.js';\nimport '../../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../../components/OverlayCard/OverlayCard.js';\nimport '../../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../../components/Popper/Popper/Popper.js';\nimport '../../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../../context/FooterAnimationContext/index.js';\nimport '../../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../../store/state/sendBalances.js';\nimport '../../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../../context/OnrampContext/OnrampContext.js';\nimport '../../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../../index.js';\nimport '../../../../store/state/tokenBalances.js';\nimport '../../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useVerifyOnAwaitingSignature = () => {\n    const { awaitingSignatureState, multiWalletWidgetState, setMultiWalletWidgetState, legacyIsVerifying, setLegacyIsVerifying, selectedWalletConnector, } = useInternalDynamicContext();\n    const triggerConnectAndSign = useConnectAndSign();\n    // this is to prevent calling runConnectAndSign multiple times\n    // due to changes in legacyIsVerifying\n    const isVerifying = useRef(false);\n    const runConnectAndSign = useCallback((walletConnector) => __awaiter(void 0, void 0, void 0, function* () {\n        logger.debug('runConnectAndSign', {\n            selectedWalletConnector,\n            walletConnector,\n        });\n        const connector = walletConnector !== null && walletConnector !== void 0 ? walletConnector : selectedWalletConnector;\n        if (!connector) {\n            return;\n        }\n        isVerifying.current = true;\n        setLegacyIsVerifying(true);\n        try {\n            yield triggerConnectAndSign({\n                walletConnector: connector,\n            });\n        }\n        catch (e) {\n            logger.error(e);\n        }\n        setMultiWalletWidgetState('idle');\n        setLegacyIsVerifying(false);\n        isVerifying.current = false;\n    }), [\n        selectedWalletConnector === null || selectedWalletConnector === void 0 ? void 0 : selectedWalletConnector.key,\n        setLegacyIsVerifying,\n        setMultiWalletWidgetState,\n        triggerConnectAndSign,\n    ]);\n    // This is the effect that triggers the connect and sign flow\n    // when the multi wallet widget is in the awaiting_signature state\n    // with linking_new_wallet signature sub state.\n    // This is a very, very bad pattern and should be refactored if possible,\n    // though that would be a lot of work and this works for now.\n    useEffect(() => {\n        if (!legacyIsVerifying &&\n            !isVerifying.current &&\n            multiWalletWidgetState === 'awaiting_signature' &&\n            selectedWalletConnector &&\n            awaitingSignatureState === 'linking_new_wallet' &&\n            !requiresTwoStepAuthentication(selectedWalletConnector)) {\n            runConnectAndSign();\n        }\n    }, [\n        runConnectAndSign,\n        awaitingSignatureState,\n        legacyIsVerifying,\n        multiWalletWidgetState,\n        selectedWalletConnector === null || selectedWalletConnector === void 0 ? void 0 : selectedWalletConnector.key,\n        setLegacyIsVerifying,\n        setMultiWalletWidgetState,\n    ]);\n    useInternalDynamicEvents('triggerConnectAndSign', runConnectAndSign);\n};\n\nexport { useVerifyOnAwaitingSignature };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA,MAAM,+BAA+B;IACjC,MAAM,EAAE,sBAAsB,EAAE,sBAAsB,EAAE,yBAAyB,EAAE,iBAAiB,EAAE,oBAAoB,EAAE,uBAAuB,EAAG,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IACjL,MAAM,wBAAwB,CAAA,GAAA,6PAAA,CAAA,oBAAiB,AAAD;IAC9C,8DAA8D;IAC9D,sCAAsC;IACtC,MAAM,cAAc,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IAC3B,MAAM,oBAAoB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;uEAAE,CAAC,kBAAoB,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK;+EAAG;oBACzF,8LAAA,CAAA,SAAM,CAAC,KAAK,CAAC,qBAAqB;wBAC9B;wBACA;oBACJ;oBACA,MAAM,YAAY,oBAAoB,QAAQ,oBAAoB,KAAK,IAAI,kBAAkB;oBAC7F,IAAI,CAAC,WAAW;wBACZ;oBACJ;oBACA,YAAY,OAAO,GAAG;oBACtB,qBAAqB;oBACrB,IAAI;wBACA,MAAM,sBAAsB;4BACxB,iBAAiB;wBACrB;oBACJ,EACA,OAAO,GAAG;wBACN,8LAAA,CAAA,SAAM,CAAC,KAAK,CAAC;oBACjB;oBACA,0BAA0B;oBAC1B,qBAAqB;oBACrB,YAAY,OAAO,GAAG;gBAC1B;;sEAAI;QACA,4BAA4B,QAAQ,4BAA4B,KAAK,IAAI,KAAK,IAAI,wBAAwB,GAAG;QAC7G;QACA;QACA;KACH;IACD,6DAA6D;IAC7D,kEAAkE;IAClE,+CAA+C;IAC/C,yEAAyE;IACzE,6DAA6D;IAC7D,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kDAAE;YACN,IAAI,CAAC,qBACD,CAAC,YAAY,OAAO,IACpB,2BAA2B,wBAC3B,2BACA,2BAA2B,wBAC3B,CAAC,CAAA,GAAA,kQAAA,CAAA,gCAA6B,AAAD,EAAE,0BAA0B;gBACzD;YACJ;QACJ;iDAAG;QACC;QACA;QACA;QACA;QACA,4BAA4B,QAAQ,4BAA4B,KAAK,IAAI,KAAK,IAAI,wBAAwB,GAAG;QAC7G;QACA;KACH;IACD,CAAA,GAAA,8OAAA,CAAA,2BAAwB,AAAD,EAAE,yBAAyB;AACtD","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 12527, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/multiWallet/useMultiWalletWidgetState/substates/useAwaitingAccountSwitch.js"],"sourcesContent":["'use client'\nimport { useState, useCallback } from 'react';\n\nconst validTransitions = {\n    idle: ['linking_new_wallet', 'primary_not_connected', 'switching_primary'],\n    linking_new_wallet: ['idle'],\n    primary_not_connected: ['idle'],\n    switching_primary: ['idle'],\n};\nconst validateStateTransition = ({ from, to, }) => {\n    if (from !== to && !validTransitions[from].includes(to)) {\n        throw new Error(`Invalid AccountSwitch state transition from ${from} to ${to}`);\n    }\n    return true;\n};\nconst validateMultiWalletWidgetState = (multiWalletWidgetState) => {\n    if (multiWalletWidgetState !== 'awaiting_account_switch') {\n        throw new Error(`Invalid MultiWalletWidget state while trying to set AccountSwitch state: ${multiWalletWidgetState}` +\n            '\\nExpected: awaiting_account_switch');\n    }\n};\nconst useAwaitingAccountSwitch = () => {\n    const [accountSwitchState, setInternalAccountSwitchState] = useState('idle');\n    const resetState = useCallback(() => {\n        setInternalAccountSwitchState('idle');\n    }, [setInternalAccountSwitchState]);\n    const setAccountSwitchState = useCallback((newAccountSwitchState, widgetState) => {\n        validateMultiWalletWidgetState(widgetState);\n        validateStateTransition({\n            from: accountSwitchState,\n            to: newAccountSwitchState,\n        });\n        setInternalAccountSwitchState(newAccountSwitchState);\n    }, [accountSwitchState]);\n    return [accountSwitchState, setAccountSwitchState, resetState];\n};\n\nexport { useAwaitingAccountSwitch };\n"],"names":[],"mappings":";;;AACA;AADA;;AAGA,MAAM,mBAAmB;IACrB,MAAM;QAAC;QAAsB;QAAyB;KAAoB;IAC1E,oBAAoB;QAAC;KAAO;IAC5B,uBAAuB;QAAC;KAAO;IAC/B,mBAAmB;QAAC;KAAO;AAC/B;AACA,MAAM,0BAA0B,CAAC,EAAE,IAAI,EAAE,EAAE,EAAG;IAC1C,IAAI,SAAS,MAAM,CAAC,gBAAgB,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK;QACrD,MAAM,IAAI,MAAM,CAAC,4CAA4C,EAAE,KAAK,IAAI,EAAE,IAAI;IAClF;IACA,OAAO;AACX;AACA,MAAM,iCAAiC,CAAC;IACpC,IAAI,2BAA2B,2BAA2B;QACtD,MAAM,IAAI,MAAM,CAAC,yEAAyE,EAAE,wBAAwB,GAChH;IACR;AACJ;AACA,MAAM,2BAA2B;IAC7B,MAAM,CAAC,oBAAoB,8BAA8B,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACrE,MAAM,aAAa,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;4DAAE;YAC3B,8BAA8B;QAClC;2DAAG;QAAC;KAA8B;IAClC,MAAM,wBAAwB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;uEAAE,CAAC,uBAAuB;YAC9D,+BAA+B;YAC/B,wBAAwB;gBACpB,MAAM;gBACN,IAAI;YACR;YACA,8BAA8B;QAClC;sEAAG;QAAC;KAAmB;IACvB,OAAO;QAAC;QAAoB;QAAuB;KAAW;AAClE","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 12594, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/multiWallet/useMultiWalletWidgetState/substates/useAwaitingSignature.js"],"sourcesContent":["'use client'\nimport { useState, useCallback } from 'react';\n\nconst validTransitions = {\n    idle: ['linking_new_wallet', 'transferring_wallet'],\n    linking_new_wallet: ['idle'],\n    transferring_wallet: ['idle'],\n};\nconst validateStateTransition = ({ from, to, }) => {\n    if (from !== to && !validTransitions[from].includes(to)) {\n        throw new Error(`Invalid AwaitingSignature state transition from ${from} to ${to}`);\n    }\n    return true;\n};\nconst validateMultiWalletWidgetState = (multiWalletWidgetState) => {\n    if (multiWalletWidgetState !== 'awaiting_signature') {\n        throw new Error(`Invalid MultiWalletWidget state while trying to set AwaitingSignature state: ${multiWalletWidgetState}` +\n            '\\nExpected: awaiting_signature');\n    }\n};\nconst useAwaitingSignature = () => {\n    const [awaitingSignatureState, setInternalAwaitingSignatureState] = useState('idle');\n    const resetState = useCallback(() => {\n        setInternalAwaitingSignatureState('idle');\n    }, [setInternalAwaitingSignatureState]);\n    const setAwaitingSignatureState = useCallback((newAwaitingSignatureState, widgetState) => {\n        validateMultiWalletWidgetState(widgetState);\n        validateStateTransition({\n            from: awaitingSignatureState,\n            to: newAwaitingSignatureState,\n        });\n        setInternalAwaitingSignatureState(newAwaitingSignatureState);\n    }, [awaitingSignatureState]);\n    return [\n        awaitingSignatureState,\n        setAwaitingSignatureState,\n        resetState,\n    ];\n};\n\nexport { useAwaitingSignature };\n"],"names":[],"mappings":";;;AACA;AADA;;AAGA,MAAM,mBAAmB;IACrB,MAAM;QAAC;QAAsB;KAAsB;IACnD,oBAAoB;QAAC;KAAO;IAC5B,qBAAqB;QAAC;KAAO;AACjC;AACA,MAAM,0BAA0B,CAAC,EAAE,IAAI,EAAE,EAAE,EAAG;IAC1C,IAAI,SAAS,MAAM,CAAC,gBAAgB,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK;QACrD,MAAM,IAAI,MAAM,CAAC,gDAAgD,EAAE,KAAK,IAAI,EAAE,IAAI;IACtF;IACA,OAAO;AACX;AACA,MAAM,iCAAiC,CAAC;IACpC,IAAI,2BAA2B,sBAAsB;QACjD,MAAM,IAAI,MAAM,CAAC,6EAA6E,EAAE,wBAAwB,GACpH;IACR;AACJ;AACA,MAAM,uBAAuB;IACzB,MAAM,CAAC,wBAAwB,kCAAkC,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7E,MAAM,aAAa,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;wDAAE;YAC3B,kCAAkC;QACtC;uDAAG;QAAC;KAAkC;IACtC,MAAM,4BAA4B,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;uEAAE,CAAC,2BAA2B;YACtE,+BAA+B;YAC/B,wBAAwB;gBACpB,MAAM;gBACN,IAAI;YACR;YACA,kCAAkC;QACtC;sEAAG;QAAC;KAAuB;IAC3B,OAAO;QACH;QACA;QACA;KACH;AACL","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 12657, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/multiWallet/useMultiWalletWidgetState/useMultiWalletWidgetState.js"],"sourcesContent":["'use client'\nimport { useState, useCallback } from 'react';\nimport { useAwaitingAccountSwitch } from './substates/useAwaitingAccountSwitch.js';\nimport { useAwaitingSignature } from './substates/useAwaitingSignature.js';\n\nconst validTransitions = {\n    awaiting_account_switch: ['awaiting_signature', 'idle'],\n    awaiting_connection: ['idle'],\n    awaiting_signature: ['idle'],\n    detected_new_wallet: ['awaiting_signature', 'idle'],\n    idle: [\n        'awaiting_account_switch',\n        'awaiting_connection',\n        'awaiting_signature',\n        'detected_new_wallet',\n    ],\n};\nconst validateStateTransition = ({ from, to, }) => {\n    if (from !== to && !validTransitions[from].includes(to)) {\n        throw new Error(`Invalid MultiWalletWidget state transition from ${from} to ${to}`);\n    }\n    return true;\n};\nconst useMultiWalletWidgetState = () => {\n    const [multiWalletWidgetState, setCoreMultiWalletWidgetState] = useState('idle');\n    const [accountSwitchState, setAccountSwitchState, resetAccountSwitchState] = useAwaitingAccountSwitch();\n    const [awaitingSignatureState, setAwaitingSignatureState, resetAwaitingSignatureState,] = useAwaitingSignature();\n    const resetSubStates = useCallback(() => {\n        resetAccountSwitchState();\n        resetAwaitingSignatureState();\n    }, [resetAccountSwitchState, resetAwaitingSignatureState]);\n    const setMultiWalletWidgetState = useCallback((newWidgetState, newAccountSwitchState, newAwaitingSignatureState) => {\n        validateStateTransition({\n            from: multiWalletWidgetState,\n            to: newWidgetState,\n        });\n        setCoreMultiWalletWidgetState(newWidgetState);\n        resetSubStates();\n        if (newAccountSwitchState) {\n            setAccountSwitchState(newAccountSwitchState, newWidgetState);\n        }\n        if (newAwaitingSignatureState) {\n            setAwaitingSignatureState(newAwaitingSignatureState, newWidgetState);\n        }\n    }, [\n        multiWalletWidgetState,\n        resetSubStates,\n        setAccountSwitchState,\n        setAwaitingSignatureState,\n    ]);\n    return [\n        multiWalletWidgetState,\n        setMultiWalletWidgetState,\n        {\n            awaiting_account_switch: [accountSwitchState, setAccountSwitchState],\n            awaiting_signature: [awaitingSignatureState, setAwaitingSignatureState],\n        },\n    ];\n};\n\nexport { useMultiWalletWidgetState };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AAHA;;;;AAKA,MAAM,mBAAmB;IACrB,yBAAyB;QAAC;QAAsB;KAAO;IACvD,qBAAqB;QAAC;KAAO;IAC7B,oBAAoB;QAAC;KAAO;IAC5B,qBAAqB;QAAC;QAAsB;KAAO;IACnD,MAAM;QACF;QACA;QACA;QACA;KACH;AACL;AACA,MAAM,0BAA0B,CAAC,EAAE,IAAI,EAAE,EAAE,EAAG;IAC1C,IAAI,SAAS,MAAM,CAAC,gBAAgB,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAK;QACrD,MAAM,IAAI,MAAM,CAAC,gDAAgD,EAAE,KAAK,IAAI,EAAE,IAAI;IACtF;IACA,OAAO;AACX;AACA,MAAM,4BAA4B;IAC9B,MAAM,CAAC,wBAAwB,8BAA8B,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzE,MAAM,CAAC,oBAAoB,uBAAuB,wBAAwB,GAAG,CAAA,GAAA,iRAAA,CAAA,2BAAwB,AAAD;IACpG,MAAM,CAAC,wBAAwB,2BAA2B,4BAA6B,GAAG,CAAA,GAAA,6QAAA,CAAA,uBAAoB,AAAD;IAC7G,MAAM,iBAAiB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;iEAAE;YAC/B;YACA;QACJ;gEAAG;QAAC;QAAyB;KAA4B;IACzD,MAAM,4BAA4B,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;4EAAE,CAAC,gBAAgB,uBAAuB;YAClF,wBAAwB;gBACpB,MAAM;gBACN,IAAI;YACR;YACA,8BAA8B;YAC9B;YACA,IAAI,uBAAuB;gBACvB,sBAAsB,uBAAuB;YACjD;YACA,IAAI,2BAA2B;gBAC3B,0BAA0B,2BAA2B;YACzD;QACJ;2EAAG;QACC;QACA;QACA;QACA;KACH;IACD,OAAO;QACH;QACA;QACA;YACI,yBAAyB;gBAAC;gBAAoB;aAAsB;YACpE,oBAAoB;gBAAC;gBAAwB;aAA0B;QAC3E;KACH;AACL","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 12751, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useSetWalletConnectorVerifiedCredentials/useSetWalletConnectorVerifiedCredentials.js"],"sourcesContent":["'use client'\nconst useSetWalletConnectorVerifiedCredentials = (user, walletOptions) => {\n    if (!user || !(walletOptions === null || walletOptions === void 0 ? void 0 : walletOptions.length))\n        return;\n    walletOptions.forEach((walletOption) => {\n        walletOption.walletConnector.setVerifiedCredentials(user.verifiedCredentials);\n    });\n};\n\nexport { useSetWalletConnectorVerifiedCredentials };\n"],"names":[],"mappings":";;;AAAA;AACA,MAAM,2CAA2C,CAAC,MAAM;IACpD,IAAI,CAAC,QAAQ,CAAC,CAAC,kBAAkB,QAAQ,kBAAkB,KAAK,IAAI,KAAK,IAAI,cAAc,MAAM,GAC7F;IACJ,cAAc,OAAO,CAAC,CAAC;QACnB,aAAa,eAAe,CAAC,sBAAsB,CAAC,KAAK,mBAAmB;IAChF;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 12768, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useValidateSession/handleStoreAndEnvironmentMismatch/handleStoreAndEnvironmentMismatch.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../../_virtual/_tslib.js';\nimport { getEnvironmentId, setEnvironmentId } from '../../../../store/state/dynamicContextProps/dynamicContextProps.js';\n\n/**\n * Detects envId mismtach with store.\n * @returns true if there is no mismatch.\n */\nconst handleStoreAndEnvironmentMismatch = (_a) => __awaiter(void 0, [_a], void 0, function* ({ environmentId, logout, }) {\n    const storeEnvId = getEnvironmentId();\n    if (!storeEnvId || environmentId === storeEnvId) {\n        return true;\n    }\n    yield logout('store and environment are out of sync', {\n        currentEnvId: environmentId,\n        storedEnvId: storeEnvId,\n    });\n    setEnvironmentId(environmentId);\n    return false;\n});\n\nexport { handleStoreAndEnvironmentMismatch };\n"],"names":[],"mappings":";;;AACA;AACA;AAFA;;;AAIA;;;CAGC,GACD,MAAM,oCAAoC,CAAC,KAAO,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG;QAAC;KAAG,EAAE,KAAK,GAAG,UAAW,EAAE,aAAa,EAAE,MAAM,EAAG;QACnH,MAAM,aAAa,CAAA,GAAA,0OAAA,CAAA,mBAAgB,AAAD;QAClC,IAAI,CAAC,cAAc,kBAAkB,YAAY;YAC7C,OAAO;QACX;QACA,MAAM,OAAO,yCAAyC;YAClD,cAAc;YACd,aAAa;QACjB;QACA,CAAA,GAAA,0OAAA,CAAA,mBAAgB,AAAD,EAAE;QACjB,OAAO;IACX","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 12800, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useValidateSession/handleUserDataOutOfSync/handleUserDataOutOfSync.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../../_virtual/_tslib.js';\nimport { CookieInvalidError } from '@dynamic-labs/utils';\nimport { getAuthenticatedUser } from '../../../../data/api/user/user.js';\nimport { getUser } from '../../../../store/state/user/user.js';\nimport '../../../constants/values.js';\nimport { isCookieEnabled } from '../../../functions/isCookieEnabled/isCookieEnabled.js';\nimport '../../../../store/state/projectSettings/projectSettings.js';\nimport { getAuthToken } from '../../../functions/getAuthToken/getAuthToken.js';\n\n/**\n * Detects mismatch between user and auth token.\n * @returns true if there is no mismatch.\n */\nconst handleUserDataOutOfSync = (_a) => __awaiter(void 0, [_a], void 0, function* ({ environmentId, logout, projectSettings, }) {\n    const cookieEnabled = isCookieEnabled(projectSettings);\n    const authToken = getAuthToken();\n    const user = getUser();\n    if (authToken || !user) {\n        return true;\n    }\n    if (user && !authToken && cookieEnabled) {\n        try {\n            yield getAuthenticatedUser({ environmentId });\n        }\n        catch (e) {\n            if (e instanceof CookieInvalidError) {\n                yield logout('user auth cookie invalid', {\n                    authToken,\n                    user,\n                });\n                return false;\n            }\n        }\n        return true;\n    }\n    yield logout('user data out of sync', {\n        authToken,\n        user,\n    });\n    return false;\n});\n\nexport { handleUserDataOutOfSync };\n"],"names":[],"mappings":";;;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;AAUA;;;CAGC,GACD,MAAM,0BAA0B,CAAC,KAAO,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG;QAAC;KAAG,EAAE,KAAK,GAAG,UAAW,EAAE,aAAa,EAAE,MAAM,EAAE,eAAe,EAAG;QAC1H,MAAM,gBAAgB,CAAA,GAAA,sOAAA,CAAA,kBAAe,AAAD,EAAE;QACtC,MAAM,YAAY,CAAA,GAAA,gOAAA,CAAA,eAAY,AAAD;QAC7B,MAAM,OAAO,CAAA,GAAA,4MAAA,CAAA,UAAO,AAAD;QACnB,IAAI,aAAa,CAAC,MAAM;YACpB,OAAO;QACX;QACA,IAAI,QAAQ,CAAC,aAAa,eAAe;YACrC,IAAI;gBACA,MAAM,CAAA,GAAA,yMAAA,CAAA,uBAAoB,AAAD,EAAE;oBAAE;gBAAc;YAC/C,EACA,OAAO,GAAG;gBACN,IAAI,aAAa,oLAAA,CAAA,qBAAkB,EAAE;oBACjC,MAAM,OAAO,4BAA4B;wBACrC;wBACA;oBACJ;oBACA,OAAO;gBACX;YACJ;YACA,OAAO;QACX;QACA,MAAM,OAAO,yBAAyB;YAClC;YACA;QACJ;QACA,OAAO;IACX","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 12862, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useValidateSession/useValidateSession.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useRef, useCallback, useEffect } from 'react';\nimport { logger } from '../../../shared/logger.js';\nimport { setLoadingAndLifecycle } from '../../../store/state/loadingAndLifecycle.js';\nimport { useInternalDynamicEvents } from '../events/useDynamicEvents/useDynamicEvents.js';\nimport { useProjectSettings } from '../../../store/state/projectSettings/projectSettings.js';\nimport { handleStoreAndEnvironmentMismatch } from './handleStoreAndEnvironmentMismatch/handleStoreAndEnvironmentMismatch.js';\nimport { handleUserDataOutOfSync } from './handleUserDataOutOfSync/handleUserDataOutOfSync.js';\n\nconst useValidateSession = ({ environmentId, handleLogOut }) => {\n    const didRunRef = useRef(false);\n    const projectSettings = useProjectSettings();\n    const logout = useCallback(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (reason, params) => __awaiter(void 0, void 0, void 0, function* () {\n        logger.info(`Logging out due to invalid session - Reason: ${reason}`, Object.assign({}, params));\n        return handleLogOut();\n    }), [handleLogOut]);\n    const validateSession = useCallback((projectSettings) => __awaiter(void 0, void 0, void 0, function* () {\n        const params = {\n            environmentId,\n            logout,\n            projectSettings,\n        };\n        yield Promise.all([\n            handleStoreAndEnvironmentMismatch(params),\n            handleUserDataOutOfSync(params),\n        ]);\n        // Regardless of whether we logged out or not, session validation is now complete\n        setLoadingAndLifecycle({ sessionValidation: true });\n    }), [logout, environmentId]);\n    useEffect(() => {\n        if (didRunRef.current || !projectSettings)\n            return;\n        didRunRef.current = true;\n        validateSession(projectSettings);\n    }, [validateSession, projectSettings]);\n    useInternalDynamicEvents('triggerSessionValidation', () => {\n        if (!projectSettings)\n            return;\n        validateSession(projectSettings);\n    });\n};\n\nexport { useValidateSession };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;AAUA,MAAM,qBAAqB,CAAC,EAAE,aAAa,EAAE,YAAY,EAAE;IACvD,MAAM,YAAY,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IACzB,MAAM,kBAAkB,CAAA,GAAA,kOAAA,CAAA,qBAAkB,AAAD;IACzC,MAAM,SAAS,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;kDAEzB,AADA,8DAA8D;QAC9D,CAAC,QAAQ,SAAW,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK;0DAAG;oBAClD,8LAAA,CAAA,SAAM,CAAC,IAAI,CAAC,CAAC,6CAA6C,EAAE,QAAQ,EAAE,OAAO,MAAM,CAAC,CAAC,GAAG;oBACxF,OAAO;gBACX;;iDAAI;QAAC;KAAa;IAClB,MAAM,kBAAkB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;2DAAE,CAAC,kBAAoB,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK;mEAAG;oBACvF,MAAM,SAAS;wBACX;wBACA;wBACA;oBACJ;oBACA,MAAM,QAAQ,GAAG,CAAC;wBACd,CAAA,GAAA,4RAAA,CAAA,oCAAiC,AAAD,EAAE;wBAClC,CAAA,GAAA,wQAAA,CAAA,0BAAuB,AAAD,EAAE;qBAC3B;oBACD,iFAAiF;oBACjF,CAAA,GAAA,mNAAA,CAAA,yBAAsB,AAAD,EAAE;wBAAE,mBAAmB;oBAAK;gBACrD;;0DAAI;QAAC;QAAQ;KAAc;IAC3B,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;wCAAE;YACN,IAAI,UAAU,OAAO,IAAI,CAAC,iBACtB;YACJ,UAAU,OAAO,GAAG;YACpB,gBAAgB;QACpB;uCAAG;QAAC;QAAiB;KAAgB;IACrC,CAAA,GAAA,8OAAA,CAAA,2BAAwB,AAAD,EAAE;uDAA4B;YACjD,IAAI,CAAC,iBACD;YACJ,gBAAgB;QACpB;;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 12942, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useCreateWalletConnectorOptions/utils/errors/ConnectorSetupError.js"],"sourcesContent":["'use client'\nimport { DynamicError } from '@dynamic-labs/utils';\n\nclass ConnectorSetupError extends DynamicError {\n    constructor(providerName, connectorName) {\n        super(`${providerName} is enabled but ${connectorName} is not in your walletConnectors list. See https://docs.dynamic.xyz/react-sdk/wallet-connectors for more information.`);\n    }\n}\n\nexport { ConnectorSetupError };\n"],"names":[],"mappings":";;;AACA;AAAA;AADA;;AAGA,MAAM,4BAA4B,8KAAA,CAAA,eAAY;IAC1C,YAAY,YAAY,EAAE,aAAa,CAAE;QACrC,KAAK,CAAC,GAAG,aAAa,gBAAgB,EAAE,cAAc,qHAAqH,CAAC;IAChL;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 12961, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useCreateWalletConnectorOptions/utils/verifyMagicIsSetup/verifyMagicIsSetup.js"],"sourcesContent":["'use client'\nimport { ProviderEnum } from '@dynamic-labs/sdk-api-core';\nimport '../../../../constants/values.js';\nimport '@dynamic-labs/utils';\nimport '../../../../../../../_virtual/_tslib.js';\nimport '@dynamic-labs/multi-wallet';\nimport '../../../../../shared/logger.js';\nimport '../../../../constants/colors.js';\nimport 'react-international-phone';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react';\nimport 'react/jsx-runtime';\nimport '../../../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../../../../shared/consts/index.js';\nimport '../../../../../store/state/nonce/nonce.js';\nimport { isProviderEnabled } from '../../../../functions/isProviderEnabled/isProviderEnabled.js';\nimport '../../../../../store/state/projectSettings/projectSettings.js';\nimport '../../../../../config/ApiEndpoint.js';\nimport '../../../../../store/state/user/user.js';\nimport '../../../../../locale/locale.js';\nimport '../../../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../../../store/state/primaryWalletId/primaryWalletId.js';\nimport { ConnectorSetupError } from '../errors/ConnectorSetupError.js';\n\nconst magicEmailOtpWalletConnectorKey = 'magicemailotp';\nconst magicSocialWalletConnectorKey = 'magicsocial';\nconst verifyMagicIsSetup = (projectSettings, walletConnectors) => {\n    var _a;\n    const isMagicEnabled = isProviderEnabled((_a = projectSettings.providers) !== null && _a !== void 0 ? _a : [], ProviderEnum.MagicLink);\n    const isMagicWalletConnectorPresent = walletConnectors.some(({ key }) => [magicEmailOtpWalletConnectorKey, magicSocialWalletConnectorKey].includes(key));\n    if (isMagicEnabled && !isMagicWalletConnectorPresent) {\n        throw new ConnectorSetupError('Magic', 'MagicWalletConnectors');\n    }\n};\n\nexport { verifyMagicIsSetup };\n"],"names":[],"mappings":";;;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxBA;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,MAAM,kCAAkC;AACxC,MAAM,gCAAgC;AACtC,MAAM,qBAAqB,CAAC,iBAAiB;IACzC,IAAI;IACJ,MAAM,iBAAiB,CAAA,GAAA,0OAAA,CAAA,oBAAiB,AAAD,EAAE,CAAC,KAAK,gBAAgB,SAAS,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,EAAE,EAAE,2LAAA,CAAA,eAAY,CAAC,SAAS;IACrI,MAAM,gCAAgC,iBAAiB,IAAI,CAAC,CAAC,EAAE,GAAG,EAAE,GAAK;YAAC;YAAiC;SAA8B,CAAC,QAAQ,CAAC;IACnJ,IAAI,kBAAkB,CAAC,+BAA+B;QAClD,MAAM,IAAI,yQAAA,CAAA,sBAAmB,CAAC,SAAS;IAC3C;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 13034, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useCreateWalletConnectorOptions/utils/verifyZeroDevIsSetup/verifyZeroDevIsSetup.js"],"sourcesContent":["'use client'\nimport { ProviderEnum } from '@dynamic-labs/sdk-api-core';\nimport '../../../../constants/values.js';\nimport '@dynamic-labs/utils';\nimport '../../../../../../../_virtual/_tslib.js';\nimport '@dynamic-labs/multi-wallet';\nimport '../../../../../shared/logger.js';\nimport '../../../../constants/colors.js';\nimport 'react-international-phone';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react';\nimport 'react/jsx-runtime';\nimport '../../../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../../../../shared/consts/index.js';\nimport '../../../../../store/state/nonce/nonce.js';\nimport { isProviderEnabled } from '../../../../functions/isProviderEnabled/isProviderEnabled.js';\nimport '../../../../../store/state/projectSettings/projectSettings.js';\nimport '../../../../../config/ApiEndpoint.js';\nimport '../../../../../store/state/user/user.js';\nimport '../../../../../locale/locale.js';\nimport '../../../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../../../store/state/primaryWalletId/primaryWalletId.js';\nimport { ConnectorSetupError } from '../errors/ConnectorSetupError.js';\n\nconst zeroDevWalletConnectorKey = 'zerodev';\nconst verifyZeroDevIsSetup = (projectSettings, walletConnectors) => {\n    var _a;\n    const isZeroDevEnabled = isProviderEnabled((_a = projectSettings.providers) !== null && _a !== void 0 ? _a : [], ProviderEnum.Zerodev);\n    const isZeroDevWalletConnectorPresent = walletConnectors.some(({ key }) => key === zeroDevWalletConnectorKey);\n    if (isZeroDevEnabled && !isZeroDevWalletConnectorPresent) {\n        throw new ConnectorSetupError('ZeroDev', 'ZeroDevSmartWalletConnectors');\n    }\n};\n\nexport { verifyZeroDevIsSetup };\n"],"names":[],"mappings":";;;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxBA;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,MAAM,4BAA4B;AAClC,MAAM,uBAAuB,CAAC,iBAAiB;IAC3C,IAAI;IACJ,MAAM,mBAAmB,CAAA,GAAA,0OAAA,CAAA,oBAAiB,AAAD,EAAE,CAAC,KAAK,gBAAgB,SAAS,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,EAAE,EAAE,2LAAA,CAAA,eAAY,CAAC,OAAO;IACrI,MAAM,kCAAkC,iBAAiB,IAAI,CAAC,CAAC,EAAE,GAAG,EAAE,GAAK,QAAQ;IACnF,IAAI,oBAAoB,CAAC,iCAAiC;QACtD,MAAM,IAAI,yQAAA,CAAA,sBAAmB,CAAC,WAAW;IAC7C;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 13103, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useCreateWalletConnectorOptions/utils/verifyRequiredConnectorsAreSetup/verifyRequiredConnectorsAreSetup.js"],"sourcesContent":["'use client'\nimport { verifyMagicIsSetup } from '../verifyMagicIsSetup/verifyMagicIsSetup.js';\nimport { verifyZeroDevIsSetup } from '../verifyZeroDevIsSetup/verifyZeroDevIsSetup.js';\n\nconst verifyRequiredConnectorsAreSetup = (projectSettings, walletConnectors) => {\n    verifyMagicIsSetup(projectSettings, walletConnectors);\n    verifyZeroDevIsSetup(projectSettings, walletConnectors);\n};\n\nexport { verifyRequiredConnectorsAreSetup };\n"],"names":[],"mappings":";;;AACA;AACA;AAFA;;;AAIA,MAAM,mCAAmC,CAAC,iBAAiB;IACvD,CAAA,GAAA,oRAAA,CAAA,qBAAkB,AAAD,EAAE,iBAAiB;IACpC,CAAA,GAAA,wRAAA,CAAA,uBAAoB,AAAD,EAAE,iBAAiB;AAC1C","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 13122, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useCreateWalletConnectorOptions/useCreateWalletConnectorOptions.js"],"sourcesContent":["'use client'\nimport { __rest } from '../../../../../_virtual/_tslib.js';\nimport { useMemo, useEffect } from 'react';\nimport { isWalletBookPopulated } from '@dynamic-labs/wallet-book';\nimport { getWallets } from '../../../views/WalletList/data.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../constants/values.js';\nimport '@dynamic-labs/utils';\nimport '@dynamic-labs/multi-wallet';\nimport '../../../shared/logger.js';\nimport '../../constants/colors.js';\nimport 'react-international-phone';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '../../../shared/consts/index.js';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport { serializeWalletConnectors } from '../../functions/serializeWalletConnectors/serializeWalletConnectors.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport { mergeWalletConnectorOptions } from '../../../store/state/walletOptions/walletOptions.js';\nimport { verifyRequiredConnectorsAreSetup } from './utils/verifyRequiredConnectorsAreSetup/verifyRequiredConnectorsAreSetup.js';\n\nconst useCreateWalletConnectorOptions = (_a) => {\n    var { projectSettings, networkConfigurations, walletBook, walletConnectorsProp, walletConnectorExtensions } = _a, props = __rest(_a, [\"projectSettings\", \"networkConfigurations\", \"walletBook\", \"walletConnectorsProp\", \"walletConnectorExtensions\"]);\n    const walletConnectorsKey = useMemo(() => { var _a; return (_a = serializeWalletConnectors(walletConnectorsProp)) === null || _a === void 0 ? void 0 : _a.join(','); }, [walletConnectorsProp]);\n    const isWalletBookLoaded = useMemo(() => isWalletBookPopulated(walletBook), [walletBook]);\n    const walletConnectorOptions = useMemo(() => {\n        if (!projectSettings || !isWalletBookLoaded || !networkConfigurations)\n            return [];\n        return getWallets({\n            getSupportedWalletOpts: Object.assign({ networkConfigurations, settings: projectSettings, skipMemo: true, walletBook, walletConnectorsProp: walletConnectorsProp !== null && walletConnectorsProp !== void 0 ? walletConnectorsProp : [] }, props),\n            walletConnectorExtensions,\n        });\n        // Cannot include walletUiUtils in the dependency array because it will cause an infinite loop\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        projectSettings,\n        walletConnectorsKey,\n        isWalletBookLoaded,\n        networkConfigurations,\n    ]);\n    useEffect(() => {\n        if (!projectSettings || walletConnectorOptions.length === 0)\n            return;\n        verifyRequiredConnectorsAreSetup(projectSettings, walletConnectorOptions.map(({ walletConnector }) => walletConnector));\n        mergeWalletConnectorOptions(walletConnectorOptions);\n    }, [walletConnectorOptions, projectSettings]);\n    return { walletConnectorOptions };\n};\n\nexport { useCreateWalletConnectorOptions };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1BA;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,MAAM,kCAAkC,CAAC;IACrC,IAAI,EAAE,eAAe,EAAE,qBAAqB,EAAE,UAAU,EAAE,oBAAoB,EAAE,yBAAyB,EAAE,GAAG,IAAI,QAAQ,CAAA,GAAA,kLAAA,CAAA,SAAM,AAAD,EAAE,IAAI;QAAC;QAAmB;QAAyB;QAAc;QAAwB;KAA4B;IACpP,MAAM,sBAAsB,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;wEAAE;YAAQ,IAAI;YAAI,OAAO,CAAC,KAAK,CAAA,GAAA,0PAAA,CAAA,4BAAyB,AAAD,EAAE,qBAAqB,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,IAAI,CAAC;QAAM;uEAAG;QAAC;KAAqB;IAC9L,MAAM,qBAAqB,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;uEAAE,IAAM,CAAA,GAAA,iMAAA,CAAA,wBAAqB,AAAD,EAAE;sEAAa;QAAC;KAAW;IACxF,MAAM,yBAAyB,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;2EAAE;YACnC,IAAI,CAAC,mBAAmB,CAAC,sBAAsB,CAAC,uBAC5C,OAAO,EAAE;YACb,OAAO,CAAA,GAAA,yMAAA,CAAA,aAAU,AAAD,EAAE;gBACd,wBAAwB,OAAO,MAAM,CAAC;oBAAE;oBAAuB,UAAU;oBAAiB,UAAU;oBAAM;oBAAY,sBAAsB,yBAAyB,QAAQ,yBAAyB,KAAK,IAAI,uBAAuB,EAAE;gBAAC,GAAG;gBAC5O;YACJ;QACA,8FAA8F;QAC9F,uDAAuD;QAC3D;0EAAG;QACC;QACA;QACA;QACA;KACH;IACD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;qDAAE;YACN,IAAI,CAAC,mBAAmB,uBAAuB,MAAM,KAAK,GACtD;YACJ,CAAA,GAAA,gTAAA,CAAA,mCAAgC,AAAD,EAAE,iBAAiB,uBAAuB,GAAG;6DAAC,CAAC,EAAE,eAAe,EAAE,GAAK;;YACtG,CAAA,GAAA,8NAAA,CAAA,8BAA2B,AAAD,EAAE;QAChC;oDAAG;QAAC;QAAwB;KAAgB;IAC5C,OAAO;QAAE;IAAuB;AACpC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 13245, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useCreateWalletGroups/useCreateWalletGroups.js"],"sourcesContent":["'use client'\nimport { useEffect } from 'react';\nimport '@dynamic-labs/sdk-api-core';\nimport { logger } from '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport { createWalletGroupFromWalletOption } from '../../../shared/utils/functions/createWalletGroupFromWalletOption/createWalletGroupFromWalletOption.js';\nimport { mergeWalletGroups } from '../../../store/state/walletOptions/walletOptions.js';\n\nconst useCreateWalletGroups = ({ walletConnectorOptions, }) => {\n    // Dynamically populate groups based on wallet options\n    useEffect(() => {\n        if (!walletConnectorOptions.length)\n            return;\n        const groups = {};\n        walletConnectorOptions.forEach((option) => {\n            const group = createWalletGroupFromWalletOption(option);\n            // we don't need to override the group if it already exists\n            // and it will particularly cause issues with MM, because the starknet snap icon\n            // is different group than the default MM icon\n            if (!groups[group.key]) {\n                groups[group.key] = group;\n            }\n            option.chainGroup = group.key;\n            option.group = group.key;\n        });\n        logger.logVerboseTroubleshootingMessage('[DynamicContext] mergeWalletGroups', {\n            groups,\n        });\n        mergeWalletGroups(groups);\n    }, [walletConnectorOptions]);\n};\n\nexport { useCreateWalletGroups };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;;;;;;;;;;;;;;;AAgBA,MAAM,wBAAwB,CAAC,EAAE,sBAAsB,EAAG;IACtD,sDAAsD;IACtD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;2CAAE;YACN,IAAI,CAAC,uBAAuB,MAAM,EAC9B;YACJ,MAAM,SAAS,CAAC;YAChB,uBAAuB,OAAO;mDAAC,CAAC;oBAC5B,MAAM,QAAQ,CAAA,GAAA,oRAAA,CAAA,oCAAiC,AAAD,EAAE;oBAChD,2DAA2D;oBAC3D,gFAAgF;oBAChF,8CAA8C;oBAC9C,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;wBACpB,MAAM,CAAC,MAAM,GAAG,CAAC,GAAG;oBACxB;oBACA,OAAO,UAAU,GAAG,MAAM,GAAG;oBAC7B,OAAO,KAAK,GAAG,MAAM,GAAG;gBAC5B;;YACA,8LAAA,CAAA,SAAM,CAAC,gCAAgC,CAAC,sCAAsC;gBAC1E;YACJ;YACA,CAAA,GAAA,8NAAA,CAAA,oBAAiB,AAAD,EAAE;QACtB;0CAAG;QAAC;KAAuB;AAC/B","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 13312, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useConfirmationPortal/useConfirmationPortal.js"],"sourcesContent":["'use client'\nimport { useState, useRef, useCallback } from 'react';\nimport { DynamicError } from '@dynamic-labs/utils';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport { usePreventPageScroll } from '../../../shared/utils/hooks/usePreventPageScroll/usePreventPageScroll.js';\nimport '../../../shared/consts/index.js';\n\nconst useConfirmationPortal = ({ onResolve, onReject, defaultErrorMessage, }) => {\n    usePreventPageScroll(true);\n    const [show, setShow] = useState(true);\n    const errorRef = useRef(null);\n    const successResponseRef = useRef(null);\n    const closeModal = useCallback(() => {\n        setShow(false);\n    }, [setShow]);\n    const handleOnModalUnmount = useCallback(() => {\n        if (successResponseRef.current) {\n            return onResolve(successResponseRef.current);\n        }\n        const error = errorRef.current ||\n            new DynamicError(defaultErrorMessage || 'Something went wrong');\n        return onReject(error);\n    }, [onResolve, onReject, defaultErrorMessage]);\n    const onSuccess = (response, closePortal = true) => {\n        errorRef.current = null;\n        successResponseRef.current = response;\n        if (closePortal) {\n            closeModal();\n        }\n    };\n    const onError = (error, closePortal = false) => {\n        successResponseRef.current = null;\n        errorRef.current = error;\n        if (closePortal) {\n            closeModal();\n        }\n    };\n    return {\n        closeModal,\n        handleOnModalUnmount,\n        onError,\n        onSuccess,\n        show,\n    };\n};\n\nexport { useConfirmationPortal };\n"],"names":[],"mappings":";;;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;;;;;;;;;;;;;;AAeA,MAAM,wBAAwB,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,mBAAmB,EAAG;IACxE,CAAA,GAAA,sPAAA,CAAA,uBAAoB,AAAD,EAAE;IACrB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,WAAW,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IACxB,MAAM,qBAAqB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IAClC,MAAM,aAAa,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;yDAAE;YAC3B,QAAQ;QACZ;wDAAG;QAAC;KAAQ;IACZ,MAAM,uBAAuB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;mEAAE;YACrC,IAAI,mBAAmB,OAAO,EAAE;gBAC5B,OAAO,UAAU,mBAAmB,OAAO;YAC/C;YACA,MAAM,QAAQ,SAAS,OAAO,IAC1B,IAAI,8KAAA,CAAA,eAAY,CAAC,uBAAuB;YAC5C,OAAO,SAAS;QACpB;kEAAG;QAAC;QAAW;QAAU;KAAoB;IAC7C,MAAM,YAAY,CAAC,UAAU,cAAc,IAAI;QAC3C,SAAS,OAAO,GAAG;QACnB,mBAAmB,OAAO,GAAG;QAC7B,IAAI,aAAa;YACb;QACJ;IACJ;IACA,MAAM,UAAU,CAAC,OAAO,cAAc,KAAK;QACvC,mBAAmB,OAAO,GAAG;QAC7B,SAAS,OAAO,GAAG;QACnB,IAAI,aAAa;YACb;QACJ;IACJ;IACA,OAAO;QACH;QACA;QACA;QACA;QACA;IACJ;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 13397, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useWalletUiUtils/useWalletUiUtils.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { jsx } from 'react/jsx-runtime';\nimport { useRef, useCallback, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport '@dynamic-labs/utils';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport { useConfirmationModal } from '../useConfirmationModal/useConfirmationModal.js';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport 'react-dom';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport { SignMessageConfirmationModal } from '../../../modals/SignMessageConfirmationModal/SignMessageConfirmationModal.js';\nimport { SyncWalletPromptModal } from '../../../modals/SyncWalletPromptModal/SyncWalletPromptModal.js';\nimport { TransactionConfirmationModal } from '../../../modals/TransactionConfirmationModal/TransactionConfirmationModal.js';\nimport { AddNetworkModal } from '../../../modals/AddNetworkModal/AddNetworkModal.js';\n\nconst useWalletUiUtils = ({ appLogoUrl, appName, hideEmbeddedWalletTransactionUIs = false, }) => {\n    const confirmationStateRef = useRef('enabled');\n    const { t } = useTranslation();\n    const { modal: sendTransactionModal, open: openSendTransaction } = useConfirmationModal({\n        elementId: 'dynamic-send-transaction',\n    });\n    const { modal: signMessageModal, open: openSignMessage } = useConfirmationModal({\n        elementId: 'dynamic-sign-message',\n    });\n    const { modal: syncWalletPromptModal, open: openSyncWalletPrompt } = useConfirmationModal({\n        elementId: 'dynamic-sync-wallet',\n    });\n    const { modal: addNetworkModal, open: openAddNetwork } = useConfirmationModal({\n        elementId: 'dynamic-prompt-to-add-network',\n    });\n    const shouldConfirmAction = useCallback(() => {\n        if (confirmationStateRef.current === 'disabled') {\n            confirmationStateRef.current = 'enabled';\n            return false;\n        }\n        return true;\n    }, [confirmationStateRef]);\n    const signMessage = useCallback((_a) => __awaiter(void 0, [_a], void 0, function* ({ walletConnector, message, handler }) {\n        // prevent the modal from opening itself again\n        if (!shouldConfirmAction())\n            return handler();\n        return openSignMessage((resolve, reject) => (jsx(SignMessageConfirmationModal, { appLogoUrl: appLogoUrl, appName: appName, message: message, handler: handler, onSignMessage: resolve, onReject: reject, hideModal: hideEmbeddedWalletTransactionUIs &&\n                !(walletConnector === null || walletConnector === void 0 ? void 0 : walletConnector.isGlobalTransaction) }))).then((signedMessage) => __awaiter(void 0, void 0, void 0, function* () {\n            if (signedMessage === 'callHandlerOutsideModal')\n                return handler();\n            else\n                return signedMessage;\n        }));\n    }), [\n        appLogoUrl,\n        appName,\n        hideEmbeddedWalletTransactionUIs,\n        openSignMessage,\n        shouldConfirmAction,\n    ]);\n    const sendTransaction = useCallback((walletConnector, transaction) => __awaiter(void 0, void 0, void 0, function* () {\n        // prevent the modal from opening itself again\n        if (!shouldConfirmAction())\n            return transaction.submit();\n        return openSendTransaction((resolve, reject) => (jsx(TransactionConfirmationModal, { copykey: 'dyn_send_transaction.confirmation.title', title: t('dyn_send_transaction.confirmation.title'), transaction: transaction, onTransactionResponseSuccess: resolve, onReject: reject, walletConnector: walletConnector, hideModal: hideEmbeddedWalletTransactionUIs &&\n                !(walletConnector === null || walletConnector === void 0 ? void 0 : walletConnector.isGlobalTransaction) }))).then((signedTransaction) => __awaiter(void 0, void 0, void 0, function* () {\n            if (signedTransaction === 'callHandlerOutsideModal')\n                return transaction.submit();\n            else\n                return signedTransaction;\n        }));\n    }), [\n        hideEmbeddedWalletTransactionUIs,\n        openSendTransaction,\n        shouldConfirmAction,\n        t,\n    ]);\n    // Solana only\n    const signTransaction = useCallback((walletConnector, transaction) => __awaiter(void 0, void 0, void 0, function* () {\n        // prevent the modal from opening itself again\n        if (!shouldConfirmAction())\n            return transaction.submit();\n        return openSendTransaction((resolve, reject) => (jsx(TransactionConfirmationModal, { copykey: 'dyn_send_transaction.confirmation.title', title: t('dyn_send_transaction.confirmation.title'), transaction: transaction, onTransactionResponseSuccess: resolve, onReject: reject, walletConnector: walletConnector, hideModal: hideEmbeddedWalletTransactionUIs &&\n                !(walletConnector === null || walletConnector === void 0 ? void 0 : walletConnector.isGlobalTransaction) }))).then((signedTransaction) => __awaiter(void 0, void 0, void 0, function* () {\n            if (signedTransaction === 'callHandlerOutsideModal')\n                return transaction.submit();\n            else\n                return signedTransaction;\n        }));\n    }), [\n        hideEmbeddedWalletTransactionUIs,\n        openSendTransaction,\n        shouldConfirmAction,\n        t,\n    ]);\n    const syncWallet = useCallback((_b) => __awaiter(void 0, [_b], void 0, function* ({ walletConnector, activeAddress, expectedAddress }) {\n        yield openSyncWalletPrompt((resolve, reject) => (jsx(SyncWalletPromptModal, { onResolve: resolve, onReject: reject, connector: walletConnector, expectedAddress: expectedAddress, activeAddress: activeAddress })));\n    }), [openSyncWalletPrompt]);\n    const addNetwork = useCallback((_c) => __awaiter(void 0, [_c], void 0, function* ({ handler, network, walletConnector }) {\n        yield openAddNetwork((resolve) => (jsx(AddNetworkModal, { network: network, walletConnector: walletConnector, onCancel: resolve, onNetworkAdded: resolve, addNetworkMutation: handler })));\n    }), [openAddNetwork]);\n    const disabledConfirmationOnce = useCallback(() => {\n        confirmationStateRef.current = 'disabled';\n    }, []);\n    const walletUiUtils = useMemo(() => ({\n        addNetwork,\n        disabledConfirmationOnce,\n        sendTransaction,\n        signMessage,\n        signTransaction,\n        syncWallet,\n    }), [\n        signMessage,\n        signTransaction,\n        disabledConfirmationOnce,\n        sendTransaction,\n        syncWallet,\n        addNetwork,\n    ]);\n    return useMemo(() => [\n        signMessageModal ||\n            sendTransactionModal ||\n            syncWalletPromptModal ||\n            addNetworkModal,\n        walletUiUtils,\n    ], [\n        signMessageModal,\n        sendTransactionModal,\n        syncWalletPromptModal,\n        addNetworkModal,\n        walletUiUtils,\n    ]);\n};\n\nexport { useWalletUiUtils };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 13792, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useRefreshUser/useRefreshUser.js"],"sourcesContent":["'use client'\nimport { useCallback } from 'react';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../../../_virtual/_tslib.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport { refreshUserJwt } from '../../../data/api/user/user.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\n/**\n * Refresh user state\n * @returns A callback function that can be used to refresh the user state\n */\nconst useRefreshUser = () => {\n    const { environmentId } = useInternalDynamicContext();\n    return useCallback(() => refreshUserJwt({ environmentId }), [environmentId]);\n};\n\nexport { useRefreshUser };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;;;CAGC,GACD,MAAM,iBAAiB;IACnB,MAAM,EAAE,aAAa,EAAE,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IAClD,OAAO,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;sCAAE,IAAM,CAAA,GAAA,yMAAA,CAAA,iBAAc,AAAD,EAAE;gBAAE;YAAc;qCAAI;QAAC;KAAc;AAC/E","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 13999, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useDynamicWaas/constants.js"],"sourcesContent":["'use client'\nconst NO_ENABLED_CHAINS_ERROR = 'No enabled embedded wallet chains';\nconst DYNAMIC_WAAS_CONNECTOR_NOT_FOUND_ERROR = 'Dynamic Waas connector not found';\n\nexport { DYNAMIC_WAAS_CONNECTOR_NOT_FOUND_ERROR, NO_ENABLED_CHAINS_ERROR };\n"],"names":[],"mappings":";;;;AAAA;AACA,MAAM,0BAA0B;AAChC,MAAM,yCAAyC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 14013, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useDynamicWaas/useDynamicWaas.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useCallback, useMemo } from 'react';\nimport { EmbeddedWalletVersionEnum, JwtVerifiedCredentialFormatEnum, WalletProviderEnum } from '@dynamic-labs/sdk-api-core';\nimport { DynamicError } from '@dynamic-labs/utils';\nimport '../../constants/values.js';\nimport '@dynamic-labs/multi-wallet';\nimport { getAuthToken } from '../../functions/getAuthToken/getAuthToken.js';\nimport '../../../shared/logger.js';\nimport '../../constants/colors.js';\nimport 'react-international-phone';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../../shared/consts/index.js';\nimport '../../../store/state/nonce/nonce.js';\nimport { isCookieEnabled } from '../../functions/isCookieEnabled/isCookieEnabled.js';\nimport { useProjectSettings } from '../../../store/state/projectSettings/projectSettings.js';\nimport { updatePrimaryWalletId } from '../../functions/updatePrimaryWalletId/updatePrimaryWalletId.js';\nimport { useRefreshUser } from '../useRefreshUser/useRefreshUser.js';\nimport { useApiBaseUrl, useEnvironmentId } from '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport { useUser } from '../../../store/state/user/user.js';\nimport { useWalletConnectorOptions } from '../../../store/state/walletOptions/walletOptions.js';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport { DYNAMIC_WAAS_CONNECTOR_NOT_FOUND_ERROR, NO_ENABLED_CHAINS_ERROR } from './constants.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst dynamicWaasKey = 'dynamicwaas';\nconst configWaasWalletConnector = ({ walletConnector, environmentId, apiBaseUrl, authToken, relayUrl, }) => {\n    walletConnector.setEnvironmentId(environmentId);\n    walletConnector.setBaseApiUrl(apiBaseUrl === null || apiBaseUrl === void 0 ? void 0 : apiBaseUrl.replace('/api/v0', ''));\n    walletConnector.setGetAuthTokenFunction(() => authToken !== null && authToken !== void 0 ? authToken : '');\n    walletConnector.setRelayUrl(relayUrl);\n    return walletConnector;\n};\nconst useDynamicWaas = () => {\n    var _a, _b, _c;\n    const { setShowAuthFlow } = useInternalDynamicContext();\n    const { user } = useUser();\n    const apiBaseUrl = useApiBaseUrl();\n    const projectSettings = useProjectSettings();\n    const environmentId = useEnvironmentId();\n    const walletConnectorOptions = useWalletConnectorOptions();\n    const refresh = useRefreshUser();\n    const relayUrl = (_b = (_a = projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.sdk) === null || _a === void 0 ? void 0 : _a.waas) === null || _b === void 0 ? void 0 : _b.relayUrl;\n    const embeddedWalletSettings = projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.sdk.embeddedWallets;\n    const enabledChains = (_c = embeddedWalletSettings === null || embeddedWalletSettings === void 0 ? void 0 : embeddedWalletSettings.chainConfigurations) === null || _c === void 0 ? void 0 : _c.filter((c) => c.enabled);\n    const primaryChain = enabledChains === null || enabledChains === void 0 ? void 0 : enabledChains.find((chain) => chain.primary);\n    const enabledChainNames = enabledChains === null || enabledChains === void 0 ? void 0 : enabledChains.map((chain) => chain.name);\n    const automaticEmbeddedWalletCreationEnabled = embeddedWalletSettings === null || embeddedWalletSettings === void 0 ? void 0 : embeddedWalletSettings.automaticEmbeddedWalletCreation;\n    const automaticEmbeddedWalletCreationForExternalEnabled = embeddedWalletSettings === null || embeddedWalletSettings === void 0 ? void 0 : embeddedWalletSettings.automaticEmbeddedWalletCreationForExternal;\n    const defaultWalletVersion = embeddedWalletSettings === null || embeddedWalletSettings === void 0 ? void 0 : embeddedWalletSettings.defaultWalletVersion;\n    const dynamicWaasIsEnabled = defaultWalletVersion === EmbeddedWalletVersionEnum.V3;\n    const authToken = getAuthToken();\n    const isCookieAuthEnabled = projectSettings && isCookieEnabled(projectSettings);\n    const getWalletConnector = useCallback((chainName) => {\n        var _a;\n        if (!isCookieAuthEnabled && !authToken) {\n            return undefined;\n        }\n        if (!walletConnectorOptions.length || !environmentId || !apiBaseUrl)\n            return undefined;\n        const walletConnector = (_a = walletConnectorOptions.find((option) => option.key.includes(dynamicWaasKey) &&\n            option.walletConnector.connectedChain === chainName)) === null || _a === void 0 ? void 0 : _a.walletConnector;\n        if (!walletConnector) {\n            throw new DynamicError(DYNAMIC_WAAS_CONNECTOR_NOT_FOUND_ERROR);\n        }\n        const configuredWalletConnector = configWaasWalletConnector({\n            apiBaseUrl,\n            authToken,\n            environmentId,\n            relayUrl: relayUrl !== null && relayUrl !== void 0 ? relayUrl : '',\n            walletConnector,\n        });\n        return configuredWalletConnector;\n    }, [\n        walletConnectorOptions,\n        environmentId,\n        authToken,\n        apiBaseUrl,\n        isCookieAuthEnabled,\n    ]);\n    const createWalletAccount = useCallback(() => __awaiter(void 0, void 0, void 0, function* () {\n        if (!(enabledChainNames === null || enabledChainNames === void 0 ? void 0 : enabledChainNames.length)) {\n            throw new DynamicError(NO_ENABLED_CHAINS_ERROR);\n        }\n        const createdWalletAccounts = yield Promise.all(enabledChainNames === null || enabledChainNames === void 0 ? void 0 : enabledChainNames.map((chain) => __awaiter(void 0, void 0, void 0, function* () {\n            const walletConnector = getWalletConnector(chain);\n            if (!walletConnector)\n                return undefined;\n            const createdWalletAccount = yield walletConnector.createWalletAccount();\n            return Object.assign(Object.assign({}, createdWalletAccount), { chainName: chain });\n        })));\n        const primaryWalletAccount = createdWalletAccounts === null || createdWalletAccounts === void 0 ? void 0 : createdWalletAccounts.find((wallet) => (wallet === null || wallet === void 0 ? void 0 : wallet.chainName) === (primaryChain === null || primaryChain === void 0 ? void 0 : primaryChain.name));\n        const refreshedUser = yield refresh();\n        const createdPrimaryWallet = refreshedUser === null || refreshedUser === void 0 ? void 0 : refreshedUser.verifiedCredentials.find((wallet) => {\n            var _a, _b, _c;\n            return ((_a = wallet.walletName) === null || _a === void 0 ? void 0 : _a.includes(dynamicWaasKey)) &&\n                ((_b = wallet.address) === null || _b === void 0 ? void 0 : _b.toLowerCase()) ===\n                    ((_c = primaryWalletAccount === null || primaryWalletAccount === void 0 ? void 0 : primaryWalletAccount.accountAddress) === null || _c === void 0 ? void 0 : _c.toLowerCase());\n        });\n        if (createdPrimaryWallet) {\n            updatePrimaryWalletId(createdPrimaryWallet.id);\n        }\n        setShowAuthFlow(false, { performMultiWalletChecks: false }); // close email otp pin modal\n        return createdWalletAccounts;\n    }), [getWalletConnector, primaryChain, enabledChainNames, refresh]);\n    const shouldAutoCreateDynamicWaasWallet = useMemo(() => {\n        const hasDynamicWaasWallet = user === null || user === void 0 ? void 0 : user.verifiedCredentials.some((wallet) => { var _a; return (_a = wallet.walletName) === null || _a === void 0 ? void 0 : _a.includes('dynamicwaas'); });\n        if (!user ||\n            hasDynamicWaasWallet || // already has a dynamic waas wallet\n            !dynamicWaasIsEnabled || // dynamic waas is not enabled\n            !automaticEmbeddedWalletCreationEnabled // automatic embedded wallet creation is not enabled\n        )\n            return false;\n        const hasExternalWallet = user === null || user === void 0 ? void 0 : user.verifiedCredentials.some((vc) => vc.format === JwtVerifiedCredentialFormatEnum.Blockchain &&\n            vc.walletProvider !== WalletProviderEnum.EmbeddedWallet);\n        const shouldCreateDynamicWaasWallet = hasExternalWallet\n            ? automaticEmbeddedWalletCreationForExternalEnabled\n            : true;\n        return shouldCreateDynamicWaasWallet;\n    }, [\n        user,\n        dynamicWaasIsEnabled,\n        automaticEmbeddedWalletCreationEnabled,\n        automaticEmbeddedWalletCreationForExternalEnabled,\n        walletConnectorOptions,\n    ]);\n    const importPrivateKey = (_d) => __awaiter(void 0, [_d], void 0, function* ({ chainName, privateKey, }) {\n        const walletConnector = getWalletConnector(chainName);\n        if (!walletConnector)\n            return;\n        yield walletConnector.importPrivateKey({\n            chainName,\n            privateKey,\n        });\n        yield refresh();\n    });\n    return {\n        createWalletAccount,\n        dynamicWaasIsEnabled,\n        getWalletConnector,\n        importPrivateKey,\n        shouldAutoCreateDynamicWaasWallet,\n    };\n};\n\nexport { configWaasWalletConnector, useDynamicWaas };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 14364, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useSetWalletConnectorFetchers/useSetWalletConnectorFetchers.js"],"sourcesContent":["'use client'\nimport { isSessionKeyCompatibleWalletConnector, isDynamicWaasConnector } from '@dynamic-labs/wallet-connector-core';\nimport 'react';\nimport '../../../events/dynamicEvents.js';\nimport '../../../../../_virtual/_tslib.js';\nimport '@dynamic-labs/utils';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport { getAuthToken } from '../../functions/getAuthToken/getAuthToken.js';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport { useApiBaseUrl } from '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport { useEmbeddedWalletSessionKeys } from '../useEmbeddedWalletSessionKeys/useEmbeddedWalletSessionKeys.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport { configWaasWalletConnector } from '../useDynamicWaas/useDynamicWaas.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\n\nconst DEFAULT_API_BASE_URL = 'https://app.dynamicauth.com/api/v0';\nconst useSetWalletConnectorFetchers = (walletOptions, environmentId, projectSettings) => {\n    const apiBaseUrl = useApiBaseUrl();\n    const authToken = getAuthToken();\n    const { registerEmbeddedWalletSessionKey, removeSessionKey } = useEmbeddedWalletSessionKeys({ environmentId, projectSettings });\n    if (!(walletOptions === null || walletOptions === void 0 ? void 0 : walletOptions.length))\n        return;\n    walletOptions.forEach((walletOption) => {\n        var _a, _b, _c, _d, _e;\n        if (isSessionKeyCompatibleWalletConnector(walletOption.walletConnector)) {\n            (_a = walletOption.walletConnector) === null || _a === void 0 ? void 0 : _a.setSessionKeyFetcher(registerEmbeddedWalletSessionKey);\n            (_b = walletOption.walletConnector) === null || _b === void 0 ? void 0 : _b.setSessionKeyRemoveFunction(() => removeSessionKey());\n        }\n        else if (isDynamicWaasConnector(walletOption.walletConnector)) {\n            configWaasWalletConnector({\n                apiBaseUrl: apiBaseUrl !== null && apiBaseUrl !== void 0 ? apiBaseUrl : DEFAULT_API_BASE_URL,\n                authToken,\n                environmentId,\n                relayUrl: (_e = (_d = (_c = projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.sdk) === null || _c === void 0 ? void 0 : _c.waas) === null || _d === void 0 ? void 0 : _d.relayUrl) !== null && _e !== void 0 ? _e : '',\n                walletConnector: walletOption.walletConnector,\n            });\n        }\n    });\n};\n\nexport { useSetWalletConnectorFetchers };\n"],"names":[],"mappings":";;;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA,MAAM,uBAAuB;AAC7B,MAAM,gCAAgC,CAAC,eAAe,eAAe;IACjE,MAAM,aAAa,CAAA,GAAA,0OAAA,CAAA,gBAAa,AAAD;IAC/B,MAAM,YAAY,CAAA,GAAA,gOAAA,CAAA,eAAY,AAAD;IAC7B,MAAM,EAAE,gCAAgC,EAAE,gBAAgB,EAAE,GAAG,CAAA,GAAA,4PAAA,CAAA,+BAA4B,AAAD,EAAE;QAAE;QAAe;IAAgB;IAC7H,IAAI,CAAC,CAAC,kBAAkB,QAAQ,kBAAkB,KAAK,IAAI,KAAK,IAAI,cAAc,MAAM,GACpF;IACJ,cAAc,OAAO,CAAC,CAAC;QACnB,IAAI,IAAI,IAAI,IAAI,IAAI;QACpB,IAAI,CAAA,GAAA,+RAAA,CAAA,wCAAqC,AAAD,EAAE,aAAa,eAAe,GAAG;YACrE,CAAC,KAAK,aAAa,eAAe,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,oBAAoB,CAAC;YACjG,CAAC,KAAK,aAAa,eAAe,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,2BAA2B,CAAC,IAAM;QAClH,OACK,IAAI,CAAA,GAAA,uOAAA,CAAA,yBAAsB,AAAD,EAAE,aAAa,eAAe,GAAG;YAC3D,CAAA,GAAA,gOAAA,CAAA,4BAAyB,AAAD,EAAE;gBACtB,YAAY,eAAe,QAAQ,eAAe,KAAK,IAAI,aAAa;gBACxE;gBACA;gBACA,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,oBAAoB,QAAQ,oBAAoB,KAAK,IAAI,KAAK,IAAI,gBAAgB,GAAG,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,IAAI,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,QAAQ,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK;gBACpP,iBAAiB,aAAa,eAAe;YACjD;QACJ;IACJ;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 14587, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useSendDynamicProps/useSendDynamicProps.js"],"sourcesContent":["'use client'\nimport { version } from 'react';\nimport '../../../../../_virtual/_tslib.js';\nimport '@dynamic-labs/utils';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../config/ApiEndpoint.js';\nimport '../../constants/values.js';\nimport '@dynamic-labs/multi-wallet';\nimport { logger } from '../../../shared/logger.js';\nimport '../../constants/colors.js';\nimport 'react-international-phone';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../../shared/consts/index.js';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport { serializeWalletConnectors } from '../../functions/serializeWalletConnectors/serializeWalletConnectors.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../store/state/user/user.js';\nimport { sendDynamicProps } from '../../../data/api/settings/settings.js';\nimport '../../../locale/locale.js';\nimport { useEffectOnce } from '../useEffectOnce/useEffectOnce.js';\n\nconst useSendDynamicProps = ({ settings, environmentId, }) => {\n    useEffectOnce(() => {\n        // we ReactNode components are not being serialized properly\n        // remove them for now and deal with them later\n        // context: https://linear.app/dynamic-labs/issue/GVTY-328/[starknet]-sdk-api-is-not-serializing-react-components\n        // future work: https://linear.app/dynamic-labs/issue/GVTY-330/bug-figure-out-why-react-components-are-not\n        const updatedDynamicProps = {\n            settings: Object.assign(Object.assign({}, settings), { customPrivacyPolicy: Boolean(settings.customPrivacyPolicy), customTermsOfServices: Boolean(settings.customTermsOfServices), policiesConsentInnerComponent: Boolean(settings.policiesConsentInnerComponent) }),\n        };\n        const serializedEventsCallbacks = serializeEventsCallbacks(settings.events);\n        const serializedWalletConnectors = serializeWalletConnectors(settings.walletConnectors);\n        const serializedDynamicContextProps = Object.assign(Object.assign({}, updatedDynamicProps), { settings: Object.assign(Object.assign({}, updatedDynamicProps.settings), { events: serializedEventsCallbacks, walletConnectors: serializedWalletConnectors }) });\n        sendDynamicProps(environmentId, {\n            dynamicContextProps: serializedDynamicContextProps,\n            frameworkSettings: getFrameworkSettings(),\n        });\n    });\n};\nconst serializeEventsCallbacks = (events) => {\n    try {\n        if (!events)\n            return undefined;\n        const eventsCallbackValues = Object.values(events);\n        const eventsKeys = Object.keys(events);\n        return eventsKeys.filter((key, index) => {\n            if (eventsCallbackValues[index] === undefined) {\n                return false;\n            }\n            return key;\n        });\n    }\n    catch (error) {\n        logger.error('error serializing events', error);\n        return undefined;\n    }\n};\nconst getFrameworkSettings = () => {\n    var _a;\n    return ({\n        nextJs: {\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            version: (_a = window.next) === null || _a === void 0 ? void 0 : _a.version,\n        },\n        react: {\n            version,\n        },\n    });\n};\n\nexport { serializeEventsCallbacks, useSendDynamicProps };\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzBA;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,MAAM,sBAAsB,CAAC,EAAE,QAAQ,EAAE,aAAa,EAAG;IACrD,CAAA,GAAA,8NAAA,CAAA,gBAAa,AAAD;6CAAE;YACV,4DAA4D;YAC5D,+CAA+C;YAC/C,iHAAiH;YACjH,0GAA0G;YAC1G,MAAM,sBAAsB;gBACxB,UAAU,OAAO,MAAM,CAAC,OAAO,MAAM,CAAC,CAAC,GAAG,WAAW;oBAAE,qBAAqB,QAAQ,SAAS,mBAAmB;oBAAG,uBAAuB,QAAQ,SAAS,qBAAqB;oBAAG,+BAA+B,QAAQ,SAAS,6BAA6B;gBAAE;YACtQ;YACA,MAAM,4BAA4B,yBAAyB,SAAS,MAAM;YAC1E,MAAM,6BAA6B,CAAA,GAAA,0PAAA,CAAA,4BAAyB,AAAD,EAAE,SAAS,gBAAgB;YACtF,MAAM,gCAAgC,OAAO,MAAM,CAAC,OAAO,MAAM,CAAC,CAAC,GAAG,sBAAsB;gBAAE,UAAU,OAAO,MAAM,CAAC,OAAO,MAAM,CAAC,CAAC,GAAG,oBAAoB,QAAQ,GAAG;oBAAE,QAAQ;oBAA2B,kBAAkB;gBAA2B;YAAG;YAC5P,CAAA,GAAA,iNAAA,CAAA,mBAAgB,AAAD,EAAE,eAAe;gBAC5B,qBAAqB;gBACrB,mBAAmB;YACvB;QACJ;;AACJ;AACA,MAAM,2BAA2B,CAAC;IAC9B,IAAI;QACA,IAAI,CAAC,QACD,OAAO;QACX,MAAM,uBAAuB,OAAO,MAAM,CAAC;QAC3C,MAAM,aAAa,OAAO,IAAI,CAAC;QAC/B,OAAO,WAAW,MAAM,CAAC,CAAC,KAAK;YAC3B,IAAI,oBAAoB,CAAC,MAAM,KAAK,WAAW;gBAC3C,OAAO;YACX;YACA,OAAO;QACX;IACJ,EACA,OAAO,OAAO;QACV,8LAAA,CAAA,SAAM,CAAC,KAAK,CAAC,4BAA4B;QACzC,OAAO;IACX;AACJ;AACA,MAAM,uBAAuB;IACzB,IAAI;IACJ,OAAQ;QACJ,QAAQ;YACJ,6DAA6D;YAC7D,aAAa;YACb,SAAS,CAAC,KAAK,OAAO,IAAI,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,OAAO;QAC/E;QACA,OAAO;YACH,SAAA,6JAAA,CAAA,UAAO;QACX;IACJ;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 14707, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useRefreshUserState/useRefreshUserState.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useState, useRef, useEffect } from 'react';\nimport { JwtVerifiedCredentialFormatEnum } from '@dynamic-labs/sdk-api-core';\nimport { logger } from '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '@dynamic-labs/multi-wallet';\nimport { getAuthToken } from '../../functions/getAuthToken/getAuthToken.js';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport { isCookieEnabled } from '../../functions/isCookieEnabled/isCookieEnabled.js';\nimport { useProjectSettings } from '../../../store/state/projectSettings/projectSettings.js';\nimport { updatePrimaryWalletId } from '../../functions/updatePrimaryWalletId/updatePrimaryWalletId.js';\nimport '../../../config/ApiEndpoint.js';\nimport { getUser } from '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport { refreshUserJwt } from '../../../data/api/user/user.js';\nimport { useInternalDynamicEvents } from '../events/useDynamicEvents/useDynamicEvents.js';\nimport { useEnvironmentId } from '../../../store/state/dynamicContextProps/dynamicContextProps.js';\n\nconst useRefreshUserState = () => {\n    const [isLoading, setIsLoading] = useState(true);\n    const didRefreshUserRef = useRef(false);\n    const environmentId = useEnvironmentId();\n    const projectSettings = useProjectSettings();\n    /**\n     * As an extra layer of safety, we must explicitly prevent the refresh from being called\n     * after a logout\n     */\n    const hasLoggedOut = useRef(false);\n    useInternalDynamicEvents('logout', () => (hasLoggedOut.current = true));\n    /**\n     * run this effect every time the user or project settings change\n     * but not when the process was already done.\n     */\n    useEffect(() => {\n        /**\n         * this method is called on refresh of DynamicContext and attempts to refresh local storage\n         * when cookies are enabled for the environment.\n         * the use case here is when an end user logs in to sub1.example.com and navigates to sub2.example.com.\n         * if they are signed in to sub1.example.com with a cookie for `.example.com`, but the LS is specific\n         * to sub1, then navigating to sub2 will mean they are not automatically signed in.\n         * this method attempts to fetch the user from the backend using the cookie (if aavailable), and if successful,\n         * this will ensure local storage is properly set with the user.\n         *\n         * this will also attempt to set the primaryWalletId, if the last verified credential is a wallet\n         * the user might have signed in with a wallet in the other subdomain, but the primary wallet\n         * in local storage does not carry over to other subdomains (LS is subdomain-specific),\n         * so attempt to set it here.\n         */\n        const maybeInitUserRefresh = () => __awaiter(void 0, void 0, void 0, function* () {\n            const mustRefreshUser = (() => {\n                // if user is present, we dont need to refresh anything\n                if (getUser())\n                    return false;\n                // if the user has logged out, we dont need to refresh anything\n                if (hasLoggedOut.current)\n                    return false;\n                // should run if cookie is enabled and no user is present\n                if (projectSettings && isCookieEnabled(projectSettings))\n                    return true;\n                // should run if auth token is present but no user is present and cookie is not enabled\n                return Boolean(getAuthToken());\n            })();\n            if (mustRefreshUser) {\n                // Disable all next calls to this method\n                didRefreshUserRef.current = true;\n                try {\n                    const user = yield refreshUserJwt({ environmentId });\n                    /**\n                     * attempt to set primary wallet in this subdomain because LS does not\n                     * carry over between different subdomains, even if the cookie does\n                     */\n                    const lastVerifiedWallet = user === null || user === void 0 ? void 0 : user.verifiedCredentials.find((vc) => vc.format === JwtVerifiedCredentialFormatEnum.Blockchain &&\n                        vc.id === user.lastVerifiedCredentialId);\n                    if (lastVerifiedWallet) {\n                        updatePrimaryWalletId(lastVerifiedWallet.id);\n                    }\n                }\n                catch (e) {\n                    logger.debug('Ignore failed refreshUserJwt in useRefreshUserState');\n                }\n            }\n            if (projectSettings) {\n                // only set to false if projectSettings are available,\n                // otherwise isCookieEnabled might be a false negative\n                setIsLoading(false);\n            }\n        });\n        // Ensure this effect only runs once projectSettings is available\n        if (didRefreshUserRef.current || !projectSettings)\n            return;\n        maybeInitUserRefresh();\n    }, [projectSettings, environmentId]);\n    return { isLoading };\n};\n\nexport { useRefreshUserState };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1BA;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,MAAM,sBAAsB;IACxB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,oBAAoB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IACjC,MAAM,gBAAgB,CAAA,GAAA,0OAAA,CAAA,mBAAgB,AAAD;IACrC,MAAM,kBAAkB,CAAA,GAAA,kOAAA,CAAA,qBAAkB,AAAD;IACzC;;;KAGC,GACD,MAAM,eAAe,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IAC5B,CAAA,GAAA,8OAAA,CAAA,2BAAwB,AAAD,EAAE;wDAAU,IAAO,aAAa,OAAO,GAAG;;IACjE;;;KAGC,GACD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;yCAAE;YACN;;;;;;;;;;;;;SAaC,GACD,MAAM;sEAAuB,IAAM,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK;8EAAG;4BACjE,MAAM,kBAAkB;sGAAC;oCACrB,uDAAuD;oCACvD,IAAI,CAAA,GAAA,4MAAA,CAAA,UAAO,AAAD,KACN,OAAO;oCACX,+DAA+D;oCAC/D,IAAI,aAAa,OAAO,EACpB,OAAO;oCACX,yDAAyD;oCACzD,IAAI,mBAAmB,CAAA,GAAA,sOAAA,CAAA,kBAAe,AAAD,EAAE,kBACnC,OAAO;oCACX,uFAAuF;oCACvF,OAAO,QAAQ,CAAA,GAAA,gOAAA,CAAA,eAAY,AAAD;gCAC9B;6BAAC;4BACD,IAAI,iBAAiB;gCACjB,wCAAwC;gCACxC,kBAAkB,OAAO,GAAG;gCAC5B,IAAI;oCACA,MAAM,OAAO,MAAM,CAAA,GAAA,yMAAA,CAAA,iBAAc,AAAD,EAAE;wCAAE;oCAAc;oCAClD;;;qBAGC,GACD,MAAM,qBAAqB,SAAS,QAAQ,SAAS,KAAK,IAAI,KAAK,IAAI,KAAK,mBAAmB,CAAC,IAAI;8FAAC,CAAC,KAAO,GAAG,MAAM,KAAK,8MAAA,CAAA,kCAA+B,CAAC,UAAU,IACjK,GAAG,EAAE,KAAK,KAAK,wBAAwB;;oCAC3C,IAAI,oBAAoB;wCACpB,CAAA,GAAA,kPAAA,CAAA,wBAAqB,AAAD,EAAE,mBAAmB,EAAE;oCAC/C;gCACJ,EACA,OAAO,GAAG;oCACN,8LAAA,CAAA,SAAM,CAAC,KAAK,CAAC;gCACjB;4BACJ;4BACA,IAAI,iBAAiB;gCACjB,sDAAsD;gCACtD,sDAAsD;gCACtD,aAAa;4BACjB;wBACJ;;;YACA,iEAAiE;YACjE,IAAI,kBAAkB,OAAO,IAAI,CAAC,iBAC9B;YACJ;QACJ;wCAAG;QAAC;QAAiB;KAAc;IACnC,OAAO;QAAE;IAAU;AACvB","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 14856, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useEndUserWarning/useEndUserWarning.js"],"sourcesContent":["'use client'\nimport { useEffect } from 'react';\nimport { EnvironmentEnum } from '@dynamic-labs/sdk-api-core';\nimport { logger } from '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\n\nlet didLog = false;\nconst useEndUserWarning = ({ suppress = false, projectSettings, }) => {\n    useEffect(() => {\n        var _a;\n        if (!suppress &&\n            !didLog &&\n            (projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.environmentName) === EnvironmentEnum.Live) {\n            didLog = true;\n            logger.info('%cWarning!', 'color: red; font-size: 32px;');\n            logger.info('%cThis is a browser feature intended for developers. You are reading this message because you opened the browser console, a developer tool.\\n\\n%c1. Never share your tokens or sensitive information with anyone.\\n2. Do not paste any code you do not fully understand.\\n3. If someone instructed you to do this, it is likely a scam.\\n\\n%cInjecting code into your browser could result in loss of tokens or control of your account that cannot be recovered or protected.', 'font-size: 16px;', 'font-size: 12px;', 'color: red; font-size: 12px;');\n            if (((_a = projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.general) === null || _a === void 0 ? void 0 : _a.supportUrls) &&\n                Object.values(projectSettings.general.supportUrls).length > 0) {\n                logger.info(`%cFor more information, visit ${Object.values(projectSettings.general.supportUrls)[0]}`, 'font-size: 12px;');\n            }\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.environmentName, suppress]);\n};\n\nexport { useEndUserWarning };\n"],"names":[],"mappings":";;;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;;;;;;;;;;;;;AAcA,IAAI,SAAS;AACb,MAAM,oBAAoB,CAAC,EAAE,WAAW,KAAK,EAAE,eAAe,EAAG;IAC7D,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;uCAAE;YACN,IAAI;YACJ,IAAI,CAAC,YACD,CAAC,UACD,CAAC,oBAAoB,QAAQ,oBAAoB,KAAK,IAAI,KAAK,IAAI,gBAAgB,eAAe,MAAM,8LAAA,CAAA,kBAAe,CAAC,IAAI,EAAE;gBAC9H,SAAS;gBACT,8LAAA,CAAA,SAAM,CAAC,IAAI,CAAC,cAAc;gBAC1B,8LAAA,CAAA,SAAM,CAAC,IAAI,CAAC,kdAAkd,oBAAoB,oBAAoB;gBACtgB,IAAI,CAAC,CAAC,KAAK,oBAAoB,QAAQ,oBAAoB,KAAK,IAAI,KAAK,IAAI,gBAAgB,OAAO,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,WAAW,KACrJ,OAAO,MAAM,CAAC,gBAAgB,OAAO,CAAC,WAAW,EAAE,MAAM,GAAG,GAAG;oBAC/D,8LAAA,CAAA,SAAM,CAAC,IAAI,CAAC,CAAC,8BAA8B,EAAE,OAAO,MAAM,CAAC,gBAAgB,OAAO,CAAC,WAAW,CAAC,CAAC,EAAE,EAAE,EAAE;gBAC1G;YACJ;QACA,uDAAuD;QAC3D;sCAAG;QAAC,oBAAoB,QAAQ,oBAAoB,KAAK,IAAI,KAAK,IAAI,gBAAgB,eAAe;QAAE;KAAS;AACpH","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 14912, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useDeviceFingerprint/useDeviceFingerprint.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useCallback } from 'react';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport { DEVICE_FINGERPRINT } from '../../constants/localStorage.js';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport { useLocalStorage } from '../../../shared/utils/hooks/useLocalStorage/useLocalStorage.js';\nimport '../../../shared/consts/index.js';\nimport { usePromise } from '../usePromise/usePromise.js';\n\nconst useDeviceFingerprint = () => {\n    const [lsFingerprint, setLsFingerprint] = useLocalStorage(DEVICE_FINGERPRINT, undefined);\n    const fingerprintExists = lsFingerprint !== '' && lsFingerprint !== undefined ? true : false;\n    usePromise(() => __awaiter(void 0, void 0, void 0, function* () {\n        if (typeof window === 'undefined' || typeof document === 'undefined')\n            return undefined;\n        return import('@thumbmarkjs/thumbmarkjs')\n            .then((thumbmark) => thumbmark.getFingerprint())\n            .catch(() => undefined);\n    }), {\n        deps: [fingerprintExists],\n        enabled: !fingerprintExists,\n        initialData: undefined,\n        onResolve: setLsFingerprint,\n        retries: 2,\n    });\n    const consumeDeviceFingerprint = useCallback(() => {\n        const deviceFingerprint = lsFingerprint;\n        return deviceFingerprint;\n    }, [lsFingerprint]);\n    return {\n        consumeDeviceFingerprint: () => consumeDeviceFingerprint(),\n    };\n};\n\nexport { useDeviceFingerprint };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;;;;;;;;;;;;;;;;;AAkBA,MAAM,uBAAuB;IACzB,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,4OAAA,CAAA,kBAAe,AAAD,EAAE,gNAAA,CAAA,qBAAkB,EAAE;IAC9E,MAAM,oBAAoB,kBAAkB,MAAM,kBAAkB,YAAY,OAAO;IACvF,CAAA,GAAA,wNAAA,CAAA,aAAU,AAAD;2CAAE,IAAM,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK;mDAAG;oBAC/C,IAAI,OAAO,WAAW,eAAe,OAAO,aAAa,aACrD,OAAO;oBACX,OAAO,kKACF,IAAI;2DAAC,CAAC,YAAc,UAAU,cAAc;0DAC5C,KAAK;2DAAC,IAAM;;gBACrB;;0CAAI;QACA,MAAM;YAAC;SAAkB;QACzB,SAAS,CAAC;QACV,aAAa;QACb,WAAW;QACX,SAAS;IACb;IACA,MAAM,2BAA2B,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;sEAAE;YACzC,MAAM,oBAAoB;YAC1B,OAAO;QACX;qEAAG;QAAC;KAAc;IAClB,OAAO;QACH,0BAA0B,IAAM;IACpC;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 14990, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useAggregateWalletEvents/useAggregateWalletEvents.js"],"sourcesContent":["'use client'\nimport { useInternalUserWallets } from '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport { getPrimaryWalletId } from '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport { useInternalDynamicEvents } from '../events/useDynamicEvents/useDynamicEvents.js';\nimport { dynamicEvents } from '../../../events/dynamicEvents.js';\n\nconst useAggregateWalletEvents = () => {\n    const { userWallets } = useInternalUserWallets();\n    const findPrimaryWallet = (wallets) => wallets.find((wallet) => wallet.id === getPrimaryWalletId());\n    useInternalDynamicEvents('walletAdded', (wallet, userWallets) => {\n        dynamicEvents.emit('userWalletsChanged', {\n            addedWallet: wallet,\n            primaryWallet: findPrimaryWallet(userWallets),\n            updateType: 'walletAdded',\n            userWallets,\n        });\n    });\n    useInternalDynamicEvents('walletRemoved', (wallet, userWallets) => {\n        dynamicEvents.emit('userWalletsChanged', {\n            primaryWallet: findPrimaryWallet(userWallets),\n            removedWallet: wallet,\n            updateType: 'walletRemoved',\n            userWallets,\n        });\n    });\n    useInternalDynamicEvents('primaryWalletChanged', (newPrimaryWallet) => {\n        dynamicEvents.emit('userWalletsChanged', {\n            primaryWallet: newPrimaryWallet,\n            updateType: 'primaryWalletChanged',\n            userWallets,\n        });\n    });\n    useInternalDynamicEvents('primaryWalletNetworkChanged', (newNetwork) => {\n        dynamicEvents.emit('userWalletsChanged', {\n            newNetwork,\n            primaryWallet: findPrimaryWallet(userWallets),\n            updateType: 'primaryWalletNetworkChanged',\n            userWallets,\n        });\n    });\n    useInternalDynamicEvents('nonPrimaryWalletNetworkChanged', (newNetwork, connector) => {\n        const affectedWallets = userWallets.filter((wallet) => wallet.connector.key === connector.key);\n        dynamicEvents.emit('userWalletsChanged', {\n            affectedWallets,\n            newNetwork,\n            primaryWallet: findPrimaryWallet(userWallets),\n            updateType: 'nonPrimaryWalletNetworkChanged',\n            userWallets,\n        });\n    });\n};\n\nexport { useAggregateWalletEvents };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AAJA;;;;;AAMA,MAAM,2BAA2B;IAC7B,MAAM,EAAE,WAAW,EAAE,GAAG,CAAA,GAAA,iOAAA,CAAA,yBAAsB,AAAD;IAC7C,MAAM,oBAAoB,CAAC,UAAY,QAAQ,IAAI,CAAC,CAAC,SAAW,OAAO,EAAE,KAAK,CAAA,GAAA,kOAAA,CAAA,qBAAkB,AAAD;IAC/F,CAAA,GAAA,8OAAA,CAAA,2BAAwB,AAAD,EAAE;6DAAe,CAAC,QAAQ;YAC7C,qMAAA,CAAA,gBAAa,CAAC,IAAI,CAAC,sBAAsB;gBACrC,aAAa;gBACb,eAAe,kBAAkB;gBACjC,YAAY;gBACZ;YACJ;QACJ;;IACA,CAAA,GAAA,8OAAA,CAAA,2BAAwB,AAAD,EAAE;6DAAiB,CAAC,QAAQ;YAC/C,qMAAA,CAAA,gBAAa,CAAC,IAAI,CAAC,sBAAsB;gBACrC,eAAe,kBAAkB;gBACjC,eAAe;gBACf,YAAY;gBACZ;YACJ;QACJ;;IACA,CAAA,GAAA,8OAAA,CAAA,2BAAwB,AAAD,EAAE;6DAAwB,CAAC;YAC9C,qMAAA,CAAA,gBAAa,CAAC,IAAI,CAAC,sBAAsB;gBACrC,eAAe;gBACf,YAAY;gBACZ;YACJ;QACJ;;IACA,CAAA,GAAA,8OAAA,CAAA,2BAAwB,AAAD,EAAE;6DAA+B,CAAC;YACrD,qMAAA,CAAA,gBAAa,CAAC,IAAI,CAAC,sBAAsB;gBACrC;gBACA,eAAe,kBAAkB;gBACjC,YAAY;gBACZ;YACJ;QACJ;;IACA,CAAA,GAAA,8OAAA,CAAA,2BAAwB,AAAD,EAAE;6DAAkC,CAAC,YAAY;YACpE,MAAM,kBAAkB,YAAY,MAAM;qFAAC,CAAC,SAAW,OAAO,SAAS,CAAC,GAAG,KAAK,UAAU,GAAG;;YAC7F,qMAAA,CAAA,gBAAa,CAAC,IAAI,CAAC,sBAAsB;gBACrC;gBACA;gBACA,eAAe,kBAAkB;gBACjC,YAAY;gBACZ;YACJ;QACJ;;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 15066, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useSyncOnboardingFlow/useSyncOnboardingFlow.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useRef, useEffect } from 'react';\nimport { JwtVerifiedCredentialFormatEnum } from '@dynamic-labs/sdk-api-core';\nimport { useInternalDynamicEvents } from '../events/useDynamicEvents/useDynamicEvents.js';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport { logger } from '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport { useViewContext } from '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport { hasPendingMfaAction } from '../../../shared/utils/functions/hasPendingMfaAction/hasPendingMfaAction.js';\nimport '../../../shared/consts/index.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport { useVerification } from '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport { useUserAuth } from '../useUserAuth/useUserAuth.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport { useUserUpdateRequestInternal } from '../useUserUpdateRequest/useUserUpdateRequest.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport '../../../context/WalletContext/WalletContext.js';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useSyncOnboardingFlow = ({ handler: headlessHandler, } = {}) => {\n    const { setShowAuthFlow, userWithMissingInfo, sdkHasLoaded, setSelectedWalletConnectorKey, } = useInternalDynamicContext();\n    const { pushView } = useViewContext();\n    const { updateUser } = useUserUpdateRequestInternal({\n        validationSchemaStripUnknown: false,\n    });\n    const { completeAuth, handleAuthError } = useUserAuth({});\n    const { displayedDestination: formattedPhone } = useVerification();\n    const triggeredOnboarding = useRef(false);\n    useInternalDynamicEvents('logout', () => {\n        triggeredOnboarding.current = false;\n    });\n    // this is used to trigger onboarding flow\n    // either by headless or dynamic widget\n    // it will be triggered when user has missing fields\n    // either on login or refreshing the page\n    useEffect(() => {\n        var _a;\n        const handleHeadlessOnboarding = () => __awaiter(void 0, void 0, void 0, function* () {\n            var _b;\n            if (!headlessHandler || !((_b = userWithMissingInfo === null || userWithMissingInfo === void 0 ? void 0 : userWithMissingInfo.missingFields) === null || _b === void 0 ? void 0 : _b.length)) {\n                return;\n            }\n            triggeredOnboarding.current = true;\n            try {\n                const missingFieldsRequestInput = userWithMissingInfo.missingFields.map((field) => ({\n                    isCustom: field.type === 'custom',\n                    key: field.name,\n                    label: field.label,\n                    required: field.required,\n                }));\n                const onboardingResponse = yield headlessHandler(missingFieldsRequestInput);\n                const userFields = {};\n                const customFields = Object.assign({}, userWithMissingInfo === null || userWithMissingInfo === void 0 ? void 0 : userWithMissingInfo.metadata);\n                onboardingResponse.forEach((field) => {\n                    if (field.isCustom) {\n                        customFields[field.key] = field.value;\n                    }\n                    else {\n                        userFields[field.key] = field.value;\n                    }\n                });\n                yield completeAuth({\n                    updateJwtFunction: () => __awaiter(void 0, void 0, void 0, function* () { return updateUser(Object.assign(Object.assign({}, userFields), { metadata: customFields })); }),\n                });\n            }\n            catch (error) {\n                logger.error('Error handling user onboarding', error);\n                handleAuthError(error, {});\n            }\n        });\n        const handleOnboarding = () => __awaiter(void 0, void 0, void 0, function* () {\n            triggeredOnboarding.current = true;\n            setShowAuthFlow(true);\n            const lastVerifiedCredential = userWithMissingInfo === null || userWithMissingInfo === void 0 ? void 0 : userWithMissingInfo.verifiedCredentials.find((vc) => vc.id === (userWithMissingInfo === null || userWithMissingInfo === void 0 ? void 0 : userWithMissingInfo.lastVerifiedCredentialId));\n            if (lastVerifiedCredential === null || lastVerifiedCredential === void 0 ? void 0 : lastVerifiedCredential.walletName) {\n                setSelectedWalletConnectorKey(lastVerifiedCredential === null || lastVerifiedCredential === void 0 ? void 0 : lastVerifiedCredential.walletName);\n            }\n            switch (lastVerifiedCredential === null || lastVerifiedCredential === void 0 ? void 0 : lastVerifiedCredential.format) {\n                case JwtVerifiedCredentialFormatEnum.Email:\n                case JwtVerifiedCredentialFormatEnum.Oauth:\n                    pushView('collect-user-data-login-no-wallet', {\n                        userIdentification: 'email',\n                    });\n                    break;\n                case JwtVerifiedCredentialFormatEnum.PhoneNumber:\n                    pushView('collect-user-data-login-no-wallet', {\n                        userIdentification: 'phoneNumber',\n                        userIdentificationOverride: formattedPhone,\n                    });\n                    break;\n                default:\n                    pushView('collect-user-data');\n            }\n        });\n        if (!sdkHasLoaded ||\n            triggeredOnboarding.current ||\n            !((_a = userWithMissingInfo === null || userWithMissingInfo === void 0 ? void 0 : userWithMissingInfo.missingFields) === null || _a === void 0 ? void 0 : _a.length) ||\n            hasPendingMfaAction(userWithMissingInfo)) {\n            return;\n        }\n        if (headlessHandler) {\n            handleHeadlessOnboarding();\n            return;\n        }\n        handleOnboarding();\n        return;\n    }, [\n        sdkHasLoaded,\n        userWithMissingInfo,\n        headlessHandler,\n        completeAuth,\n        updateUser,\n        setShowAuthFlow,\n        pushView,\n        formattedPhone,\n        handleAuthError,\n        setSelectedWalletConnectorKey,\n    ]);\n};\n\nexport { useSyncOnboardingFlow };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 15388, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useSyncMfaFlow/useSyncMfaFlow.js"],"sourcesContent":["'use client'\nimport { useRef, useEffect } from 'react';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport { useViewContext } from '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport { hasPendingMfaAction } from '../../../shared/utils/functions/hasPendingMfaAction/hasPendingMfaAction.js';\nimport '../../../shared/consts/index.js';\nimport { useInternalDynamicEvents } from '../events/useDynamicEvents/useDynamicEvents.js';\nimport '../../../../../_virtual/_tslib.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport { useMfa } from '../useMfa/useMfa.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\n/**\n * This hook is used to ensure we show the correct MFA view on page refresh\n */\nconst useSyncMfaFlow = ({ handler: headlessHandler, } = {}) => {\n    const { setShowAuthFlow, userWithMissingInfo, sdkHasLoaded } = useInternalDynamicContext();\n    const { pushView, clearStackAndPush } = useViewContext();\n    const { getUserDevices } = useMfa();\n    // this is used to make sure we only trigger the effect once\n    const triggered = useRef(false);\n    useInternalDynamicEvents('logout', () => {\n        triggered.current = false;\n    });\n    useEffect(() => {\n        var _a;\n        // boilterplate: we don't want to run the sync logic if the sdk hasn't finished loading,\n        // or if the effect has already been triggered\n        if (!sdkHasLoaded || triggered.current) {\n            return;\n        }\n        // this is the case when the user has fully logged in and completed all mfa steps if needed,\n        // like accepting their backup codes after enrolling\n        if (!userWithMissingInfo || !hasPendingMfaAction(userWithMissingInfo)) {\n            return;\n        }\n        triggered.current = true;\n        // if a handler is provided, we assume \"headless mode\"\n        if (headlessHandler) {\n            setShowAuthFlow(false);\n            headlessHandler();\n            return;\n        }\n        /**\n         * There are two scenarios:\n         *   1. The user has not yet completed mfa\n         *   2. The user has completed mfa, but has not yet acknowledged their backup codes\n         *\n         * In scenario 1, the user scope will contain 'requiresAdditionalAuth'. In this case, we need\n         * to show the enrollment view or verification view, depending on whether the user has devices\n         *\n         * In scenario 2, the user scope will not contain 'requiresAdditionalAuth', and the user\n         * mfaBackupCodeAcknowledgement field will be 'pending'. In this case, we need to show the\n         * backup codes view\n         */\n        setShowAuthFlow(true);\n        if ((_a = userWithMissingInfo.scope) === null || _a === void 0 ? void 0 : _a.includes('requiresAdditionalAuth')) {\n            getUserDevices().then((devices) => {\n                if (devices.length === 0) {\n                    pushView('mfa-choose-device');\n                }\n                else {\n                    pushView('mfa-verification');\n                }\n            });\n        }\n        else {\n            clearStackAndPush('mfa-display-backup-codes');\n        }\n    }, [\n        getUserDevices,\n        sdkHasLoaded,\n        setShowAuthFlow,\n        pushView,\n        userWithMissingInfo,\n        headlessHandler,\n        clearStackAndPush,\n    ]);\n};\n\nexport { useSyncMfaFlow };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;;CAEC,GACD,MAAM,iBAAiB,CAAC,EAAE,SAAS,eAAe,EAAG,GAAG,CAAC,CAAC;IACtD,MAAM,EAAE,eAAe,EAAE,mBAAmB,EAAE,YAAY,EAAE,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IACvF,MAAM,EAAE,QAAQ,EAAE,iBAAiB,EAAE,GAAG,CAAA,GAAA,mNAAA,CAAA,iBAAc,AAAD;IACrD,MAAM,EAAE,cAAc,EAAE,GAAG,CAAA,GAAA,gNAAA,CAAA,SAAM,AAAD;IAChC,4DAA4D;IAC5D,MAAM,YAAY,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IACzB,CAAA,GAAA,8OAAA,CAAA,2BAAwB,AAAD,EAAE;mDAAU;YAC/B,UAAU,OAAO,GAAG;QACxB;;IACA,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;oCAAE;YACN,IAAI;YACJ,wFAAwF;YACxF,8CAA8C;YAC9C,IAAI,CAAC,gBAAgB,UAAU,OAAO,EAAE;gBACpC;YACJ;YACA,4FAA4F;YAC5F,oDAAoD;YACpD,IAAI,CAAC,uBAAuB,CAAC,CAAA,GAAA,wPAAA,CAAA,sBAAmB,AAAD,EAAE,sBAAsB;gBACnE;YACJ;YACA,UAAU,OAAO,GAAG;YACpB,sDAAsD;YACtD,IAAI,iBAAiB;gBACjB,gBAAgB;gBAChB;gBACA;YACJ;YACA;;;;;;;;;;;SAWC,GACD,gBAAgB;YAChB,IAAI,CAAC,KAAK,oBAAoB,KAAK,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,QAAQ,CAAC,2BAA2B;gBAC7G,iBAAiB,IAAI;gDAAC,CAAC;wBACnB,IAAI,QAAQ,MAAM,KAAK,GAAG;4BACtB,SAAS;wBACb,OACK;4BACD,SAAS;wBACb;oBACJ;;YACJ,OACK;gBACD,kBAAkB;YACtB;QACJ;mCAAG;QACC;QACA;QACA;QACA;QACA;QACA;QACA;KACH;AACL","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 15655, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useSyncDynamicWaas/useSyncDynamicWaas.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useRef, useEffect } from 'react';\nimport '@dynamic-labs/sdk-api-core';\nimport { logger } from '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport { useInternalDynamicEvents } from '../events/useDynamicEvents/useDynamicEvents.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport { useProjectSettings } from '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport { useUser } from '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport { useLoadingContext } from '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport { useWalletConnectorOptions } from '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport { useDynamicWaas } from '../useDynamicWaas/useDynamicWaas.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useSyncDynamicWaas = () => {\n    const { primaryWallet, setShowAuthFlow } = useInternalDynamicContext();\n    const { loading: globalLoading } = useLoadingContext();\n    const { user } = useUser();\n    const projectSettings = useProjectSettings();\n    const walletConnectorOptions = useWalletConnectorOptions();\n    const { createWalletAccount, shouldAutoCreateDynamicWaasWallet } = useDynamicWaas();\n    const triggeredCreate = useRef(false);\n    useInternalDynamicEvents('logout', () => {\n        triggeredCreate.current = false;\n    });\n    // this is used to trigger createWalletAccount\n    // ** It must be an useEffect because some of the dependencies are async\n    useEffect(() => {\n        const syncDynamicWaas = () => __awaiter(void 0, void 0, void 0, function* () {\n            try {\n                triggeredCreate.current = true;\n                yield createWalletAccount();\n            }\n            catch (error) {\n                logger.error('Error creating dynamic waas wallet', error);\n                setShowAuthFlow(false);\n            }\n        });\n        const shouldSyncCreateWallet = shouldAutoCreateDynamicWaasWallet && !triggeredCreate.current;\n        if (!shouldSyncCreateWallet ||\n            !user ||\n            !projectSettings ||\n            !walletConnectorOptions.length || // no connectors to use for the embedded wallet\n            globalLoading // this will be true if auth is in progress\n        ) {\n            return;\n        }\n        syncDynamicWaas();\n    }, [\n        user,\n        projectSettings,\n        walletConnectorOptions,\n        globalLoading,\n        shouldAutoCreateDynamicWaasWallet,\n        setShowAuthFlow,\n        createWalletAccount,\n        primaryWallet,\n    ]);\n};\n\nexport { useSyncDynamicWaas };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA,MAAM,qBAAqB;IACvB,MAAM,EAAE,aAAa,EAAE,eAAe,EAAE,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IACnE,MAAM,EAAE,SAAS,aAAa,EAAE,GAAG,CAAA,GAAA,yNAAA,CAAA,oBAAiB,AAAD;IACnD,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,4MAAA,CAAA,UAAO,AAAD;IACvB,MAAM,kBAAkB,CAAA,GAAA,kOAAA,CAAA,qBAAkB,AAAD;IACzC,MAAM,yBAAyB,CAAA,GAAA,8NAAA,CAAA,4BAAyB,AAAD;IACvD,MAAM,EAAE,mBAAmB,EAAE,iCAAiC,EAAE,GAAG,CAAA,GAAA,gOAAA,CAAA,iBAAc,AAAD;IAChF,MAAM,kBAAkB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IAC/B,CAAA,GAAA,8OAAA,CAAA,2BAAwB,AAAD,EAAE;uDAAU;YAC/B,gBAAgB,OAAO,GAAG;QAC9B;;IACA,8CAA8C;IAC9C,wEAAwE;IACxE,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;wCAAE;YACN,MAAM;gEAAkB,IAAM,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK;wEAAG;4BAC5D,IAAI;gCACA,gBAAgB,OAAO,GAAG;gCAC1B,MAAM;4BACV,EACA,OAAO,OAAO;gCACV,8LAAA,CAAA,SAAM,CAAC,KAAK,CAAC,sCAAsC;gCACnD,gBAAgB;4BACpB;wBACJ;;;YACA,MAAM,yBAAyB,qCAAqC,CAAC,gBAAgB,OAAO;YAC5F,IAAI,CAAC,0BACD,CAAC,QACD,CAAC,mBACD,CAAC,uBAAuB,MAAM,IAAI,+CAA+C;YACjF,cAAc,2CAA2C;cAC3D;gBACE;YACJ;YACA;QACJ;uCAAG;QACC;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACH;AACL","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 15900, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useClearWalletConnectSessions/useClearWalletConnectSessions.js"],"sourcesContent":["'use client'\nimport { useCallback, useEffect } from 'react';\nimport { StorageService } from '@dynamic-labs/utils';\nimport { EMBEDDED_WALLET_SESSION_SETTINGS, EMBEDDED_WALLET_SECURE_BANNER } from '../../constants/localStorage.js';\n\nconst useClearWalletConnectSessions = ({ connectors }) => {\n    const clearAllWalletConnectSessions = useCallback(() => {\n        if (typeof window === 'undefined')\n            return;\n        for (const key of StorageService.getKeys()) {\n            if (key.startsWith('walletconnect') ||\n                key.startsWith('walletlink') ||\n                key.startsWith('wc@2')) {\n                localStorage.removeItem(key);\n            }\n        }\n        // remove embedded wallet session iframe\n        connectors === null || connectors === void 0 ? void 0 : connectors.forEach((connector) => {\n            var _a, _b, _c;\n            if ((_b = (_a = connector === null || connector === void 0 ? void 0 : connector.name) === null || _a === void 0 ? void 0 : _a.toLowerCase()) === null || _b === void 0 ? void 0 : _b.startsWith('turnkey')) {\n                (_c = connector\n                    .getAuthenticatorHandler()) === null || _c === void 0 ? void 0 : _c.clear();\n                StorageService.removeItem(EMBEDDED_WALLET_SESSION_SETTINGS);\n                StorageService.removeItem(EMBEDDED_WALLET_SECURE_BANNER);\n            }\n        });\n    }, [connectors]);\n    // Clears orphaned wallet connect sessions\n    useEffect(() => {\n        if (typeof window === 'undefined')\n            return;\n        if (connectors.length === 0)\n            return;\n        const keys = new Set(connectors.map((connector) => connector.key));\n        for (const key of StorageService.getKeys()) {\n            if (key.startsWith('walletconnect') &&\n                !keys.has(key.replace('walletconnect-', ''))) {\n                localStorage.removeItem(key);\n            }\n        }\n    }, [connectors]);\n    return { clearAllWalletConnectSessions };\n};\n\nexport { useClearWalletConnectSessions };\n"],"names":[],"mappings":";;;AACA;AACA;AAAA;AACA;AAHA;;;;AAKA,MAAM,gCAAgC,CAAC,EAAE,UAAU,EAAE;IACjD,MAAM,gCAAgC,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;oFAAE;YAC9C,IAAI,OAAO,WAAW,aAClB;YACJ,KAAK,MAAM,OAAO,oMAAA,CAAA,iBAAc,CAAC,OAAO,GAAI;gBACxC,IAAI,IAAI,UAAU,CAAC,oBACf,IAAI,UAAU,CAAC,iBACf,IAAI,UAAU,CAAC,SAAS;oBACxB,aAAa,UAAU,CAAC;gBAC5B;YACJ;YACA,wCAAwC;YACxC,eAAe,QAAQ,eAAe,KAAK,IAAI,KAAK,IAAI,WAAW,OAAO;4FAAC,CAAC;oBACxE,IAAI,IAAI,IAAI;oBACZ,IAAI,CAAC,KAAK,CAAC,KAAK,cAAc,QAAQ,cAAc,KAAK,IAAI,KAAK,IAAI,UAAU,IAAI,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,WAAW,EAAE,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,UAAU,CAAC,YAAY;wBACxM,CAAC,KAAK,UACD,uBAAuB,EAAE,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,KAAK;wBAC7E,oMAAA,CAAA,iBAAc,CAAC,UAAU,CAAC,gNAAA,CAAA,mCAAgC;wBAC1D,oMAAA,CAAA,iBAAc,CAAC,UAAU,CAAC,gNAAA,CAAA,gCAA6B;oBAC3D;gBACJ;;QACJ;mFAAG;QAAC;KAAW;IACf,0CAA0C;IAC1C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;mDAAE;YACN,IAAI,OAAO,WAAW,aAClB;YACJ,IAAI,WAAW,MAAM,KAAK,GACtB;YACJ,MAAM,OAAO,IAAI,IAAI,WAAW,GAAG;2DAAC,CAAC,YAAc,UAAU,GAAG;;YAChE,KAAK,MAAM,OAAO,oMAAA,CAAA,iBAAc,CAAC,OAAO,GAAI;gBACxC,IAAI,IAAI,UAAU,CAAC,oBACf,CAAC,KAAK,GAAG,CAAC,IAAI,OAAO,CAAC,kBAAkB,MAAM;oBAC9C,aAAa,UAAU,CAAC;gBAC5B;YACJ;QACJ;kDAAG;QAAC;KAAW;IACf,OAAO;QAAE;IAA8B;AAC3C","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 15963, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useConnectWallet/updateUserWalletsFromConnectedWallets/updateUserWalletsFromConnectedWallets.js"],"sourcesContent":["'use client'\n/**\n * This takes a userWallets and connectedWallets array, and returns a new userWallets array\n * updated to match the connectedWallets array.\n * It will add any missing wallets, update properties that don't match, and remove wallets that aren't\n * in the connectedWallets and is not linked to the user.\n */\nconst updateUserWalletsFromConnectedWallets = (userWallets, connectedWallets) => {\n    const userWalletsCopy = [...userWallets];\n    /** We will use this to find wallets addresses that were removed */\n    const newWalletsAddresses = new Set();\n    const newWalletsChains = new Set();\n    // First pass: add missing wallets and update changed properties\n    for (const connectedWallet of connectedWallets) {\n        newWalletsAddresses.add(connectedWallet.address);\n        newWalletsChains.add(connectedWallet.chain);\n        const userWallet = userWalletsCopy.find((wallet) => wallet.address === connectedWallet.address &&\n            wallet.chain === connectedWallet.chain);\n        // Catch new wallets\n        if (!userWallet) {\n            userWalletsCopy.push(connectedWallet);\n        }\n    }\n    // This filter is to remove a wallet that was previously added to userWallets but is not present\n    // among the connected wallets (it should not be removed if it's authenticated to the user tho)\n    return userWalletsCopy.filter((userWallet) => \n    // Keep wallets that are still in the new list\n    (newWalletsAddresses.has(userWallet.address) &&\n        newWalletsChains.has(userWallet.chain)) ||\n        // Or are linked to the current user\n        userWallet.isAuthenticated);\n};\n\nexport { updateUserWalletsFromConnectedWallets };\n"],"names":[],"mappings":";;;AAAA;AACA;;;;;CAKC,GACD,MAAM,wCAAwC,CAAC,aAAa;IACxD,MAAM,kBAAkB;WAAI;KAAY;IACxC,iEAAiE,GACjE,MAAM,sBAAsB,IAAI;IAChC,MAAM,mBAAmB,IAAI;IAC7B,gEAAgE;IAChE,KAAK,MAAM,mBAAmB,iBAAkB;QAC5C,oBAAoB,GAAG,CAAC,gBAAgB,OAAO;QAC/C,iBAAiB,GAAG,CAAC,gBAAgB,KAAK;QAC1C,MAAM,aAAa,gBAAgB,IAAI,CAAC,CAAC,SAAW,OAAO,OAAO,KAAK,gBAAgB,OAAO,IAC1F,OAAO,KAAK,KAAK,gBAAgB,KAAK;QAC1C,oBAAoB;QACpB,IAAI,CAAC,YAAY;YACb,gBAAgB,IAAI,CAAC;QACzB;IACJ;IACA,gGAAgG;IAChG,+FAA+F;IAC/F,OAAO,gBAAgB,MAAM,CAAC,CAAC,aAC/B,8CAA8C;QAC7C,oBAAoB,GAAG,CAAC,WAAW,OAAO,KACvC,iBAAiB,GAAG,CAAC,WAAW,KAAK,KACrC,oCAAoC;QACpC,WAAW,eAAe;AAClC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 16001, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useConnectWallet/useConnectWallet.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useState, useCallback, useEffect } from 'react';\nimport { CustomError, MissingPublicAddressError } from '@dynamic-labs/utils';\nimport { getWalletConnectorByKey, logger, isHardwareWalletConnector } from '@dynamic-labs/wallet-connector-core';\nimport { HardwareWalletEnum } from '@dynamic-labs/sdk-api-core';\nimport { useInternalUserWallets } from '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../constants/values.js';\nimport '@dynamic-labs/multi-wallet';\nimport '../../../shared/logger.js';\nimport '../../constants/colors.js';\nimport 'react-international-phone';\nimport '@dynamic-labs/iconic';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../../shared/consts/index.js';\nimport '../../../store/state/nonce/nonce.js';\nimport { shouldManuallyReconnectOnRefresh } from '../../functions/shouldManuallyReconnectOnRefresh/shouldManuallyReconnectOnRefresh.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport { updatePrimaryWalletId } from '../../functions/updatePrimaryWalletId/updatePrimaryWalletId.js';\nimport { getWalletUniqueId } from '../../functions/getWalletUniqueId/getWalletUniqueId.js';\nimport '../../../store/state/user/user.js';\nimport { createVisit } from '../../../data/api/session/session.js';\nimport '../../../locale/locale.js';\nimport { getWalletProvider } from '../../functions/getWalletProvider/getWalletProvider.js';\nimport { isConnectOnly } from '../authenticationHooks/helpers/isConnectOnly.js';\nimport { getWalletConnectorForWallet } from '../../functions/getWalletConnectorForWallet/getWalletConnectorForWallet.js';\nimport { useDebounce } from '../useDebounce/useDebounce.js';\nimport { resetPrimaryWalletId } from '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport { useConnectedWalletsInfo, setConnectedWalletsInfo } from '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport { updateUserWalletsFromConnectedWallets } from './updateUserWalletsFromConnectedWallets/updateUserWalletsFromConnectedWallets.js';\n\nconst useConnectWallet = ({ authMode, enableVisitTrackingOnConnectOnly, environmentId, primaryWalletId, walletConnectorOptions, handleConnectedWallet, setShowAuthFlow, isBridgeFlow, user, }) => {\n    const connectedWalletsInfo = useConnectedWalletsInfo();\n    const [connectedWallets, _setConnectedWallets] = useState([]);\n    const { setUserWallets, addedWalletsIds, removedWalletsIds } = useInternalUserWallets();\n    /** This wrapper is to ensure userWallets is always properly updated alongside connectedWallets */\n    const setConnectedWallets = useCallback((newWallets) => {\n        _setConnectedWallets(newWallets);\n        setUserWallets((userWallets) => updateUserWalletsFromConnectedWallets(userWallets, newWallets));\n    }, [setUserWallets]);\n    const disconnectWallet = useCallback((walletId) => __awaiter(void 0, void 0, void 0, function* () {\n        const walletToDisconnect = connectedWallets.find((wallet) => wallet.id === walletId);\n        yield (walletToDisconnect === null || walletToDisconnect === void 0 ? void 0 : walletToDisconnect.connector.endSession());\n        const updatedConnectedWalletsInfo = connectedWalletsInfo.filter((wallet) => wallet.id !== walletId);\n        setConnectedWalletsInfo(updatedConnectedWalletsInfo);\n        removedWalletsIds.current.push(walletId);\n        if (walletId !== primaryWalletId) {\n            return;\n        }\n        const hasConnectedWallet = updatedConnectedWalletsInfo.length > 0;\n        if (isBridgeFlow || !hasConnectedWallet) {\n            resetPrimaryWalletId();\n        }\n        else {\n            updatePrimaryWalletId(updatedConnectedWalletsInfo[0].id);\n        }\n    }), [\n        connectedWallets,\n        connectedWalletsInfo,\n        isBridgeFlow,\n        primaryWalletId,\n        removedWalletsIds,\n    ]);\n    // The function to update and define the connectedWallets list.\n    // It should be called on the first render, when connectedWalletsInfo updates and when walletConnectorOptions updates.\n    // To avoid unnecessary updates that are causing issues with connectors added asynchronously,\n    // we're debouncing this function\n    const updateConnectedWalletsList = useDebounce(() => __awaiter(void 0, void 0, void 0, function* () {\n        const walletConnectors = walletConnectorOptions.map((wallet) => wallet.walletConnector);\n        if (!walletConnectors.length) {\n            return;\n        }\n        const updatedConnectedWallets = (yield Promise.all(connectedWalletsInfo.map((storedConnectedWalletInfo) => __awaiter(void 0, void 0, void 0, function* () {\n            const walletConnector = getWalletConnectorByKey(walletConnectors, storedConnectedWalletInfo.walletConnectorKey);\n            if (!walletConnector) {\n                logger.error('Could not find walletConnector: ' +\n                    storedConnectedWalletInfo.walletConnectorKey);\n                yield disconnectWallet(storedConnectedWalletInfo.id);\n                return null;\n            }\n            if (isHardwareWalletConnector(walletConnector) &&\n                storedConnectedWalletInfo.hardwareWallet ===\n                    HardwareWalletEnum.Ledger) {\n                walletConnector.isHardwareWalletEnabled = true;\n            }\n            const [walletAddress] = yield walletConnector.getConnectedAccounts();\n            if (!walletAddress) {\n                yield disconnectWallet(storedConnectedWalletInfo.id);\n                return null;\n            }\n            const additionalAddresses = yield walletConnector.getAdditionalAddresses(walletAddress);\n            const walletChain = walletConnector.connectedChain;\n            const walletObject = walletConnector.createWallet({\n                additionalAddresses,\n                address: walletAddress,\n                chain: walletChain,\n                connector: walletConnector,\n                id: storedConnectedWalletInfo.id,\n                isAuthenticated: false,\n                key: walletConnector.key,\n            });\n            return walletObject;\n        })))).filter((wallet) => Boolean(wallet));\n        setConnectedWallets(updatedConnectedWallets);\n    }), 300);\n    // Generate the connectedWallets list when connectedWalletsInfo (localStorage) or memoized wallet connector updates\n    useEffect(() => {\n        updateConnectedWalletsList();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [connectedWalletsInfo, walletConnectorOptions]);\n    const updateConnectedWalletById = useCallback((walletId, walletObject) => {\n        var _a;\n        const clonedConnectedWalletsList = [...connectedWallets];\n        const connectedWalletIndex = clonedConnectedWalletsList.findIndex((connectedWallet) => connectedWallet.id === walletId);\n        if (connectedWalletIndex < 0) {\n            return;\n        }\n        clonedConnectedWalletsList[connectedWalletIndex] =\n            clonedConnectedWalletsList[connectedWalletIndex].connector.createWallet(Object.assign(Object.assign({}, clonedConnectedWalletsList[connectedWalletIndex]), { address: (_a = walletObject.address) !== null && _a !== void 0 ? _a : clonedConnectedWalletsList[connectedWalletIndex].address, connector: getWalletConnectorForWallet(clonedConnectedWalletsList[connectedWalletIndex]) }));\n        setConnectedWallets(clonedConnectedWalletsList);\n    }, [connectedWallets, setConnectedWallets]);\n    // Keeps connected wallet data inside localStorage\n    const applyConnectedWalletToStore = useCallback(({ walletId, walletConnectorKey, walletChain, provider, }) => {\n        const updatedConnectedWalletsInfo = [...connectedWalletsInfo];\n        const walletConnectors = walletConnectorOptions.map((wallet) => wallet.walletConnector);\n        const walletConnector = getWalletConnectorByKey(walletConnectors, walletConnectorKey);\n        const hardwareWallet = walletConnector &&\n            isHardwareWalletConnector(walletConnector) &&\n            walletConnector.isHardwareWalletEnabled\n            ? HardwareWalletEnum.Ledger\n            : undefined;\n        updatedConnectedWalletsInfo.push({\n            hardwareWallet,\n            id: walletId,\n            provider,\n            walletChain,\n            walletConnectorKey,\n        });\n        setConnectedWalletsInfo(updatedConnectedWalletsInfo);\n    }, [connectedWalletsInfo, walletConnectorOptions]);\n    // Updates connected wallet (network and address) and verifies connected wallet connection\n    const refreshConnectedWallet = (walletId, walletConnector) => __awaiter(void 0, void 0, void 0, function* () {\n        if (shouldManuallyReconnectOnRefresh(walletConnector)) {\n            yield walletConnector.connect();\n        }\n        const currentWalletConnectorAddress = yield walletConnector.getAddress();\n        if (currentWalletConnectorAddress && handleConnectedWallet) {\n            const shouldProceedWithConnection = yield handleConnectedWallet({\n                address: currentWalletConnectorAddress,\n                chain: walletConnector.connectedChain,\n                connector: walletConnector,\n            });\n            if (!shouldProceedWithConnection) {\n                logger.info('Connection was not established because handleConnectedWallet returned false');\n                disconnectWallet(walletId);\n                setShowAuthFlow(false, { emitCancelAuth: true });\n                return;\n            }\n        }\n        updateConnectedWalletById(walletId, {\n            address: currentWalletConnectorAddress,\n        });\n    });\n    const connectWallet = useCallback((walletConnector, getAddressOpts, options) => __awaiter(void 0, void 0, void 0, function* () {\n        const { applyHandleConnectedWallet = true } = options !== null && options !== void 0 ? options : {};\n        let walletAddress;\n        try {\n            walletAddress = yield walletConnector.getAddress(getAddressOpts);\n        }\n        catch (error) {\n            if (error instanceof CustomError) {\n                throw error;\n            }\n        }\n        // Throw a generic error for any errors we're not processing above\n        if (!walletAddress) {\n            throw new MissingPublicAddressError();\n        }\n        if (handleConnectedWallet && applyHandleConnectedWallet) {\n            const shouldProceedWithConnection = yield handleConnectedWallet({\n                address: walletAddress,\n                chain: walletConnector.connectedChain,\n                connector: walletConnector,\n            });\n            if (!shouldProceedWithConnection) {\n                logger.info('Connection was not established because handleConnectedWallet returned false');\n                setShowAuthFlow(false);\n                return;\n            }\n        }\n        const isWalletStored = connectedWalletsInfo.some(({ walletConnectorKey: storedWalletConnectorKey }) => storedWalletConnectorKey === walletConnector.key);\n        const walletChain = walletConnector.connectedChain;\n        const shouldCreateVisit = !isWalletStored &&\n            (authMode !== 'connect-only' || enableVisitTrackingOnConnectOnly);\n        if (shouldCreateVisit) {\n            // send information to backend to kick off background jobs\n            // so verify/sign on the next step could go by more quickly\n            // this is async work, but DO NOT AWAIT\n            createVisit({\n                authMode,\n                chain: walletChain || '',\n                environmentId,\n                publicWalletAddress: walletAddress,\n                walletName: walletConnector.key,\n                walletProvider: getWalletProvider(walletConnector),\n            });\n        }\n        // On connect and sign, we don't want to add this wallet to userWallets\n        // until it has been signed. Therefore, we don't add it to\n        // the connectedWallets array because userWallets draws from it.\n        // In this scenario we only need the wallet address, since the id will come from somewhere else.\n        // In fact, there is a refactor planned to never use the connect-wallet-X ids anymore:\n        // https://linear.app/dynamic-labs/issue/QNTM-784/rework-the-way-we-compute-wallet-ids\n        if (!isConnectOnly(user, authMode))\n            return { address: walletAddress, id: '' };\n        const walletId = getWalletUniqueId({\n            address: walletAddress,\n            chain: walletConnector.connectedChain,\n            connectorKey: walletConnector.key,\n        });\n        if (!primaryWalletId) {\n            updatePrimaryWalletId(walletId);\n        }\n        addedWalletsIds.current.push(walletId);\n        if (isWalletStored) {\n            yield updateConnectedWalletsList();\n        }\n        else {\n            applyConnectedWalletToStore({\n                provider: getWalletProvider(walletConnector),\n                walletAddress: walletAddress,\n                walletChain,\n                walletConnectorKey: walletConnector.key,\n                walletId,\n            });\n        }\n        return { address: walletAddress, id: walletId };\n    }), [\n        addedWalletsIds,\n        applyConnectedWalletToStore,\n        authMode,\n        connectedWalletsInfo,\n        enableVisitTrackingOnConnectOnly,\n        environmentId,\n        handleConnectedWallet,\n        primaryWalletId,\n        setShowAuthFlow,\n        updateConnectedWalletsList,\n        user,\n    ]);\n    const getConnectedWalletById = useCallback((walletId) => connectedWallets.find((wallet) => wallet.id === walletId), [connectedWallets]);\n    return {\n        connectWallet,\n        connectedWallets,\n        connectedWalletsInfo,\n        disconnectWallet,\n        getConnectedWalletById,\n        refreshConnectedWallet,\n    };\n};\n\nexport { useConnectWallet };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 16369, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useFetchWalletsForChainsMap/useFetchWalletsForChainsMap.js"],"sourcesContent":["'use client'\nimport { useMemo } from 'react';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport { defaultWalletsForChains } from '../../../shared/consts/index.js';\n\nconst useFetchWalletsForChainsMap = (propsWalletsChainsMap) => {\n    const walletsForChainsMap = useMemo(() => {\n        if (!propsWalletsChainsMap) {\n            return defaultWalletsForChains;\n        }\n        return Object.assign(Object.assign({}, defaultWalletsForChains), { primary_chain: propsWalletsChainsMap.primary_chain, wallets: Object.assign(Object.assign({}, defaultWalletsForChains.wallets), (Boolean(propsWalletsChainsMap.wallets) &&\n                propsWalletsChainsMap.wallets)) });\n    }, [propsWalletsChainsMap]);\n    return { walletsForChainsMap };\n};\n\nexport { useFetchWalletsForChainsMap };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;;;;;;;;;;;;;AAcA,MAAM,8BAA8B,CAAC;IACjC,MAAM,sBAAsB,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;oEAAE;YAChC,IAAI,CAAC,uBAAuB;gBACxB,OAAO,uMAAA,CAAA,0BAAuB;YAClC;YACA,OAAO,OAAO,MAAM,CAAC,OAAO,MAAM,CAAC,CAAC,GAAG,uMAAA,CAAA,0BAAuB,GAAG;gBAAE,eAAe,sBAAsB,aAAa;gBAAE,SAAS,OAAO,MAAM,CAAC,OAAO,MAAM,CAAC,CAAC,GAAG,uMAAA,CAAA,0BAAuB,CAAC,OAAO,GAAI,QAAQ,sBAAsB,OAAO,KAChO,sBAAsB,OAAO;YAAG;QAC5C;mEAAG;QAAC;KAAsB;IAC1B,OAAO;QAAE;IAAoB;AACjC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 16422, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useGlobalLoading/useGlobalLoading.js"],"sourcesContent":["'use client'\nimport { useRef, useMemo } from 'react';\nimport { isWalletBookPopulated } from '@dynamic-labs/wallet-book';\nimport { logger } from '../../../shared/logger.js';\nimport { lastAuthenticatedAccount } from '../../../shared/utils/functions/lastAuthenticatedAccount/index.js';\nimport { shouldFetchNonce } from '../../../shared/utils/functions/shouldFetchNonce/shouldFetchNonce.js';\nimport { useLoadingAndLifecycle } from '../../../store/state/loadingAndLifecycle.js';\n\nconst useGlobalLoading = ({ authMode, connectedInfo, connectedWallets, projectSettings, primaryWalletId, primaryWallet, user, isUserLoading, walletBook, enableInstrumentation, appName, environmentId, nonce, }) => {\n    var _a;\n    // Once we declare the SDK as loaded, we do not ever want to flip back to false\n    const hasLoaded = useRef(false);\n    const loadingStart = useRef(new Date().getTime());\n    const { sessionValidation } = useLoadingAndLifecycle();\n    const isFetchingNonce = useMemo(() => shouldFetchNonce({\n        authMode,\n    }) && !nonce, [authMode, nonce]);\n    const finishLoading = () => {\n        if (hasLoaded.current)\n            return;\n        hasLoaded.current = true;\n        logger.debug('[useGlobalLoading] SDK finished loading', {\n            authMode,\n            enableInstrumentation,\n            primaryWallet,\n            user,\n        });\n        // Calculate how long loading took and emit log\n        if (enableInstrumentation) {\n            const loadingTime = new Date().getTime() - loadingStart.current;\n            // Pass as default arg and as an object. The object value will be injected\n            // in the log later on, keeping its format as a number for calculation purposes\n            logger.instrument(`SDK loaded in (ms) ${loadingTime}`, {\n                appName,\n                environmentId,\n                key: 'sdkHasLoaded',\n                primaryWalletId,\n                time: loadingTime,\n                userId: user === null || user === void 0 ? void 0 : user.userId,\n            });\n        }\n    };\n    if (hasLoaded.current)\n        return true;\n    const isWalletBookLoading = !isWalletBookPopulated(walletBook);\n    const isProjectSettingsLoading = !projectSettings;\n    const shouldHavePrimaryWallet = primaryWalletId ||\n        (user && ((_a = lastAuthenticatedAccount(user)) === null || _a === void 0 ? void 0 : _a.format) === 'blockchain');\n    const isPrimaryWalletLoading = Boolean(shouldHavePrimaryWallet && !primaryWallet);\n    const isConnectOnlyWalletsLoading = authMode === 'connect-only' &&\n        connectedInfo &&\n        connectedWallets.length === 0;\n    const isValidatingSession = !sessionValidation;\n    logger.logVerboseTroubleshootingMessage('[useGlobalLoading] SDK loading', {\n        isConnectOnlyWalletsLoading,\n        isFetchingNonce,\n        isPrimaryWalletLoading,\n        isProjectSettingsLoading,\n        isUserLoading,\n        isValidatingSession,\n        isWalletBookLoading,\n    });\n    if (!isWalletBookLoading &&\n        !isProjectSettingsLoading &&\n        !isUserLoading &&\n        !isPrimaryWalletLoading &&\n        !isConnectOnlyWalletsLoading &&\n        !isValidatingSession &&\n        !isFetchingNonce) {\n        finishLoading();\n    }\n    return hasLoaded.current;\n};\n\nexport { useGlobalLoading };\n"],"names":[],"mappings":";;;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQA,MAAM,mBAAmB,CAAC,EAAE,QAAQ,EAAE,aAAa,EAAE,gBAAgB,EAAE,eAAe,EAAE,eAAe,EAAE,aAAa,EAAE,IAAI,EAAE,aAAa,EAAE,UAAU,EAAE,qBAAqB,EAAE,OAAO,EAAE,aAAa,EAAE,KAAK,EAAG;IAC5M,IAAI;IACJ,+EAA+E;IAC/E,MAAM,YAAY,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE;IACzB,MAAM,eAAe,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAE,IAAI,OAAO,OAAO;IAC9C,MAAM,EAAE,iBAAiB,EAAE,GAAG,CAAA,GAAA,mNAAA,CAAA,yBAAsB,AAAD;IACnD,MAAM,kBAAkB,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;qDAAE,IAAM,CAAA,GAAA,kPAAA,CAAA,mBAAgB,AAAD,EAAE;gBACnD;YACJ,MAAM,CAAC;oDAAO;QAAC;QAAU;KAAM;IAC/B,MAAM,gBAAgB;QAClB,IAAI,UAAU,OAAO,EACjB;QACJ,UAAU,OAAO,GAAG;QACpB,8LAAA,CAAA,SAAM,CAAC,KAAK,CAAC,2CAA2C;YACpD;YACA;YACA;YACA;QACJ;QACA,+CAA+C;QAC/C,IAAI,uBAAuB;YACvB,MAAM,cAAc,IAAI,OAAO,OAAO,KAAK,aAAa,OAAO;YAC/D,0EAA0E;YAC1E,+EAA+E;YAC/E,8LAAA,CAAA,SAAM,CAAC,UAAU,CAAC,CAAC,mBAAmB,EAAE,aAAa,EAAE;gBACnD;gBACA;gBACA,KAAK;gBACL;gBACA,MAAM;gBACN,QAAQ,SAAS,QAAQ,SAAS,KAAK,IAAI,KAAK,IAAI,KAAK,MAAM;YACnE;QACJ;IACJ;IACA,IAAI,UAAU,OAAO,EACjB,OAAO;IACX,MAAM,sBAAsB,CAAC,CAAA,GAAA,iMAAA,CAAA,wBAAqB,AAAD,EAAE;IACnD,MAAM,2BAA2B,CAAC;IAClC,MAAM,0BAA0B,mBAC3B,QAAQ,CAAC,CAAC,KAAK,CAAA,GAAA,+OAAA,CAAA,2BAAwB,AAAD,EAAE,KAAK,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,MAAM,MAAM;IACxG,MAAM,yBAAyB,QAAQ,2BAA2B,CAAC;IACnE,MAAM,8BAA8B,aAAa,kBAC7C,iBACA,iBAAiB,MAAM,KAAK;IAChC,MAAM,sBAAsB,CAAC;IAC7B,8LAAA,CAAA,SAAM,CAAC,gCAAgC,CAAC,kCAAkC;QACtE;QACA;QACA;QACA;QACA;QACA;QACA;IACJ;IACA,IAAI,CAAC,uBACD,CAAC,4BACD,CAAC,iBACD,CAAC,0BACD,CAAC,+BACD,CAAC,uBACD,CAAC,iBAAiB;QAClB;IACJ;IACA,OAAO,UAAU,OAAO;AAC5B","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 16505, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useWalletEventListeners/useWalletEventListeners.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useCallback, useMemo } from 'react';\nimport { isSameAddress } from '@dynamic-labs/wallet-connector-core';\nimport '@dynamic-labs/sdk-api-core';\nimport { logger } from '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport { useInternalDynamicEvents } from '../events/useDynamicEvents/useDynamicEvents.js';\nimport { useWalletConnectorEvent } from '../events/useWalletConnectorEvent/useWalletConnectorEvent.js';\nimport { dynamicEvents } from '../../../events/dynamicEvents.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport { updatePrimaryWalletId } from '../../functions/updatePrimaryWalletId/updatePrimaryWalletId.js';\n\nconst useWalletEventListeners = ({ disconnectWallet, handleLogOut, multiWallet, multiWalletWidgetState, primaryWallet, secondaryWallets, selectedWalletConnector, selectedWalletWithAction, setSelectedWalletConnectorKey, setSelectedWalletWithAction, setMultiWalletWidgetState, user, authMode, refreshConnectedWallet, detectNewWalletsForLinking, }) => {\n    const handleAccountChangeWhenAwaitingAccountSwitch = useCallback((isPrimaryWallet, newAddress) => {\n        logger.debug('handleAccountChangeWhenAwaitingAccountSwitch', {\n            isPrimaryWallet,\n            newAddress,\n        });\n        const linkedSecondaryWallet = secondaryWallets.find((wallet) => isSameAddress(wallet.address, newAddress, wallet.chain));\n        logger.logVerboseTroubleshootingMessage('[handleAccountChangeWhenAwaitingAccountSwitch]', { linkedSecondaryWallet });\n        // this means the user is linking a new account, so we need proof of ownership...\n        if (!linkedSecondaryWallet) {\n            setMultiWalletWidgetState('awaiting_signature', undefined, 'linking_new_wallet');\n            if (isPrimaryWallet && primaryWallet) {\n                setSelectedWalletConnectorKey(primaryWallet.connector.key);\n            }\n            return;\n        }\n        if (!linkedSecondaryWallet.connector.isAvailable) {\n            //prompt the user to connect and sign with the wallet\n            dynamicEvents.emit('triggerConnectAndSign');\n            return;\n        }\n        // ...otherwise, the user is switching primary accounts betweeen the same wallet\n        setSelectedWalletWithAction(null);\n        updatePrimaryWalletId(linkedSecondaryWallet.id);\n        setMultiWalletWidgetState('idle');\n    }, [\n        setMultiWalletWidgetState,\n        primaryWallet,\n        secondaryWallets,\n        setSelectedWalletConnectorKey,\n        setSelectedWalletWithAction,\n    ]);\n    const calculatePrimaryWalletMultiWalletStateFromAccounts = useCallback(({ accounts }) => {\n        logger.debug('calculatePrimaryWalletMultiWalletStateFromAccounts', {\n            accounts,\n            authMode,\n            multiWallet,\n            multiWalletWidgetState,\n            primaryWallet,\n        });\n        // change the api here\n        if (!primaryWallet)\n            return;\n        const [newAddress] = accounts;\n        const changedAddress = !isSameAddress(newAddress, primaryWallet.address, primaryWallet.chain);\n        if (!changedAddress) {\n            setMultiWalletWidgetState('idle');\n            return;\n        }\n        if (authMode === 'connect-only') {\n            refreshConnectedWallet(primaryWallet.id, primaryWallet.connector);\n            return;\n        }\n        if (!multiWallet) {\n            return;\n        }\n        if (multiWalletWidgetState === 'awaiting_account_switch') {\n            handleAccountChangeWhenAwaitingAccountSwitch(true, newAddress);\n            return;\n        }\n        if (multiWalletWidgetState !== 'idle') {\n            logger.error(`Unexpected multiWalletWidgetState (${multiWalletWidgetState}) and onAccountChange combination. Resetting state to idle.`);\n            setMultiWalletWidgetState('idle');\n        }\n        const newWallet = secondaryWallets.find((wallet) => isSameAddress(wallet.address, newAddress, wallet.chain));\n        if (newWallet) {\n            updatePrimaryWalletId(newWallet.id);\n            return;\n        }\n        if (user && detectNewWalletsForLinking) {\n            setMultiWalletWidgetState('detected_new_wallet');\n            setSelectedWalletConnectorKey(primaryWallet.connector.key);\n        }\n    }, [\n        authMode,\n        detectNewWalletsForLinking,\n        handleAccountChangeWhenAwaitingAccountSwitch,\n        multiWallet,\n        multiWalletWidgetState,\n        primaryWallet,\n        refreshConnectedWallet,\n        secondaryWallets,\n        setMultiWalletWidgetState,\n        setSelectedWalletConnectorKey,\n        user,\n    ]);\n    useInternalDynamicEvents('triggerComputePrimaryWalletMultiWalletStateFromAccounts', calculatePrimaryWalletMultiWalletStateFromAccounts);\n    useWalletConnectorEvent(primaryWallet === null || primaryWallet === void 0 ? void 0 : primaryWallet.connector, 'accountChange', ({ accounts }) => {\n        logger.debug('primary wallet account change', {\n            accounts,\n        });\n        calculatePrimaryWalletMultiWalletStateFromAccounts({ accounts });\n    });\n    const uniqueNonPrimaryWallets = useMemo(() => {\n        const primaryConnector = primaryWallet === null || primaryWallet === void 0 ? void 0 : primaryWallet.connector;\n        const secondaryConnectors = secondaryWallets.map(({ connector }) => connector);\n        const allWalletConnectors = new Set([\n            ...secondaryConnectors,\n            primaryConnector,\n            selectedWalletConnector,\n        ].filter((connector) => Boolean(connector)));\n        if (primaryConnector) {\n            allWalletConnectors.delete(primaryConnector);\n        }\n        return Array.from(allWalletConnectors);\n    }, [secondaryWallets, selectedWalletConnector, primaryWallet === null || primaryWallet === void 0 ? void 0 : primaryWallet.connector]);\n    useWalletConnectorEvent(uniqueNonPrimaryWallets, 'accountChange', (_, changedConnector) => __awaiter(void 0, void 0, void 0, function* () {\n        logger.debug('secondary wallet account change');\n        if (authMode === 'connect-only' && secondaryWallets.length) {\n            const affectedWallets = secondaryWallets.filter(({ connector }) => connector.key === changedConnector.key);\n            for (const wallet of affectedWallets)\n                refreshConnectedWallet(wallet.id, wallet.connector);\n            return;\n        }\n        if (multiWalletWidgetState === 'awaiting_account_switch') {\n            handleAccountChangeWhenAwaitingAccountSwitch(false, (selectedWalletWithAction === null || selectedWalletWithAction === void 0 ? void 0 : selectedWalletWithAction.wallet.address) || '');\n        }\n    }));\n    useWalletConnectorEvent(primaryWallet === null || primaryWallet === void 0 ? void 0 : primaryWallet.connector, 'disconnect', () => {\n        logger.debug('primary wallet disconnect');\n        if (authMode === 'connect-only') {\n            handleLogOut();\n        }\n    });\n    useWalletConnectorEvent(uniqueNonPrimaryWallets, 'disconnect', (affectedConnector) => {\n        logger.debug('secondary wallet disconnect');\n        if (authMode === 'connect-only') {\n            // Get all wallets with this connector\n            const affectedWallets = secondaryWallets.filter(({ connector }) => connector.key === affectedConnector.key);\n            for (const wallet of affectedWallets) {\n                disconnectWallet(wallet.id);\n            }\n        }\n    });\n    useWalletConnectorEvent(uniqueNonPrimaryWallets, 'chainChange', ({ chain }, connector) => {\n        dynamicEvents.emit('nonPrimaryWalletNetworkChanged', chain, connector);\n    });\n};\n\nexport { useWalletEventListeners };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 16733, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useConnectedWalletsNetworkValidation/useConnectedWalletsNetworkValidation.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useCallback, useMemo, useEffect } from 'react';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport { useViewContext } from '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport { useWalletConnectorEvent } from '../events/useWalletConnectorEvent/useWalletConnectorEvent.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport { isProgrammableNetworkSwitchSupported } from '../../functions/isProgrammableNetworkSwitchSupported/isProgrammableNetworkSwitchSupported.js';\nimport { isSupportedNetwork } from '../../functions/isSupportedNetwork/isSupportedNetwork.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport { useIsLoggedIn } from '../useIsLoggedIn/useIsLoggedIn.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useConnectedWalletsNetworkValidation = () => {\n    const { connectedWallets, selectedWalletConnector, setSelectedWalletConnectorKey, setShowAuthFlow, bridgeChainsToConnect, sdkHasLoaded, } = useInternalDynamicContext();\n    const { pushView } = useViewContext();\n    const isLoggedIn = useIsLoggedIn();\n    const getConnectedWalletsWithInvalidNetwork = useCallback(() => __awaiter(void 0, void 0, void 0, function* () {\n        const connectedWalletsWithInvalidNetwork = [];\n        for (const connectedWallet of connectedWallets) {\n            const isChainInWalletsToConnect = bridgeChainsToConnect === null || bridgeChainsToConnect === void 0 ? void 0 : bridgeChainsToConnect.some((walletToConnectByChain) => walletToConnectByChain.chain === connectedWallet.chain);\n            const network = yield connectedWallet.connector.getNetwork(true);\n            const isSupported = isSupportedNetwork({\n                network,\n                walletConnector: connectedWallet.connector,\n            });\n            if (!isChainInWalletsToConnect && !isSupported) {\n                connectedWalletsWithInvalidNetwork.push(connectedWallet);\n            }\n        }\n        return connectedWalletsWithInvalidNetwork;\n    }), [bridgeChainsToConnect, connectedWallets]);\n    const validateNetwork = useCallback(() => __awaiter(void 0, void 0, void 0, function* () {\n        const connectedWalletsWithInvalidNetwork = yield getConnectedWalletsWithInvalidNetwork();\n        if (!connectedWalletsWithInvalidNetwork.length) {\n            return;\n        }\n        // If we found wallets that require a change of network\n        // then, one by one, in the first one we require a change of network.\n        const [connectedWalletWithInvalidNetwork] = connectedWalletsWithInvalidNetwork;\n        // Keeps the first wallet connectedWallet in setSelectedWalletConnectorKey\n        // This is required because NetworkNotSupported uses walletConnector to display wallet icon, address etc.\n        if (connectedWalletWithInvalidNetwork.connector.key !==\n            (selectedWalletConnector === null || selectedWalletConnector === void 0 ? void 0 : selectedWalletConnector.key)) {\n            setSelectedWalletConnectorKey(connectedWalletWithInvalidNetwork.connector.key);\n        }\n        const networkNotSupportedView = isProgrammableNetworkSwitchSupported(connectedWalletWithInvalidNetwork.connector)\n            ? 'network-not-supported'\n            : 'network-not-supported-manual';\n        // Doesn't rerender if it's already true\n        setShowAuthFlow(true);\n        pushView(networkNotSupportedView);\n    }), [\n        getConnectedWalletsWithInvalidNetwork,\n        selectedWalletConnector === null || selectedWalletConnector === void 0 ? void 0 : selectedWalletConnector.key,\n        setSelectedWalletConnectorKey,\n        setShowAuthFlow,\n        pushView,\n    ]);\n    const uniqueConnectors = useMemo(() => {\n        const connectors = connectedWallets.map(({ connector }) => connector);\n        const allWalletConnectors = new Set([...connectors].filter((connector) => Boolean(connector)));\n        return Array.from(allWalletConnectors);\n    }, [connectedWallets]);\n    useWalletConnectorEvent(uniqueConnectors, 'chainChange', ({ chain }) => {\n        validateNetwork();\n    });\n    useEffect(() => {\n        /**\n         * This check was added to prevent the \"wrong network\" modal from appearing\n         * after logging out. It seems like on log out, there is a render where the\n         * connectedWallets hasn't been cleared out yet, so the logic in this hook\n         * runs and ends up showing the \"wrong network\" modal if the connected wallet\n         * is on an unsupported network. by checking sdkHasLoaded, we prevent this\n         * extra popup because handleLogOut flips sdkHasLoaded to false, so on the\n         * next render it will already be false.\n         */\n        if (!sdkHasLoaded || !isLoggedIn) {\n            return;\n        }\n        validateNetwork();\n    }, [sdkHasLoaded, isLoggedIn, validateNetwork]);\n};\n\nexport { useConnectedWalletsNetworkValidation };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 17030, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useDynamicScopes/useDynamicScopes.js"],"sourcesContent":["'use client'\nimport { useMemo } from 'react';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../../../_virtual/_tslib.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\n// This hook can be used to get all of the user's scopes (nft/token gates)\n// and check if the user has a specific scopes with some logic AND/OR (nft/token gate)\nconst useDynamicScopes = () => {\n    const { user } = useInternalDynamicContext();\n    const userScopes = useMemo(() => {\n        const { scope } = user || {};\n        if (!scope)\n            return [];\n        // We need to split the scopes string into an array of scopes\n        // because the scopes string is a space separated string of scopes\n        // e.g. '\"scope\": \"customerservice marketing tech\"'\n        return scope.split(' ');\n    }, [user]);\n    // If customer will set scopes to an empty string it will return false\n    const userHasScopes = (scopes, logicOperator = 'OR') => {\n        if (!scopes.length)\n            return false;\n        if (typeof scopes === 'string')\n            scopes = scopes.split(' ');\n        if (logicOperator === 'AND') {\n            // If the logic operator is AND, the user must have all of the scopes\n            // If the logic operator is OR, the user must have at least one of the scopes\n            return scopes.every((scope) => Boolean(userScopes.includes(scope)));\n        }\n        return scopes.some((scope) => Boolean(userScopes.includes(scope)));\n    };\n    return {\n        userHasScopes,\n        userScopes,\n    };\n};\n\nexport { useDynamicScopes };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA,0EAA0E;AAC1E,sFAAsF;AACtF,MAAM,mBAAmB;IACrB,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IACzC,MAAM,aAAa,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;gDAAE;YACvB,MAAM,EAAE,KAAK,EAAE,GAAG,QAAQ,CAAC;YAC3B,IAAI,CAAC,OACD,OAAO,EAAE;YACb,6DAA6D;YAC7D,kEAAkE;YAClE,mDAAmD;YACnD,OAAO,MAAM,KAAK,CAAC;QACvB;+CAAG;QAAC;KAAK;IACT,sEAAsE;IACtE,MAAM,gBAAgB,CAAC,QAAQ,gBAAgB,IAAI;QAC/C,IAAI,CAAC,OAAO,MAAM,EACd,OAAO;QACX,IAAI,OAAO,WAAW,UAClB,SAAS,OAAO,KAAK,CAAC;QAC1B,IAAI,kBAAkB,OAAO;YACzB,qEAAqE;YACrE,6EAA6E;YAC7E,OAAO,OAAO,KAAK,CAAC,CAAC,QAAU,QAAQ,WAAW,QAAQ,CAAC;QAC/D;QACA,OAAO,OAAO,IAAI,CAAC,CAAC,QAAU,QAAQ,WAAW,QAAQ,CAAC;IAC9D;IACA,OAAO;QACH;QACA;IACJ;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 17254, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useAuthenticateConnectedUser/useAuthenticateConnectedUser.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useState, useCallback } from 'react';\nimport { DynamicError } from '@dynamic-labs/utils';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport { fetchAndStoreNonce } from '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport { useSignConnectOnlyUser } from '../authenticationHooks/useSignConnectOnlyUser/useSignConnectOnlyUser.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useAuthenticateConnectedUser = () => {\n    const signConnectOnlyUser = useSignConnectOnlyUser();\n    const { connectedWallets, user } = useInternalDynamicContext();\n    const [isAuthenticating, setIsAuthenticating] = useState(false);\n    const authenticateUser = useCallback(() => __awaiter(void 0, void 0, void 0, function* () {\n        if (user) {\n            throw new DynamicError('User is already authenticated');\n        }\n        if (connectedWallets.length === 0) {\n            throw new DynamicError('No connected wallet');\n        }\n        const connectedWallet = connectedWallets[0];\n        setIsAuthenticating(true);\n        yield fetchAndStoreNonce();\n        yield signConnectOnlyUser({\n            walletConnector: connectedWallet.connector,\n        });\n        setIsAuthenticating(false);\n    }), [connectedWallets, signConnectOnlyUser, user]);\n    return { authenticateUser, isAuthenticating };\n};\n\nexport { useAuthenticateConnectedUser };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA,MAAM,+BAA+B;IACjC,MAAM,sBAAsB,CAAA,GAAA,uQAAA,CAAA,yBAAsB,AAAD;IACjD,MAAM,EAAE,gBAAgB,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IAC3D,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzD,MAAM,mBAAmB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;sEAAE,IAAM,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK;8EAAG;oBACzE,IAAI,MAAM;wBACN,MAAM,IAAI,8KAAA,CAAA,eAAY,CAAC;oBAC3B;oBACA,IAAI,iBAAiB,MAAM,KAAK,GAAG;wBAC/B,MAAM,IAAI,8KAAA,CAAA,eAAY,CAAC;oBAC3B;oBACA,MAAM,kBAAkB,gBAAgB,CAAC,EAAE;oBAC3C,oBAAoB;oBACpB,MAAM,CAAA,GAAA,8MAAA,CAAA,qBAAkB,AAAD;oBACvB,MAAM,oBAAoB;wBACtB,iBAAiB,gBAAgB,SAAS;oBAC9C;oBACA,oBAAoB;gBACxB;;qEAAI;QAAC;QAAkB;QAAqB;KAAK;IACjD,OAAO;QAAE;QAAkB;IAAiB;AAChD","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 17481, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useTransactionSimulation/utils/utils.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../../_virtual/_tslib.js';\n\nconst generateAllFeeData = (totalFee, nativeTokenDecimals, result) => {\n    var _a;\n    return (Object.assign(Object.assign({}, result), { feeData: {\n            humanReadableAmount: calculateHumanReadableAmount(totalFee, nativeTokenDecimals),\n            nativeAmount: totalFee,\n            usdAmount: calculateFeeUsd(totalFee, (_a = result.priceData) === null || _a === void 0 ? void 0 : _a.nativeTokenUsdPrice, nativeTokenDecimals),\n        } }));\n};\n// Base Gas Price Oracle ABI\nconst gasPriceOracleAbi = [\n    {\n        inputs: [{ internalType: 'bytes', name: '_data', type: 'bytes' }],\n        name: 'getL1Fee',\n        outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n        stateMutability: 'view',\n        type: 'function',\n    },\n];\n// Helper to estimate L1 data fee for L2 chains that support it\n// only supports opStack chains currently\nconst estimateL1DataFee = (publicClient, transaction) => __awaiter(void 0, void 0, void 0, function* () {\n    // Standard OP Stack Gas Price Oracle address\n    const oracleAddress = '0x420000000000000000000000000000000000000F';\n    try {\n        // Check if the contract exists at this address\n        const code = yield publicClient.getBytecode({\n            address: oracleAddress,\n        });\n        if (!code || code === '0x') {\n            return BigInt(0);\n        }\n        const callData = transaction.data || '0x';\n        const l1Fee = yield publicClient.readContract({\n            abi: gasPriceOracleAbi,\n            address: oracleAddress,\n            args: [callData],\n            functionName: 'getL1Fee',\n        });\n        return l1Fee;\n    }\n    catch (e) {\n        return BigInt(0);\n    }\n});\nconst calculateAAFees = (userOp) => {\n    // Sum all gas units\n    const totalGasUnits = BigInt(userOp.callGasLimit || 0) +\n        BigInt(userOp.verificationGasLimit || 0) +\n        BigInt(userOp.preVerificationGas || 0);\n    // Multiply by maxFeePerGas to get the total gas cost in wei\n    const gasCost = totalGasUnits * BigInt(userOp.maxFeePerGas || 0);\n    return gasCost;\n};\nconst isSVMTransactionSponsored = (transaction, from) => {\n    var _a, _b;\n    if ('version' in transaction) {\n        return from !== ((_a = transaction.message) === null || _a === void 0 ? void 0 : _a.staticAccountKeys[0].toBase58());\n    }\n    if ('feePayer' in transaction) {\n        return from !== ((_b = transaction.feePayer) === null || _b === void 0 ? void 0 : _b.toBase58());\n    }\n    return false;\n};\nconst toDecimalString = (num, decimals) => {\n    // Convert to fixed decimal string\n    const str = num.toFixed(decimals);\n    // Remove trailing zeros after decimal point\n    const parts = str.split('.');\n    if (parts.length === 1)\n        return parts[0];\n    const decimalsWithoutTrailingZeros = parts[1].replace(/0+$/, '');\n    return decimalsWithoutTrailingZeros\n        ? `${parts[0]}.${decimalsWithoutTrailingZeros}`\n        : parts[0];\n};\nconst calculateHumanReadableAmount = (amount, decimals) => {\n    if (!amount) {\n        return undefined;\n    }\n    // Convert to decimal by dividing by 10^decimals\n    const divisor = BigInt(Math.pow(10, decimals));\n    const wholePart = amount / divisor;\n    const fractionalPart = amount % divisor;\n    // Handle the case where there's no fractional part\n    if (fractionalPart === BigInt(0)) {\n        return wholePart.toString();\n    }\n    // Pad the fractional part with leading zeros if needed\n    const fractionalStr = fractionalPart.toString().padStart(decimals, '0');\n    // Remove trailing zeros from fractional part\n    const cleanFractionalStr = fractionalStr.replace(/0+$/, '');\n    return cleanFractionalStr\n        ? `${wholePart}.${cleanFractionalStr}`\n        : wholePart.toString();\n};\nconst calculateFeeUsd = (fee, nativeTokenUsdPrice, decimals) => {\n    if (!fee || !nativeTokenUsdPrice) {\n        return undefined;\n    }\n    const humanReadableAmount = calculateHumanReadableAmount(fee, decimals);\n    if (!humanReadableAmount) {\n        return undefined;\n    }\n    const usdValue = parseFloat(humanReadableAmount) * nativeTokenUsdPrice;\n    // Use more decimals for small values, 2 decimals for larger values\n    const significantDecimals = usdValue < 0.01 ? decimals : 2;\n    return toDecimalString(usdValue, significantDecimals);\n};\nconst getFeeWithRetry = (connection, message) => __awaiter(void 0, void 0, void 0, function* () {\n    if (!(connection === null || connection === void 0 ? void 0 : connection.getFeeForMessage)) {\n        return BigInt(0);\n    }\n    let res = yield connection.getFeeForMessage(message, 'confirmed');\n    let retryCount = 0;\n    while (res.value === null && retryCount < 5) {\n        res = yield connection.getFeeForMessage(message, 'confirmed');\n        retryCount++;\n    }\n    // Convert number to bigint for Solana fees\n    return res.value ? BigInt(Number(res.value)) : BigInt(0);\n});\nconst getNativeTokenDecimals = (chain, networkConfigurations) => {\n    var _a, _b;\n    if (!chain || !networkConfigurations) {\n        return 18;\n    }\n    // the NetworkConfigurationMap uses 'solana\" not \"SOL\"\n    if (chain === 'SOL') {\n        return 9;\n    }\n    const chainConfigs = networkConfigurations[chain];\n    if (!(chainConfigs === null || chainConfigs === void 0 ? void 0 : chainConfigs.length)) {\n        return 18;\n    }\n    return ((_b = (_a = chainConfigs[0]) === null || _a === void 0 ? void 0 : _a.nativeCurrency) === null || _b === void 0 ? void 0 : _b.decimals) || 18;\n};\nconst isEthereumWallet = (wallet) => wallet.chain === 'EVM';\nconst isZeroDevConnector = (connector) => (connector === null || connector === void 0 ? void 0 : connector.key) === 'zerodev';\nconst calculateEVMFees = (publicClient, transaction) => __awaiter(void 0, void 0, void 0, function* () {\n    // Estimate gas if not provided\n    const estimatedGas = !transaction.gas\n        ? BigInt(yield publicClient.estimateGas(transaction))\n        : transaction.gas;\n    // Get current gas price which includes both base fee and priority fee\n    const gasPrice = yield publicClient.getGasPrice();\n    const l2Fee = estimatedGas * gasPrice;\n    const l1Fee = yield estimateL1DataFee(publicClient, transaction);\n    return l2Fee + l1Fee;\n});\nconst deductSVMFees = (resultWithFee) => resultWithFee.outAssets\n    .map((asset) => {\n    var _a, _b, _c, _d;\n    // Only process SOL assets with valid transferOut\n    const transferOutRawValue = (_b = (_a = asset.transferOut) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.rawValue;\n    if (asset.asset.type === 'SOL' ||\n        (asset.asset.type === 'NATIVE' && transferOutRawValue)) {\n        const [transferOut] = asset.transferOut;\n        const nativeAmountStr = (_c = resultWithFee.feeData.nativeAmount) === null || _c === void 0 ? void 0 : _c.toString();\n        // If exact match, mark for removal\n        if (nativeAmountStr && transferOutRawValue === nativeAmountStr) {\n            return null;\n        }\n        if (!transferOutRawValue) {\n            return asset;\n        }\n        // Otherwise, deduct the fee from the transfer amount\n        const nativeAmountToDeduct = resultWithFee.feeData.nativeAmount || BigInt(0);\n        const newRawValue = (BigInt(transferOutRawValue) - nativeAmountToDeduct).toString();\n        const newValue = (Number(newRawValue) / Math.pow(10, 9)).toString();\n        const newUsdPrice = (Number(newValue) * (((_d = resultWithFee.priceData) === null || _d === void 0 ? void 0 : _d.nativeTokenUsdPrice) || 0)).toString();\n        return Object.assign(Object.assign({}, asset), { transferOut: [\n                Object.assign(Object.assign({}, transferOut), { rawValue: newRawValue, summary: `Transfer ${newValue} SOL`, usdPrice: newUsdPrice, value: newValue }),\n            ] });\n    }\n    return asset;\n})\n    .filter((asset) => asset !== null);\n\nexport { calculateAAFees, calculateEVMFees, calculateFeeUsd, calculateHumanReadableAmount, deductSVMFees, estimateL1DataFee, gasPriceOracleAbi, generateAllFeeData, getFeeWithRetry, getNativeTokenDecimals, isEthereumWallet, isSVMTransactionSponsored, isZeroDevConnector };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 17693, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useTransactionSimulation/classes/useBaseTransactionSimulation.js"],"sourcesContent":["'use client'\nimport { useState, useMemo, useCallback } from 'react';\nimport '../../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport { logger } from '../../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../../constants/colors.js';\nimport '../../../constants/values.js';\nimport '../../../../shared/consts/index.js';\nimport '../../../../events/dynamicEvents.js';\nimport '../../../../../../_virtual/_tslib.js';\nimport '../../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../../store/state/nonce/nonce.js';\nimport '../../../../store/state/projectSettings/projectSettings.js';\nimport '../../../../config/ApiEndpoint.js';\nimport '../../../../store/state/user/user.js';\nimport '../../../../locale/locale.js';\nimport '../../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../../functions/compareChains/compareChains.js';\nimport '../../../../context/ThemeContext/ThemeContext.js';\nimport '../../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport { getNativeTokenDecimals } from '../utils/utils.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../../context/LoadingContext/LoadingContext.js';\nimport '../../../../context/WalletContext/WalletContext.js';\nimport '../../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../../context/MockContext/MockContext.js';\nimport '../../../../views/CollectUserDataView/useFields.js';\nimport '../../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../../store/state/loadingAndLifecycle.js';\nimport '../../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../../components/Alert/Alert.js';\nimport '../../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../../components/IconButton/IconButton.js';\nimport '../../../../components/InlineWidget/InlineWidget.js';\nimport '../../../../components/Input/Input.js';\nimport '../../../../components/IsBrowser/IsBrowser.js';\nimport '../../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../../components/OverlayCard/OverlayCard.js';\nimport '../../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../../components/Popper/Popper/Popper.js';\nimport '../../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../../context/FooterAnimationContext/index.js';\nimport '../../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../../store/state/sendBalances.js';\nimport '../../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../../context/OnrampContext/OnrampContext.js';\nimport '../../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../../index.js';\nimport '../../../../store/state/tokenBalances.js';\nimport '../../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useBaseTransactionSimulation = (hookName) => {\n    const { primaryWallet, environmentId, networkConfigurations } = useInternalDynamicContext();\n    const [simulationState, setSimulationState] = useState({\n        isLoading: false,\n    });\n    const nativeTokenDecimals = useMemo(() => getNativeTokenDecimals(primaryWallet === null || primaryWallet === void 0 ? void 0 : primaryWallet.chain, networkConfigurations), [primaryWallet === null || primaryWallet === void 0 ? void 0 : primaryWallet.chain, networkConfigurations]);\n    const handleSimulationError = useCallback((e, type) => {\n        const errorPrefix = type ? `${type} ` : '';\n        logger.error(`[${hookName}] ${errorPrefix}simulation failed:`, e);\n        setSimulationState({\n            error: e instanceof Error ? e.message : `${errorPrefix}simulation failed`,\n            isLoading: false,\n        });\n    }, [hookName]);\n    return {\n        environmentId,\n        handleSimulationError,\n        nativeTokenDecimals,\n        networkConfigurations,\n        primaryWallet,\n        setSimulationState,\n        simulationState,\n    };\n};\n\nexport { useBaseTransactionSimulation };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA,MAAM,+BAA+B,CAAC;IAClC,MAAM,EAAE,aAAa,EAAE,aAAa,EAAE,qBAAqB,EAAE,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IACxF,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;QACnD,WAAW;IACf;IACA,MAAM,sBAAsB,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;qEAAE,IAAM,CAAA,GAAA,0OAAA,CAAA,yBAAsB,AAAD,EAAE,kBAAkB,QAAQ,kBAAkB,KAAK,IAAI,KAAK,IAAI,cAAc,KAAK,EAAE;oEAAwB;QAAC,kBAAkB,QAAQ,kBAAkB,KAAK,IAAI,KAAK,IAAI,cAAc,KAAK;QAAE;KAAsB;IACtR,MAAM,wBAAwB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;2EAAE,CAAC,GAAG;YAC1C,MAAM,cAAc,OAAO,GAAG,KAAK,CAAC,CAAC,GAAG;YACxC,8LAAA,CAAA,SAAM,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,SAAS,EAAE,EAAE,YAAY,kBAAkB,CAAC,EAAE;YAC/D,mBAAmB;gBACf,OAAO,aAAa,QAAQ,EAAE,OAAO,GAAG,GAAG,YAAY,iBAAiB,CAAC;gBACzE,WAAW;YACf;QACJ;0EAAG;QAAC;KAAS;IACb,OAAO;QACH;QACA;QACA;QACA;QACA;QACA;QACA;IACJ;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 17920, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useTransactionSimulation/classes/useEVMTransactionSimulation.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../../_virtual/_tslib.js';\nimport { useState, useEffect, useCallback } from 'react';\nimport { simulateBlockaidUserOperation, simulateBlockaidEVMTransaction } from '../../../../data/api/transactions/blockaid.js';\nimport { isZeroDevConnector, calculateAAFees, generateAllFeeData, isEthereumWallet, calculateEVMFees } from '../utils/utils.js';\nimport { useBaseTransactionSimulation } from './useBaseTransactionSimulation.js';\n\nconst useEVMTransactionSimulation = () => {\n    const { simulationState, setSimulationState, nativeTokenDecimals, handleSimulationError, primaryWallet, environmentId, } = useBaseTransactionSimulation('useEVMTransactionSimulation');\n    const [chainId, setChainId] = useState();\n    useEffect(() => {\n        const fetchChainId = () => __awaiter(void 0, void 0, void 0, function* () {\n            if (primaryWallet === null || primaryWallet === void 0 ? void 0 : primaryWallet.connector) {\n                const network = yield primaryWallet.connector.getNetwork();\n                setChainId(String(network));\n            }\n        });\n        fetchChainId();\n    }, [primaryWallet === null || primaryWallet === void 0 ? void 0 : primaryWallet.connector]);\n    const simulateEVMTransactionAA = useCallback((params) => __awaiter(void 0, void 0, void 0, function* () {\n        var _a, _b;\n        if (!(primaryWallet === null || primaryWallet === void 0 ? void 0 : primaryWallet.connector) ||\n            !isZeroDevConnector(primaryWallet.connector)) {\n            return handleSimulationError(new Error('Account abstraction simulation requires ZeroDev connector'), 'AA');\n        }\n        if (!chainId) {\n            return handleSimulationError(new Error('No chain ID found'), 'AA');\n        }\n        const { transaction } = params;\n        try {\n            setSimulationState({ isLoading: true });\n            const connector = primaryWallet.connector;\n            const { userOperation } = yield connector.getCurrentUserOperation(transaction);\n            if (!userOperation) {\n                return handleSimulationError(new Error('failed to get user operation'), 'AA');\n            }\n            const formattedUserOperation = yield connector.formatUserOperation(userOperation);\n            const entryPoint = (_a = connector.getAccountAbstractionProvider()) === null || _a === void 0 ? void 0 : _a.account.entryPoint;\n            if (!entryPoint) {\n                return handleSimulationError(new Error('No entry point address found'), 'AA');\n            }\n            const result = yield simulateBlockaidUserOperation({\n                chainId,\n                entryPoint,\n                environmentId,\n                userOperation: formattedUserOperation,\n                value: ((_b = transaction.value) === null || _b === void 0 ? void 0 : _b.toString()) || '0',\n            });\n            if (!result) {\n                return handleSimulationError(new Error('Simulation failed: No result returned'), 'AA');\n            }\n            const fee = calculateAAFees(userOperation);\n            const isSponsored = yield connector.canSponsorTransactionGas(transaction);\n            const finalFee = isSponsored ? BigInt(0) : fee;\n            const resultWithFee = generateAllFeeData(finalFee, nativeTokenDecimals, result);\n            // Filter out native asset if it's just gas fee (no ETH transfer)\n            // this is when its an aa tx but unsponsored\n            if (!transaction.value) {\n                resultWithFee.outAssets = resultWithFee.outAssets.filter((asset) => asset.asset.type !== 'NATIVE');\n            }\n            setSimulationState({\n                isLoading: false,\n                result: resultWithFee,\n            });\n            return;\n        }\n        catch (error) {\n            return handleSimulationError(error, 'AA');\n        }\n    }), [\n        chainId,\n        primaryWallet,\n        environmentId,\n        nativeTokenDecimals,\n        handleSimulationError,\n        setSimulationState,\n    ]);\n    const simulateEVMTransaction = useCallback((params) => __awaiter(void 0, void 0, void 0, function* () {\n        var _c;\n        const { transaction } = params;\n        if (!(primaryWallet === null || primaryWallet === void 0 ? void 0 : primaryWallet.connector)) {\n            return handleSimulationError(new Error('No wallet connected'), 'EVM');\n        }\n        if (!chainId) {\n            return handleSimulationError(new Error('No chain ID found'), 'EVM');\n        }\n        try {\n            setSimulationState({ isLoading: true });\n            if (!isEthereumWallet(primaryWallet)) {\n                return handleSimulationError(new Error('EVM simulation requires Ethereum wallet'), 'EVM');\n            }\n            const publicClient = yield primaryWallet.getPublicClient();\n            const totalFee = yield calculateEVMFees(publicClient, transaction);\n            const result = yield simulateBlockaidEVMTransaction({\n                chainId,\n                data: transaction.data || '0x',\n                environmentId,\n                from: transaction.from,\n                to: transaction.to,\n                value: ((_c = transaction.value) === null || _c === void 0 ? void 0 : _c.toString()) || '0',\n            });\n            if (!result) {\n                return handleSimulationError(new Error('Simulation failed: No result returned'), 'EVM');\n            }\n            const resultWithFee = generateAllFeeData(totalFee, nativeTokenDecimals, result);\n            // Filter out native asset if it's just gas fee (no ETH transfer)\n            if (!transaction.value) {\n                resultWithFee.outAssets = resultWithFee.outAssets.filter((asset) => asset.asset.type !== 'NATIVE');\n            }\n            setSimulationState({\n                isLoading: false,\n                result: resultWithFee,\n            });\n            return;\n        }\n        catch (error) {\n            return handleSimulationError(error, 'EVM');\n        }\n    }), [\n        chainId,\n        primaryWallet,\n        environmentId,\n        nativeTokenDecimals,\n        handleSimulationError,\n        setSimulationState,\n    ]);\n    return Object.assign({ simulateEVMTransaction,\n        simulateEVMTransactionAA }, simulationState);\n};\n\nexport { useEVMTransactionSimulation };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 18086, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useTransactionSimulation/classes/useSVMTransactionSimulation.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../../_virtual/_tslib.js';\nimport { useCallback } from 'react';\nimport bs58 from 'bs58';\nimport { ChainEnum } from '@dynamic-labs/sdk-api-core';\nimport { simulateBlockaidSVMTransaction } from '../../../../data/api/transactions/blockaid.js';\nimport { isSVMTransactionSponsored, getFeeWithRetry, generateAllFeeData, deductSVMFees } from '../utils/utils.js';\nimport { useBaseTransactionSimulation } from './useBaseTransactionSimulation.js';\n\nconst useSVMTransactionSimulation = () => {\n    const { simulationState, setSimulationState, nativeTokenDecimals, handleSimulationError, primaryWallet, environmentId, } = useBaseTransactionSimulation('useSVMTransactionSimulation');\n    const simulateSVMTransaction = useCallback((params) => __awaiter(void 0, void 0, void 0, function* () {\n        if (!(primaryWallet === null || primaryWallet === void 0 ? void 0 : primaryWallet.connector) || primaryWallet.chain !== ChainEnum.Sol) {\n            return handleSimulationError(new Error('Solana simulation requires Solana wallet'));\n        }\n        const transactions = Array.isArray(params.transaction)\n            ? params.transaction\n            : [params.transaction];\n        try {\n            setSimulationState({ isLoading: true });\n            let isSponsored = false;\n            const encodedTransactions = transactions.map((tx) => bs58.encode(Uint8Array.from(tx.serialize({ requireAllSignatures: false }))));\n            isSponsored = transactions.every((tx) => isSVMTransactionSponsored(tx, primaryWallet.address));\n            const compiledMessages = yield Promise.all(transactions.map((tx) => {\n                var _a;\n                if ('version' in tx) {\n                    return tx.message;\n                }\n                // legacy transactions will have this method\n                return (_a = tx.compileMessage) === null || _a === void 0 ? void 0 : _a.call(tx);\n            }));\n            const connection = yield primaryWallet.getConnection();\n            // Calculate fees for all transactions\n            const fees = yield Promise.all(compiledMessages.map((tx) => getFeeWithRetry(connection, tx)));\n            const fee = fees.reduce((acc, curr) => acc + curr, BigInt(0));\n            const result = yield simulateBlockaidSVMTransaction({\n                accountAddress: primaryWallet.address,\n                chain: (yield primaryWallet.connector.getNetwork(true)),\n                environmentId,\n                transactions: encodedTransactions,\n            });\n            if (!result) {\n                return handleSimulationError(new Error('Simulation failed: No result returned'));\n            }\n            const finalFee = isSponsored ? BigInt(0) : fee || BigInt(0);\n            // For Solana, we need to ensure we have a valid fee\n            if (!isSponsored && finalFee === BigInt(0)) {\n                return handleSimulationError(new Error('Failed to calculate transaction fee'));\n            }\n            const resultWithFee = generateAllFeeData(finalFee, nativeTokenDecimals, result);\n            // simulations include gas fees in the outAssets, so we need to remove them\n            if (!isSponsored) {\n                resultWithFee.outAssets = deductSVMFees(resultWithFee);\n            }\n            setSimulationState({\n                isLoading: false,\n                result: resultWithFee,\n            });\n            return;\n        }\n        catch (error) {\n            return handleSimulationError(error);\n        }\n    }), [\n        primaryWallet,\n        environmentId,\n        nativeTokenDecimals,\n        handleSimulationError,\n        setSimulationState,\n    ]);\n    return Object.assign({ simulateSVMTransaction }, simulationState);\n};\n\nexport { useSVMTransactionSimulation };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAPA;;;;;;;;AASA,MAAM,8BAA8B;IAChC,MAAM,EAAE,eAAe,EAAE,kBAAkB,EAAE,mBAAmB,EAAE,qBAAqB,EAAE,aAAa,EAAE,aAAa,EAAG,GAAG,CAAA,GAAA,mQAAA,CAAA,+BAA4B,AAAD,EAAE;IACxJ,MAAM,yBAAyB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;2EAAE,CAAC,SAAW,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK;mFAAG;oBACrF,IAAI,CAAC,CAAC,kBAAkB,QAAQ,kBAAkB,KAAK,IAAI,KAAK,IAAI,cAAc,SAAS,KAAK,cAAc,KAAK,KAAK,wLAAA,CAAA,YAAS,CAAC,GAAG,EAAE;wBACnI,OAAO,sBAAsB,IAAI,MAAM;oBAC3C;oBACA,MAAM,eAAe,MAAM,OAAO,CAAC,OAAO,WAAW,IAC/C,OAAO,WAAW,GAClB;wBAAC,OAAO,WAAW;qBAAC;oBAC1B,IAAI;wBACA,mBAAmB;4BAAE,WAAW;wBAAK;wBACrC,IAAI,cAAc;wBAClB,MAAM,sBAAsB,aAAa,GAAG;mHAAC,CAAC,KAAO,gIAAA,CAAA,UAAI,CAAC,MAAM,CAAC,WAAW,IAAI,CAAC,GAAG,SAAS,CAAC;oCAAE,sBAAsB;gCAAM;;wBAC5H,cAAc,aAAa,KAAK;+FAAC,CAAC,KAAO,CAAA,GAAA,0OAAA,CAAA,4BAAyB,AAAD,EAAE,IAAI,cAAc,OAAO;;wBAC5F,MAAM,mBAAmB,MAAM,QAAQ,GAAG,CAAC,aAAa,GAAG;+FAAC,CAAC;gCACzD,IAAI;gCACJ,IAAI,aAAa,IAAI;oCACjB,OAAO,GAAG,OAAO;gCACrB;gCACA,4CAA4C;gCAC5C,OAAO,CAAC,KAAK,GAAG,cAAc,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,IAAI,CAAC;4BACjF;;wBACA,MAAM,aAAa,MAAM,cAAc,aAAa;wBACpD,sCAAsC;wBACtC,MAAM,OAAO,MAAM,QAAQ,GAAG,CAAC,iBAAiB,GAAG;+FAAC,CAAC,KAAO,CAAA,GAAA,0OAAA,CAAA,kBAAe,AAAD,EAAE,YAAY;;wBACxF,MAAM,MAAM,KAAK,MAAM;mGAAC,CAAC,KAAK,OAAS,MAAM;kGAAM,OAAO;wBAC1D,MAAM,SAAS,MAAM,CAAA,GAAA,qNAAA,CAAA,iCAA8B,AAAD,EAAE;4BAChD,gBAAgB,cAAc,OAAO;4BACrC,OAAQ,MAAM,cAAc,SAAS,CAAC,UAAU,CAAC;4BACjD;4BACA,cAAc;wBAClB;wBACA,IAAI,CAAC,QAAQ;4BACT,OAAO,sBAAsB,IAAI,MAAM;wBAC3C;wBACA,MAAM,WAAW,cAAc,OAAO,KAAK,OAAO,OAAO;wBACzD,oDAAoD;wBACpD,IAAI,CAAC,eAAe,aAAa,OAAO,IAAI;4BACxC,OAAO,sBAAsB,IAAI,MAAM;wBAC3C;wBACA,MAAM,gBAAgB,CAAA,GAAA,0OAAA,CAAA,qBAAkB,AAAD,EAAE,UAAU,qBAAqB;wBACxE,2EAA2E;wBAC3E,IAAI,CAAC,aAAa;4BACd,cAAc,SAAS,GAAG,CAAA,GAAA,0OAAA,CAAA,gBAAa,AAAD,EAAE;wBAC5C;wBACA,mBAAmB;4BACf,WAAW;4BACX,QAAQ;wBACZ;wBACA;oBACJ,EACA,OAAO,OAAO;wBACV,OAAO,sBAAsB;oBACjC;gBACJ;;0EAAI;QACA;QACA;QACA;QACA;QACA;KACH;IACD,OAAO,OAAO,MAAM,CAAC;QAAE;IAAuB,GAAG;AACrD","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 18194, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useSocialAccounts/useSocialAccounts.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useMemo, useCallback } from 'react';\nimport { ProviderEnum } from '@dynamic-labs/sdk-api-core';\nimport { SocialOAuthErrorCode } from '@dynamic-labs/types';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport { useViewContext } from '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport { dynamicEvents } from '../../../events/dynamicEvents.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport { getEnabledOAuthProviders } from '../../functions/getEnabledOAuthProviders/index.js';\nimport { getEnabledSocialSignInProvidersAsProviderEnum } from '../../functions/getEnabledSocialSignInProvidersAsProviderEnum/getEnabledSocialSignInProvidersAsProviderEnum.js';\nimport '../../../store/state/nonce/nonce.js';\nimport { isSocialKycEnabled } from '../../functions/isSocialKycEnabled/isSocialKycEnabled.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport { unlinkOAuth } from '../../../data/api/oauth/oauth.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport { getPrimaryWalletId } from '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport { useSocialRedirectContext } from '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport { useSocialAuth } from '../useSocialAuth/useSocialAuth.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport '../../../context/WalletContext/WalletContext.js';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\n// Hook exposed to customers and used internally to handle social account linking\nconst useSocialAccounts = () => {\n    var _a;\n    const { environmentId, user, projectSettings } = useInternalDynamicContext();\n    const { pushView } = useViewContext();\n    const { setSocialProvider } = useSocialRedirectContext();\n    const { handleError, setError, setIsProcessing, checkValidProvider, error, isProcessing, connectSocialAccount, } = useSocialAuth({\n        onFarcasterUrl: (url) => pushView('farcaster-connect-view', { url }, {\n            onBackClick: () => {\n                setSocialProvider(undefined);\n                dynamicEvents.emit('farcasterConnectCancelled');\n                dynamicEvents.emit('authFailure', {\n                    option: ProviderEnum.Farcaster,\n                    provider: ProviderEnum.Farcaster,\n                    type: 'social',\n                }, 'user-cancelled');\n            },\n        }),\n    });\n    const verifiedOAuthCredentialsMap = useMemo(() => {\n        var _a, _b;\n        const verifiedOAuthCredential = (_b = (_a = user === null || user === void 0 ? void 0 : user.verifiedCredentials) === null || _a === void 0 ? void 0 : _a.filter((credential) => credential.format === 'oauth')) !== null && _b !== void 0 ? _b : [];\n        const credentialMap = new Map();\n        verifiedOAuthCredential.forEach((credential) => {\n            var _a, _b;\n            const key = (_a = credential.oauthProvider) !== null && _a !== void 0 ? _a : credential.id;\n            const existing = (_b = credentialMap.get(key)) !== null && _b !== void 0 ? _b : [];\n            credentialMap.set(key, [...existing, credential]);\n        });\n        return Object.fromEntries(credentialMap);\n    }, [user === null || user === void 0 ? void 0 : user.verifiedCredentials]);\n    const checkValidOAuthLinking = useCallback((provider) => {\n        if (!isSocialKycEnabled(projectSettings)) {\n            handleError(provider, SocialOAuthErrorCode.SOCIAL_LINKING_NOT_ENABLED, 'Social linking is not enabled in Information Capture on the dashboard', { raiseAuthFailure: false });\n            return false;\n        }\n        const oauthProviders = getEnabledOAuthProviders(projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.providers);\n        const oauthProvider = oauthProviders === null || oauthProviders === void 0 ? void 0 : oauthProviders.find((p) => p.provider === provider);\n        if (!oauthProvider) {\n            handleError(provider, SocialOAuthErrorCode.PROVIDER_NOT_ENABLED, `Social linking provider is not enabled in Information Capture on the dashboard: ${provider}`, { raiseAuthFailure: false });\n            return false;\n        }\n        return true;\n    }, [handleError, projectSettings]);\n    const linkSocialAccount = useCallback((provider_1, ...args_1) => __awaiter(void 0, [provider_1, ...args_1], void 0, function* (provider, { redirectUrl, showWidgetAfterConnection } = {\n        redirectUrl: undefined,\n        showWidgetAfterConnection: false,\n    }) {\n        connectSocialAccount({\n            authMode: 'link',\n            provider,\n            redirectUrl,\n            showWidgetAfterConnection,\n            validator: checkValidOAuthLinking,\n        });\n    }), [checkValidOAuthLinking, connectSocialAccount]);\n    const findVerifiedCredentialById = (provider, verifiedCredentialId) => {\n        var _a;\n        const verifiedCredentials = (_a = verifiedOAuthCredentialsMap[provider]) !== null && _a !== void 0 ? _a : [];\n        const verifiedCredential = verifiedCredentialId\n            ? verifiedCredentials.find((cred) => cred.id === verifiedCredentialId)\n            : verifiedCredentials[0];\n        return verifiedCredential;\n    };\n    const unlinkSocialAccount = useCallback((provider, verifiedCredentialId) => __awaiter(void 0, void 0, void 0, function* () {\n        var _b;\n        setError(undefined);\n        setIsProcessing(true);\n        if (!checkValidProvider(provider, 'unlink')) {\n            return;\n        }\n        const verifiedCredential = findVerifiedCredentialById(provider, verifiedCredentialId);\n        if (!verifiedCredential) {\n            handleError(provider, SocialOAuthErrorCode.NO_ACCOUNT_LINKED, `No account linked for provider: ${provider}`, { raiseAuthFailure: false });\n            return;\n        }\n        try {\n            const primaryWalletId = getPrimaryWalletId();\n            const response = yield unlinkOAuth({\n                environmentId,\n                primaryWalletId,\n                verifiedCrentialId: (_b = verifiedCredential.id) !== null && _b !== void 0 ? _b : '',\n            });\n            if (!response) {\n                handleError(provider, SocialOAuthErrorCode.UNLINK_ERROR, `Failed to unlink social account: ${provider} | ${verifiedCredential.id}`, { raiseAuthFailure: false });\n                return;\n            }\n            setIsProcessing(false);\n        }\n        catch (err) {\n            handleError(provider, SocialOAuthErrorCode.GENERAL_ERROR, `Failed to unlink social account: ${provider} | ${verifiedCredential.id}`, { raiseAuthFailure: false });\n        }\n    }), [\n        checkValidProvider,\n        environmentId,\n        handleError,\n        setError,\n        setIsProcessing,\n        verifiedOAuthCredentialsMap,\n    ]);\n    const isLinked = useCallback((provider) => { var _a; return Boolean((_a = verifiedOAuthCredentialsMap[provider]) === null || _a === void 0 ? void 0 : _a.length); }, [verifiedOAuthCredentialsMap]);\n    const getAccountInformation = (verifiedCredential) => {\n        const { id, oauthAccountId, oauthAccountPhotos, oauthDisplayName, oauthEmails, oauthProvider, oauthUsername, publicIdentifier, } = verifiedCredential;\n        return {\n            accountId: oauthAccountId !== null && oauthAccountId !== void 0 ? oauthAccountId : undefined,\n            avatar: oauthAccountPhotos === null || oauthAccountPhotos === void 0 ? void 0 : oauthAccountPhotos[0],\n            displayName: oauthDisplayName !== null && oauthDisplayName !== void 0 ? oauthDisplayName : undefined,\n            email: oauthEmails === null || oauthEmails === void 0 ? void 0 : oauthEmails[0],\n            id,\n            provider: oauthProvider,\n            publicIdentifier,\n            username: oauthUsername,\n        };\n    };\n    const getLinkedAccountInformation = useCallback((provider, verifiedCredentialId) => {\n        const verifiedCredential = findVerifiedCredentialById(provider, verifiedCredentialId);\n        if (!verifiedCredential) {\n            return;\n        }\n        return getAccountInformation(verifiedCredential);\n    }, [verifiedOAuthCredentialsMap]);\n    const getLinkedAccounts = useCallback((provider) => {\n        var _a;\n        const verifiedCredentials = (_a = verifiedOAuthCredentialsMap[provider]) !== null && _a !== void 0 ? _a : [];\n        return verifiedCredentials.map((credential) => getAccountInformation(credential));\n    }, [verifiedOAuthCredentialsMap]);\n    const checkValidOAuthSignIn = useCallback((provider) => {\n        var _a;\n        const oauthProvider = getEnabledSocialSignInProvidersAsProviderEnum((_a = projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.sdk.socialSignIn) === null || _a === void 0 ? void 0 : _a.providers).find((socialProvider) => socialProvider === provider);\n        if (!oauthProvider) {\n            handleError(provider, SocialOAuthErrorCode.PROVIDER_NOT_ENABLED, `Provider is not enabled for sign-in on the dashboard: ${provider}`, { raiseAuthFailure: true });\n            return false;\n        }\n        return true;\n    }, [handleError, (_a = projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.sdk.socialSignIn) === null || _a === void 0 ? void 0 : _a.providers]);\n    const signInWithSocialAccount = useCallback((provider_2, ...args_2) => __awaiter(void 0, [provider_2, ...args_2], void 0, function* (provider, { redirectUrl } = { redirectUrl: undefined }) {\n        return connectSocialAccount({\n            authMode: 'signin',\n            provider,\n            redirectUrl,\n            validator: checkValidOAuthSignIn,\n        });\n    }), [checkValidOAuthSignIn, connectSocialAccount]);\n    return useMemo(() => ({\n        error,\n        getLinkedAccountInformation,\n        getLinkedAccounts,\n        isLinked,\n        isProcessing,\n        linkSocialAccount,\n        signInWithSocialAccount,\n        unlinkSocialAccount,\n    }), [\n        error,\n        getLinkedAccountInformation,\n        getLinkedAccounts,\n        isLinked,\n        isProcessing,\n        linkSocialAccount,\n        signInWithSocialAccount,\n        unlinkSocialAccount,\n    ]);\n};\n\nexport { useSocialAccounts };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 18646, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useRpcProviders/useRpcProviders.js"],"sourcesContent":["'use client'\nimport { useMemo } from 'react';\nimport { ChainRpcProviders } from '@dynamic-labs/rpc-providers';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../../../_virtual/_tslib.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst useRpcProviders = (selector) => {\n    const { networkConfigurations, walletConnectorOptions } = useInternalDynamicContext();\n    return useMemo(() => {\n        if (!networkConfigurations)\n            return selector(undefined);\n        const providers = ChainRpcProviders.getProviders(networkConfigurations);\n        return selector(providers);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        /**\n         * The `walletConnectorOptions.length` is included in the dependency array to ensure that\n         * the providers are re-calculated whenever the WalletConnector's initialization state changes.\n         * This avoids a potential race condition where the `useRpcProviders` hook might return\n         * incomplete or empty providers if it executes before the WalletConnector has been fully initialized.\n         * Since the `ChainRpcProviders` are registered during WalletConnector initialization,\n         * this dependency ensures accurate and up-to-date provider data.\n         */\n        walletConnectorOptions.length,\n        networkConfigurations,\n        selector,\n    ]);\n};\n\nexport { useRpcProviders };\n"],"names":[],"mappings":";;;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA,8DAA8D;AAC9D,MAAM,kBAAkB,CAAC;IACrB,MAAM,EAAE,qBAAqB,EAAE,sBAAsB,EAAE,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IAClF,OAAO,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;mCAAE;YACX,IAAI,CAAC,uBACD,OAAO,SAAS;YACpB,MAAM,YAAY,oLAAA,CAAA,oBAAiB,CAAC,YAAY,CAAC;YACjD,OAAO,SAAS;QAChB,uDAAuD;QAC3D;kCAAG;QACC;;;;;;;SAOC,GACD,uBAAuB,MAAM;QAC7B;QACA;KACH;AACL","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 18862, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useSwitchWallet/useSwitchWallet.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useCallback } from 'react';\nimport { isTurnkeyWalletConnector, isEmailWalletConnector } from '@dynamic-labs/wallet-connector-core';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport { useUserWallets } from '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport { useSmartWallets } from '../useSmartWallets/useSmartWallets.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\n/**\n * Switch wallet\n *\n * @returns Function to switch wallet\n *\n * @example\n * ```tsx\n * const App = () => {\n *   const userWallets = useUserWallets();\n *   const switchWallet = useSwitchWallet();\n *\n *   return (\n *     <div>\n *       {userWallets.map((wallet) => (\n *         <button\n *           key={wallet.address}\n *           onClick={() => switchWallet(wallet.id)}\n *         >\n *           {wallet.address}\n *         </button>\n *       ))}\n *    </div>\n *  );\n * }\n */\nconst useSwitchWallet = () => {\n    const { setPrimaryWallet, user, primaryWallet } = useInternalDynamicContext();\n    const { getEOAWallet } = useSmartWallets();\n    const userWallets = useUserWallets();\n    return useCallback((walletId) => __awaiter(void 0, void 0, void 0, function* () {\n        var _a, _b, _c;\n        const wallet = userWallets.find((wallet) => wallet.id === walletId);\n        if (!wallet) {\n            throw new Error(`Wallet with id ${walletId} not found`);\n        }\n        if (!wallet.connector.isAvailable) {\n            throw new Error(\"Cannot make this wallet active, since this wallet doesn't have a compatible connector on this device.\");\n        }\n        const eoaWallet = getEOAWallet(wallet);\n        if (eoaWallet && isTurnkeyWalletConnector(eoaWallet.connector)) {\n            const sortedVcs = (_b = (_a = eoaWallet.connector) === null || _a === void 0 ? void 0 : _a.verifiedCredentials) === null || _b === void 0 ? void 0 : _b.reduce((acc, vc) => {\n                if (vc.address === eoaWallet.address) {\n                    return [vc, ...acc];\n                }\n                return [...acc, vc];\n            }, []);\n            if (sortedVcs) {\n                eoaWallet.connector.setVerifiedCredentials(sortedVcs);\n            }\n        }\n        const { connector } = wallet;\n        const email = (_c = user === null || user === void 0 ? void 0 : user.verifiedCredentials.find((verifiedCredential) => verifiedCredential.format === 'email')) === null || _c === void 0 ? void 0 : _c.email;\n        if (isEmailWalletConnector(connector) && email) {\n            connector.setEmail(email);\n        }\n        if ((primaryWallet === null || primaryWallet === void 0 ? void 0 : primaryWallet.chain) === 'flow' &&\n            connector.connectedChain === 'FLOW') {\n            yield connector.endSession();\n        }\n        setPrimaryWallet(walletId);\n    }), [\n        getEOAWallet,\n        primaryWallet === null || primaryWallet === void 0 ? void 0 : primaryWallet.chain,\n        setPrimaryWallet,\n        user === null || user === void 0 ? void 0 : user.verifiedCredentials,\n        userWallets,\n    ]);\n};\n\nexport { useSwitchWallet };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 19140, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useEmbeddedWalletAuthenticator/useEmbeddedWalletAuthenticator.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { usePasskeyRecovery } from '../usePasskeyRecovery/usePasskeyRecovery.js';\nimport 'react';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport { useViewContext } from '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useEmbeddedWalletAuthenticator = () => {\n    const { initPasskeyRecoveryProcess, shouldInitRecovery } = usePasskeyRecovery();\n    const { setShowAuthFlow } = useInternalDynamicContext();\n    const { pushView } = useViewContext();\n    const createOrRefreshAuthenticatorSession = (authenticatorType) => __awaiter(void 0, void 0, void 0, function* () {\n        // user has passkey authenticator set up OR active session\n        // there is no need to create or refresh the authenticator\n        if (authenticatorType !== 'passkey' && !(yield shouldInitRecovery())) {\n            return;\n        }\n        return initPasskeyRecoveryProcess(authenticatorType);\n    });\n    const addEmbeddedWalletRecoveryEmail = () => __awaiter(void 0, void 0, void 0, function* () {\n        pushView('passkey-recovery-add-email');\n        setShowAuthFlow(true);\n    });\n    return {\n        addEmbeddedWalletRecoveryEmail,\n        createOrRefreshAuthenticatorSession,\n    };\n};\n\nexport { useEmbeddedWalletAuthenticator };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA,MAAM,iCAAiC;IACnC,MAAM,EAAE,0BAA0B,EAAE,kBAAkB,EAAE,GAAG,CAAA,GAAA,wOAAA,CAAA,qBAAkB,AAAD;IAC5E,MAAM,EAAE,eAAe,EAAE,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IACpD,MAAM,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,mNAAA,CAAA,iBAAc,AAAD;IAClC,MAAM,sCAAsC,CAAC,oBAAsB,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG;YACjG,0DAA0D;YAC1D,0DAA0D;YAC1D,IAAI,sBAAsB,aAAa,CAAC,CAAC,MAAM,oBAAoB,GAAG;gBAClE;YACJ;YACA,OAAO,2BAA2B;QACtC;IACA,MAAM,iCAAiC,IAAM,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG;YAC3E,SAAS;YACT,gBAAgB;QACpB;IACA,OAAO;QACH;QACA;IACJ;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 19355, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useMfaModals/useMfaModals.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useCallback } from 'react';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport { useViewContext } from '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport { getUser } from '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport { useWidgetContext } from '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useMfaModals = () => {\n    var _a;\n    const { setShowAuthFlow, projectSettings, setShowDynamicUserProfile } = useInternalDynamicContext();\n    const { setDynamicWidgetView } = useWidgetContext();\n    const { clearStackAndPush } = useViewContext();\n    const isMfaEnabled = (_a = projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.security.mfa) === null || _a === void 0 ? void 0 : _a.enabled;\n    const setShowMFAManage = useCallback((value) => {\n        if (value) {\n            if (!isMfaEnabled) {\n                return;\n            }\n            setDynamicWidgetView('manage-mfa-no-footer');\n        }\n        setShowDynamicUserProfile(value);\n    }, [isMfaEnabled, setShowDynamicUserProfile, setDynamicWidgetView]);\n    const setShowMfaChooseType = useCallback((value) => {\n        if (value) {\n            if (!isMfaEnabled)\n                return;\n            clearStackAndPush('mfa-choose-device');\n        }\n        setShowAuthFlow(value, { emitCancelAuth: true });\n    }, [isMfaEnabled, setShowAuthFlow, clearStackAndPush]);\n    const setShowMfaQRCode = useCallback((value) => __awaiter(void 0, void 0, void 0, function* () {\n        if (value) {\n            if (!isMfaEnabled)\n                return;\n            const user = getUser();\n            // Already have MFA configured\n            if (user === null || user === void 0 ? void 0 : user.mfaBackupCodeAcknowledgement) {\n                setShowMFAManage(true);\n                return;\n            }\n            clearStackAndPush('mfa-secure-device', { isInitialSetup: true });\n        }\n        setShowAuthFlow(value, { emitCancelAuth: true });\n    }), [isMfaEnabled, setShowAuthFlow, clearStackAndPush, setShowMFAManage]);\n    const setShowOTPVerification = useCallback((value) => {\n        if (value) {\n            if (!isMfaEnabled)\n                return;\n            clearStackAndPush('mfa-verification');\n        }\n        setShowAuthFlow(value, { emitCancelAuth: true });\n    }, [isMfaEnabled, setShowAuthFlow, clearStackAndPush]);\n    const setShowMfaViewBackupCodes = useCallback((value) => {\n        if (value) {\n            if (!isMfaEnabled)\n                return;\n            clearStackAndPush('mfa-display-backup-codes');\n        }\n        setShowAuthFlow(value, { emitCancelAuth: true });\n    }, [isMfaEnabled, setShowAuthFlow, clearStackAndPush]);\n    const setShowMfaEnterBackupCodes = useCallback((value) => {\n        if (value) {\n            if (!isMfaEnabled)\n                return;\n            clearStackAndPush('mfa-recovery');\n        }\n        setShowAuthFlow(value, { emitCancelAuth: true });\n    }, [isMfaEnabled, setShowAuthFlow, clearStackAndPush]);\n    return {\n        setShowMFAManage,\n        setShowMfaChooseType,\n        setShowMfaEnterBackupCodes,\n        setShowMfaQRCode,\n        setShowMfaViewBackupCodes,\n        setShowOTPVerification,\n    };\n};\n\nexport { useMfaModals };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 19663, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useDynamicModals/useDynamicModals.js"],"sourcesContent":["'use client'\nimport { useCallback } from 'react';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport { logger } from '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport { useViewContext } from '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../../../_virtual/_tslib.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport { isAllowedToLinkWallet } from '../../functions/isAllowedToLinkWallet/isAllowedToLinkWallet.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport { useIsLoggedIn } from '../useIsLoggedIn/useIsLoggedIn.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport { useMfaModals } from '../useMfaModals/useMfaModals.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\n/**\n * this hook wraps `setShowAuthFlow`. WalletConnect requires initialization\n * before we can connect a wallet. The goal here is that when a user clicks\n * on the \"Log in or sign up\" button, the SDK starts initializing WalletConnect\n * and will prime it for connection. This way, when the user clicks on the\n * \"Connect\" button in the WalletConnect modal, there is a uri ready to go\n * to immediately trigger the deep link on mobile\n */\nconst useDynamicModals = () => {\n    const { projectSettings, user, multiWallet, setShowAuthFlow } = useInternalDynamicContext();\n    const isLoggedIn = useIsLoggedIn();\n    const { clearStackAndPush } = useViewContext();\n    const canLink = isAllowedToLinkWallet(projectSettings, user === null || user === void 0 ? void 0 : user.verifiedCredentials, multiWallet);\n    const { setShowMfaChooseType, setShowMfaEnterBackupCodes, setShowMfaQRCode, setShowMfaViewBackupCodes, setShowOTPVerification, setShowMFAManage, } = useMfaModals();\n    const setSetShowLinkNewWalletModalWithInit = useCallback((value) => {\n        if (value) {\n            // Do not change state if the user is already signed in and multi-wallet is not enabled\n            if (!isLoggedIn) {\n                logger.warn('setShowLinkNewWalletModal was called while the user was not logged in. This results in a no-op. To log the user in, use setShowAuthFlow. For more information, see: https://docs.dynamic.xyz/react-sdk/hooks/usedynamiccontext');\n                return;\n            }\n            if (!canLink) {\n                logger.warn('setShowLinkNewWalletModal was called but the user is not allowed to link a wallet. This results in a no-op. Please double check that multi-wallet is enabled in the dashboard. For more information, see: https://docs.dynamic.xyz/branded-wallets/multi-wallet');\n                return;\n            }\n            clearStackAndPush('multi-wallet-wallet-list');\n        }\n        setShowAuthFlow(value, {\n            emitCancelAuth: true,\n            ignoreIfIsEmbeddedWidget: true,\n            initializeWalletConnect: true,\n            performMultiWalletChecks: false,\n        });\n    }, [canLink, isLoggedIn, setShowAuthFlow, clearStackAndPush]);\n    return {\n        setShowLinkNewWalletModal: setSetShowLinkNewWalletModalWithInit,\n        setShowMFAManage,\n        setShowMfaChooseType,\n        setShowMfaEnterBackupCodes,\n        setShowMfaQRCode,\n        setShowMfaViewBackupCodes,\n        setShowOTPVerification,\n    };\n};\n\nexport { useDynamicModals };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;;;;;;;CAOC,GACD,MAAM,mBAAmB;IACrB,MAAM,EAAE,eAAe,EAAE,IAAI,EAAE,WAAW,EAAE,eAAe,EAAE,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IACxF,MAAM,aAAa,CAAA,GAAA,8NAAA,CAAA,gBAAa,AAAD;IAC/B,MAAM,EAAE,iBAAiB,EAAE,GAAG,CAAA,GAAA,mNAAA,CAAA,iBAAc,AAAD;IAC3C,MAAM,UAAU,CAAA,GAAA,kPAAA,CAAA,wBAAqB,AAAD,EAAE,iBAAiB,SAAS,QAAQ,SAAS,KAAK,IAAI,KAAK,IAAI,KAAK,mBAAmB,EAAE;IAC7H,MAAM,EAAE,oBAAoB,EAAE,0BAA0B,EAAE,gBAAgB,EAAE,yBAAyB,EAAE,sBAAsB,EAAE,gBAAgB,EAAG,GAAG,CAAA,GAAA,4NAAA,CAAA,eAAY,AAAD;IAChK,MAAM,uCAAuC,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;8EAAE,CAAC;YACtD,IAAI,OAAO;gBACP,uFAAuF;gBACvF,IAAI,CAAC,YAAY;oBACb,8LAAA,CAAA,SAAM,CAAC,IAAI,CAAC;oBACZ;gBACJ;gBACA,IAAI,CAAC,SAAS;oBACV,8LAAA,CAAA,SAAM,CAAC,IAAI,CAAC;oBACZ;gBACJ;gBACA,kBAAkB;YACtB;YACA,gBAAgB,OAAO;gBACnB,gBAAgB;gBAChB,0BAA0B;gBAC1B,yBAAyB;gBACzB,0BAA0B;YAC9B;QACJ;6EAAG;QAAC;QAAS;QAAY;QAAiB;KAAkB;IAC5D,OAAO;QACH,2BAA2B;QAC3B;QACA;QACA;QACA;QACA;QACA;IACJ;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 19911, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useExternalAuth/useExternalAuth.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useCallback, useMemo } from 'react';\nimport '@dynamic-labs/utils';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../config/ApiEndpoint.js';\nimport '../../constants/values.js';\nimport '@dynamic-labs/multi-wallet';\nimport '../../../shared/logger.js';\nimport '../../constants/colors.js';\nimport 'react-international-phone';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport { hasPendingRequirements } from '../../../shared/utils/functions/hasPendingRequirements/hasPendingRequirements.js';\nimport '../../../shared/consts/index.js';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../store/state/user/user.js';\nimport { externalAuthSignin, externalAuthVerify } from '../../../data/api/externalAuth/externalAuth.js';\nimport '../../../locale/locale.js';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport { dynamicEvents } from '../../../events/dynamicEvents.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport { useEmbeddedWalletSessionKeys } from '../useEmbeddedWalletSessionKeys/useEmbeddedWalletSessionKeys.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useExternalAuth = () => {\n    const { environmentId, setShowAuthFlow, setCallback, projectSettings } = useInternalDynamicContext();\n    const { generateSessionKey, shouldRegisterSessionKeysOnSignin } = useEmbeddedWalletSessionKeys({\n        environmentId,\n        projectSettings,\n    });\n    /**\n     * Uses a properly-conifigured non-Dynamic external JWT and user ID to sign-in to Dynamic.\n     * When successful, this should grant the user the ability to access Dynamic's functionality\n     * available to only signed-in users, such as wallet linking, etc.\n     *\n     * @param {string} props.externalJwt - JWT issued outside of Dynamic\n     * @param {string} props.externalUserId - User ID to identify the user outside of Dynamic\n     *\n     * @returns {UserProfile} - User profile for successfully signed in user\n     */\n    const signInWithExternalJwt = useCallback((_a) => __awaiter(void 0, [_a], void 0, function* ({ externalUserId, externalJwt, }) {\n        try {\n            const sessionPublicKey = shouldRegisterSessionKeysOnSignin()\n                ? (yield generateSessionKey()).publicKey\n                : undefined;\n            const userProfile = yield externalAuthSignin({\n                environmentId,\n                externalJwt,\n                sessionPublicKey,\n            });\n            setCallback('authSuccess');\n            if (userProfile && !hasPendingRequirements(userProfile)) {\n                setShowAuthFlow(false);\n            }\n            return userProfile;\n        }\n        catch (e) {\n            dynamicEvents.emit('authFailure', {\n                externalUserId,\n                option: externalUserId,\n                type: 'externalAuth',\n            }, { error: e });\n            throw e;\n        }\n    }), [\n        environmentId,\n        setCallback,\n        setShowAuthFlow,\n        generateSessionKey,\n        shouldRegisterSessionKeysOnSignin,\n    ]);\n    /**\n     * @deprecated Use `externalAuthSignin` instead.\n     */\n    const verifyWithExternalJwt = useCallback((_b) => __awaiter(void 0, [_b], void 0, function* ({ externalUserId, externalJwt, }) {\n        try {\n            const userProfile = yield externalAuthVerify({\n                environmentId,\n                externalJwt,\n            });\n            setCallback('authSuccess');\n            setShowAuthFlow(false);\n            return userProfile;\n        }\n        catch (e) {\n            dynamicEvents.emit('authFailure', {\n                externalUserId,\n                option: externalUserId,\n                type: 'externalAuth',\n            }, { error: e });\n            throw e;\n        }\n    }), [environmentId, setCallback, setShowAuthFlow]);\n    return useMemo(() => ({ signInWithExternalJwt, verifyWithExternalJwt }), [signInWithExternalJwt, verifyWithExternalJwt]);\n};\n\nexport { useExternalAuth };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA,MAAM,kBAAkB;IACpB,MAAM,EAAE,aAAa,EAAE,eAAe,EAAE,WAAW,EAAE,eAAe,EAAE,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IACjG,MAAM,EAAE,kBAAkB,EAAE,iCAAiC,EAAE,GAAG,CAAA,GAAA,4PAAA,CAAA,+BAA4B,AAAD,EAAE;QAC3F;QACA;IACJ;IACA;;;;;;;;;KASC,GACD,MAAM,wBAAwB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;8DAAE,CAAC,KAAO,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG;gBAAC;aAAG,EAAE,KAAK;sEAAG,UAAW,EAAE,cAAc,EAAE,WAAW,EAAG;oBACzH,IAAI;wBACA,MAAM,mBAAmB,sCACnB,CAAC,MAAM,oBAAoB,EAAE,SAAS,GACtC;wBACN,MAAM,cAAc,MAAM,CAAA,GAAA,yNAAA,CAAA,qBAAkB,AAAD,EAAE;4BACzC;4BACA;4BACA;wBACJ;wBACA,YAAY;wBACZ,IAAI,eAAe,CAAC,CAAA,GAAA,8PAAA,CAAA,yBAAsB,AAAD,EAAE,cAAc;4BACrD,gBAAgB;wBACpB;wBACA,OAAO;oBACX,EACA,OAAO,GAAG;wBACN,qMAAA,CAAA,gBAAa,CAAC,IAAI,CAAC,eAAe;4BAC9B;4BACA,QAAQ;4BACR,MAAM;wBACV,GAAG;4BAAE,OAAO;wBAAE;wBACd,MAAM;oBACV;gBACJ;;6DAAI;QACA;QACA;QACA;QACA;QACA;KACH;IACD;;KAEC,GACD,MAAM,wBAAwB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;8DAAE,CAAC,KAAO,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG;gBAAC;aAAG,EAAE,KAAK;sEAAG,UAAW,EAAE,cAAc,EAAE,WAAW,EAAG;oBACzH,IAAI;wBACA,MAAM,cAAc,MAAM,CAAA,GAAA,yNAAA,CAAA,qBAAkB,AAAD,EAAE;4BACzC;4BACA;wBACJ;wBACA,YAAY;wBACZ,gBAAgB;wBAChB,OAAO;oBACX,EACA,OAAO,GAAG;wBACN,qMAAA,CAAA,gBAAa,CAAC,IAAI,CAAC,eAAe;4BAC9B;4BACA,QAAQ;4BACR,MAAM;wBACV,GAAG;4BAAE,OAAO;wBAAE;wBACd,MAAM;oBACV;gBACJ;;6DAAI;QAAC;QAAe;QAAa;KAAgB;IACjD,OAAO,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;mCAAE,IAAM,CAAC;gBAAE;gBAAuB;YAAsB,CAAC;kCAAG;QAAC;QAAuB;KAAsB;AAC3H","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 20202, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useTelegramLogin/useTelegramLogin.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { ProviderEnum } from '@dynamic-labs/sdk-api-core';\nimport '../../constants/values.js';\nimport '@dynamic-labs/utils';\nimport '@dynamic-labs/multi-wallet';\nimport { logger } from '../../../shared/logger.js';\nimport '../../constants/colors.js';\nimport 'react-international-phone';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../../shared/consts/index.js';\nimport '../../../store/state/nonce/nonce.js';\nimport { isProviderEnabled } from '../../functions/isProviderEnabled/isProviderEnabled.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport { isUserLinkedWithTelegram } from '../../../data/api/oauth/oauth.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport { useSocialAuth } from '../useSocialAuth/useSocialAuth.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport '../../../context/WalletContext/WalletContext.js';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport { getInitialUrl } from '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\nconst useTelegramLogin = () => {\n    const { sdkHasLoaded, user, projectSettings, environmentId } = useInternalDynamicContext();\n    const providers = (projectSettings === null || projectSettings === void 0 ? void 0 : projectSettings.providers) || [];\n    const { completeConnection } = useSocialAuth({});\n    const getTelegramAuthTokenFromURL = () => {\n        var _a, _b;\n        const telegramAuthToken = (_b = (_a = getInitialUrl()) === null || _a === void 0 ? void 0 : _a.searchParams.get('telegramAuthToken')) !== null && _b !== void 0 ? _b : undefined;\n        if (!telegramAuthToken) {\n            logger.error(`telegramAuthToken was not found - please make sure to use the bot code implementation\n        provided https://github.com/dynamic-labs/telegram-miniapp-dynamic/blob/main/scripts/bot.ts.\n        And ensure that the Telegram Mini Web App is launched directly from the chatbot`);\n        }\n        return telegramAuthToken;\n    };\n    const canProceedWithTelegram = (telegramAuthToken) => {\n        let failureReason;\n        if (!isProviderEnabled(providers, ProviderEnum.Telegram)) {\n            failureReason = 'Telegram provider is not enabled';\n        }\n        else if (!sdkHasLoaded) {\n            failureReason = 'SDK has not loaded';\n        }\n        else if (user) {\n            failureReason = 'User is already logged in';\n        }\n        else if (!telegramAuthToken) {\n            failureReason = 'Telegram auth token is missing';\n        }\n        if (failureReason) {\n            logger.error(`Failed to check user Telegram authentication status due to reason: ${failureReason}`);\n        }\n        return !failureReason;\n    };\n    /**\n     * Returns whether or not this telegram user has been authenticated with Dynamic.\n     * @param authToken (Optional) the Telegram auth token of the user to check.\n     *                  If not provided, the SDK will attempt to grab the auth token from the URL if exists.\n     * @returns Promise<boolean> of whether or not the Telegram user has authenticated with Dynamic.\n     */\n    const isAuthWithTelegram = (authToken) => __awaiter(void 0, void 0, void 0, function* () {\n        const telegramAuthToken = authToken || getTelegramAuthTokenFromURL();\n        if (!canProceedWithTelegram(telegramAuthToken)) {\n            return false;\n        }\n        return Boolean(isUserLinkedWithTelegram(environmentId, { telegramAuthToken }));\n    });\n    const telegramSignIn = (...args_1) => __awaiter(void 0, [...args_1], void 0, function* ({ forceCreateUser = false, authToken, } = {}) {\n        const validAuthToken = authToken || getTelegramAuthTokenFromURL();\n        if (!canProceedWithTelegram(validAuthToken)) {\n            return;\n        }\n        yield completeConnection({\n            authMode: 'signin',\n            forceCreateUser,\n            provider: ProviderEnum.Telegram,\n            state: '',\n            telegramAuthToken: validAuthToken,\n        });\n    });\n    return {\n        isAuthWithTelegram,\n        telegramSignIn,\n    };\n};\n\nexport { useTelegramLogin };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 20465, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useUpgradeEmbeddedWallet/useUpgradeEmbeddedWallet.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useCallback } from 'react';\nimport { DynamicError } from '@dynamic-labs/utils';\nimport { EmbeddedWalletVersionEnum, ChainEnum } from '@dynamic-labs/sdk-api-core';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport { createUserProfileFromSdkUser } from '../../functions/createUserProfile/createUserProfile.js';\nimport { findEmbeddedWalletFromVerifiedCredentials } from '../../functions/findEmbeddedWalletFromVerifiedCredentials/findEmbeddedWalletFromVerifiedCredentials.js';\nimport { USER_NOT_LOGGED_IN, USER_HAS_V2_EMBEDDED_WALLET, INCOMPATIBLE_SDK_VERSION } from '../../constants/errors.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport { updatePrimaryWalletId } from '../../functions/updatePrimaryWalletId/updatePrimaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../config/ApiEndpoint.js';\nimport { storeAuthTokenAndUser } from '../../../store/state/user/storeAuthTokenAndUser/storeAuthTokenAndUser.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport { upgradeEmbeddedWalletToV2 } from '../../../data/api/wallets/wallets.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport { findPrimaryEmbeddedChain } from '../../../views/Passkey/utils/findPrimaryEmbeddedChain/findPrimaryEmbeddedChain.js';\nimport { useEmbeddedWalletSessionKeys } from '../useEmbeddedWalletSessionKeys/useEmbeddedWalletSessionKeys.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport { getPrimaryWalletId } from '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\n/**\n * Hook to upgrade embedded wallets\n * @returns An object containing the `upgradeEmbeddedWallet` function\n */\nconst useUpgradeEmbeddedWallet = () => {\n    const { user, environmentId, projectSettings } = useInternalDynamicContext();\n    const { getSessionPublicKey, shouldRegisterSessionKeysOnSignin } = useEmbeddedWalletSessionKeys({\n        environmentId,\n        projectSettings,\n    });\n    /**\n     * callback to upgrade a v1 embedded wallet to v2\n     * If the upgrade is successful, user is refreshed and primary wallet is updated if applicable\n     *\n     * @returns {Promise<void>} Resolves to void if the upgrade is successful.\n     *\n     * @throws {DynamicError} Throws an error if the upgrade process fails.\n     *\n     */\n    const upgradeEmbeddedWallet = useCallback(() => __awaiter(void 0, void 0, void 0, function* () {\n        var _a, _b, _c, _d;\n        if (!user)\n            throw new DynamicError(USER_NOT_LOGGED_IN);\n        const userHasV2EmbeddedWallet = user.verifiedCredentials.some((credential) => { var _a; return ((_a = credential.walletProperties) === null || _a === void 0 ? void 0 : _a.version) === EmbeddedWalletVersionEnum.V2; });\n        if (userHasV2EmbeddedWallet) {\n            throw new DynamicError(USER_HAS_V2_EMBEDDED_WALLET);\n        }\n        const requiredSessionKey = shouldRegisterSessionKeysOnSignin();\n        if (!requiredSessionKey) {\n            throw new DynamicError(INCOMPATIBLE_SDK_VERSION);\n        }\n        const sessionPublicKey = getSessionPublicKey();\n        const verifyResponse = yield upgradeEmbeddedWalletToV2({\n            environmentId,\n            sessionPublicKey,\n        });\n        const newUser = verifyResponse === null || verifyResponse === void 0 ? void 0 : verifyResponse.user;\n        const newUserProfile = createUserProfileFromSdkUser(newUser);\n        const primaryWalletId = getPrimaryWalletId();\n        const primaryWalletExistsAfterUpgrade = (_b = (_a = newUser.verifiedCredentials) === null || _a === void 0 ? void 0 : _a.find((vc) => vc.id === primaryWalletId)) === null || _b === void 0 ? void 0 : _b.id;\n        if (!primaryWalletExistsAfterUpgrade) {\n            const primaryEmbeddedChain = findPrimaryEmbeddedChain(projectSettings);\n            let targetPrimaryWalletId = (_c = findEmbeddedWalletFromVerifiedCredentials(newUserProfile, [primaryEmbeddedChain])) === null || _c === void 0 ? void 0 : _c.id;\n            if (!targetPrimaryWalletId) {\n                // Try other chains if primary chain credential was deleted during v1 to v2 upgrade\n                const otherChains = Object.values(ChainEnum).filter((chain) => chain !== primaryEmbeddedChain);\n                targetPrimaryWalletId = (_d = findEmbeddedWalletFromVerifiedCredentials(newUserProfile, otherChains)) === null || _d === void 0 ? void 0 : _d.id;\n            }\n            if (targetPrimaryWalletId) {\n                yield updatePrimaryWalletId(targetPrimaryWalletId);\n            }\n        }\n        /**\n         * `storeAuthTokenAndUser()` is intentionally not called within `upgradeEmbeddedWalletToV2()`.\n         * Doing so would create a race condition, as invoking `storeAuthTokenAndUser()` prematurely logs the user out.\n         * This could prevent `updatePrimaryWalletId()` from executing properly, leaving the user stuck in a verification\n         * process that cannot be refreshed correctly.\n         */\n        storeAuthTokenAndUser(verifyResponse);\n    }), [\n        user,\n        environmentId,\n        projectSettings,\n        getSessionPublicKey,\n        shouldRegisterSessionKeysOnSignin,\n    ]);\n    return upgradeEmbeddedWallet;\n};\n\nexport { useUpgradeEmbeddedWallet };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 20755, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useConnectedAccountWallet/useConnectedAccountWallet.js"],"sourcesContent":["'use client'\nimport { usePromise } from '../usePromise/usePromise.js';\n\nconst useConnectedAccountWallet = (connector, secondaryWallets) => usePromise(() => {\n    if (!connector) {\n        return;\n    }\n    return connector\n        .getConnectedAccounts()\n        .then((connectedAccounts) => secondaryWallets.find((secondaryWallet) => {\n        var _a;\n        return secondaryWallet.address.toLowerCase() ===\n            ((_a = connectedAccounts[0]) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n    }));\n}, { deps: [connector, secondaryWallets] });\n\nexport { useConnectedAccountWallet };\n"],"names":[],"mappings":";;;AACA;AADA;;AAGA,MAAM,4BAA4B,CAAC,WAAW,mBAAqB,CAAA,GAAA,wNAAA,CAAA,aAAU,AAAD;gDAAE;YAC1E,IAAI,CAAC,WAAW;gBACZ;YACJ;YACA,OAAO,UACF,oBAAoB,GACpB,IAAI;wDAAC,CAAC,oBAAsB,iBAAiB,IAAI;gEAAC,CAAC;4BACpD,IAAI;4BACJ,OAAO,gBAAgB,OAAO,CAAC,WAAW,OACtC,CAAC,CAAC,KAAK,iBAAiB,CAAC,EAAE,MAAM,QAAQ,OAAO,KAAK,IAAI,KAAK,IAAI,GAAG,WAAW,EAAE;wBAC1F;;;QACJ;+CAAG;QAAE,MAAM;YAAC;YAAW;SAAiB;IAAC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 20788, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useOnramp/useOnramp.js"],"sourcesContent":["'use client'\nimport { useMemo } from 'react';\nimport { useOnrampContext } from '../../../context/OnrampContext/OnrampContext.js';\n\nconst useOnramp = () => {\n    const { onrampEnabled, openOnramp } = useOnrampContext();\n    return useMemo(() => ({\n        /**\n         * Whether onramp is enabled.\n         */\n        enabled: onrampEnabled,\n        /**\n         * Opens the onramp modal.\n         */\n        open: openOnramp,\n    }), [onrampEnabled, openOnramp]);\n};\n\nexport { useOnramp };\n"],"names":[],"mappings":";;;AACA;AACA;AAFA;;;AAIA,MAAM,YAAY;IACd,MAAM,EAAE,aAAa,EAAE,UAAU,EAAE,GAAG,CAAA,GAAA,uNAAA,CAAA,mBAAgB,AAAD;IACrD,OAAO,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;6BAAE,IAAM,CAAC;gBAClB;;SAEC,GACD,SAAS;gBACT;;SAEC,GACD,MAAM;YACV,CAAC;4BAAG;QAAC;QAAe;KAAW;AACnC","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 20819, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useFunding/useFunding.js"],"sourcesContent":["'use client'\nimport { useOnramp } from '../useOnramp/useOnramp.js';\n\n/**\n * @deprecated use useOnramp instead\n */\nconst useFunding = () => {\n    const { enabled, open } = useOnramp();\n    return {\n        enabled,\n        openExternalFunding: open,\n    };\n};\n\nexport { useFunding };\n"],"names":[],"mappings":";;;AACA;AADA;;AAGA;;CAEC,GACD,MAAM,aAAa;IACf,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,sNAAA,CAAA,YAAS,AAAD;IAClC,OAAO;QACH;QACA,qBAAqB;IACzB;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 20841, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useOpenFundingOptions/useOpenFundingOptions.js"],"sourcesContent":["'use client'\nimport { useCallback, useMemo } from 'react';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport '@dynamic-labs/sdk-api-core';\nimport '../../../shared/logger.js';\nimport '@dynamic-labs/iconic';\nimport '@dynamic-labs/wallet-connector-core';\nimport 'react/jsx-runtime';\nimport '../../../context/ViewContext/ViewContext.js';\nimport '@dynamic-labs/wallet-book';\nimport '@dynamic-labs/utils';\nimport '../../constants/colors.js';\nimport '../../constants/values.js';\nimport '../../../shared/consts/index.js';\nimport '../../../events/dynamicEvents.js';\nimport '../../../../../_virtual/_tslib.js';\nimport '../../../context/CaptchaContext/CaptchaContext.js';\nimport '../../../context/ErrorContext/ErrorContext.js';\nimport '@dynamic-labs/multi-wallet';\nimport 'react-international-phone';\nimport '../../../store/state/nonce/nonce.js';\nimport '../../../store/state/projectSettings/projectSettings.js';\nimport '../../../config/ApiEndpoint.js';\nimport '../../../store/state/user/user.js';\nimport '../../../locale/locale.js';\nimport '../../../store/state/dynamicContextProps/dynamicContextProps.js';\nimport '../../../store/state/primaryWalletId/primaryWalletId.js';\nimport '../../../context/AccessDeniedContext/AccessDeniedContext.js';\nimport '../../../context/AccountExistsContext/AccountExistsContext.js';\nimport '../../../context/UserWalletsContext/UserWalletsContext.js';\nimport '../../../store/state/connectedWalletsInfo/connectedWalletsInfo.js';\nimport '../../../context/VerificationContext/VerificationContext.js';\nimport 'react-dom';\nimport '../../functions/compareChains/compareChains.js';\nimport '../../../context/ThemeContext/ThemeContext.js';\nimport '../useUserUpdateRequest/useUpdateUser/userFieldsSchema.js';\nimport 'bs58';\nimport '@dynamic-labs/types';\nimport '../../../context/SocialRedirectContext/SocialRedirectContext.js';\nimport '../../../context/LoadingContext/LoadingContext.js';\nimport '../../../context/WalletContext/WalletContext.js';\nimport '../useEmbeddedWallet/useSecureEnclaveEmbeddedWallet/constants.js';\nimport 'yup';\nimport '../../../context/MockContext/MockContext.js';\nimport '../../../views/CollectUserDataView/useFields.js';\nimport '../../../context/FieldsStateContext/FieldsStateContext.js';\nimport '../../../context/UserFieldEditorContext/UserFieldEditorContext.js';\nimport '@dynamic-labs/rpc-providers';\nimport '../../../store/state/loadingAndLifecycle.js';\nimport '../../../store/state/walletOptions/walletOptions.js';\nimport 'react-i18next';\nimport '../../../components/Accordion/components/AccordionItem/AccordionItem.js';\nimport '../../../components/Alert/Alert.js';\nimport '../../../components/ShadowDOM/ShadowDOM.js';\nimport '../../../components/IconButton/IconButton.js';\nimport '../../../components/InlineWidget/InlineWidget.js';\nimport '../../../components/Input/Input.js';\nimport '../../../components/IsBrowser/IsBrowser.js';\nimport '../../../components/MenuList/Dropdown/Dropdown.js';\nimport '../../../components/OverlayCard/OverlayCard.js';\nimport '../../../components/Transition/ZoomTransition/ZoomTransition.js';\nimport '../../../components/Transition/SlideInUpTransition/SlideInUpTransition.js';\nimport '../../../components/Transition/OpacityTransition/OpacityTransition.js';\nimport '../../../components/PasskeyCreatedSuccessBanner/PasskeyCreatedSuccessBanner.js';\nimport '../../../components/Popper/Popper/Popper.js';\nimport '../../../components/Popper/PopperContext/PopperContext.js';\nimport 'react-focus-lock';\nimport 'qrcode';\nimport 'formik';\nimport '../useSubdomainCheck/useSubdomainCheck.js';\nimport '../../../context/WalletGroupContext/WalletGroupContext.js';\nimport '../../../context/IpConfigurationContext/IpConfigurationContext.js';\nimport '../../../context/ConnectWithOtpContext/ConnectWithOtpContext.js';\nimport '../../../context/ConnectWithOtpContext/constants.js';\nimport '../../../widgets/DynamicBridgeWidget/views/WalletsView/components/SecondaryWallets/SecondaryWallets.js';\nimport '@hcaptcha/react-hcaptcha';\nimport { useWidgetContext } from '../../../widgets/DynamicWidget/context/DynamicWidgetContext.js';\nimport '../../../context/FooterAnimationContext/index.js';\nimport '../../../context/ErrorContext/hooks/useErrorText/useErrorText.js';\nimport '../../../context/PasskeyContext/PasskeyContext.js';\nimport '../../../store/state/sendBalances.js';\nimport '../../../store/state/connectorsInitializing/connectorsInitializing.js';\nimport '../../../components/OverlayCardBase/OverlayCardTarget/OverlayCardTarget.js';\nimport '../../../widgets/DynamicWidget/components/DynamicWidgetHeader/DynamicWidgetHeader.js';\nimport '../../../views/TransactionConfirmationView/TransactionConfirmationView.js';\nimport '../../../widgets/DynamicWidget/views/ManagePasskeysWidgetView/PasskeyCard/PasskeyCard.js';\nimport '../../../context/OnrampContext/OnrampContext.js';\nimport '../../../widgets/DynamicWidget/views/ReceiveWalletFunds/ReceiveWalletFunds.js';\nimport '../../../../index.js';\nimport '../../../store/state/tokenBalances.js';\nimport '../../../shared/utils/functions/getInitialUrl/getInitialUrl.js';\nimport { useInternalDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useInternalDynamicContext.js';\n\n/**\n * Opens a view that lets the user choose between funding methods.\n *\n * Must be logged in to use.\n */\nconst useOpenFundingOptions = () => {\n    const { setDynamicWidgetView } = useWidgetContext();\n    const { setShowDynamicUserProfile } = useInternalDynamicContext();\n    const openFundingOptions = useCallback(() => {\n        setDynamicWidgetView('choose-wallet-funding-method');\n        setShowDynamicUserProfile(true);\n    }, [setDynamicWidgetView, setShowDynamicUserProfile]);\n    return useMemo(() => ({\n        openFundingOptions,\n    }), [openFundingOptions]);\n};\n\nexport { useOpenFundingOptions };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3FA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6FA;;;;CAIC,GACD,MAAM,wBAAwB;IAC1B,MAAM,EAAE,oBAAoB,EAAE,GAAG,CAAA,GAAA,yOAAA,CAAA,mBAAgB,AAAD;IAChD,MAAM,EAAE,yBAAyB,EAAE,GAAG,CAAA,GAAA,yPAAA,CAAA,4BAAyB,AAAD;IAC9D,MAAM,qBAAqB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;iEAAE;YACnC,qBAAqB;YACrB,0BAA0B;QAC9B;gEAAG;QAAC;QAAsB;KAA0B;IACpD,OAAO,CAAA,GAAA,6JAAA,CAAA,UAAO,AAAD;yCAAE,IAAM,CAAC;gBAClB;YACJ,CAAC;wCAAG;QAAC;KAAmB;AAC5B","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 21057, "column": 0}, "map": {"version":3,"sources":["file:///Users/marshabl/Dropbox/CS/typescript_practice/dynamic-paymaster-starter/node_modules/%40dynamic-labs/sdk-react-core/src/lib/utils/hooks/useSwitchNetwork/useSwitchNetwork.js"],"sourcesContent":["'use client'\nimport { __awaiter } from '../../../../../_virtual/_tslib.js';\nimport { useCallback } from 'react';\nimport { useDynamicContext } from '../../../context/DynamicContext/useDynamicContext/useDynamicContext.js';\nimport '../../../context/DynamicContext/DynamicContext.js';\nimport { useViewContext } from '../../../context/ViewContext/ViewContext.js';\n\nconst useSwitchNetwork = () => {\n    const { setShowAuthFlow } = useDynamicContext();\n    const { pushView } = useViewContext();\n    const switchNetwork = useCallback((_a) => __awaiter(void 0, [_a], void 0, function* ({ wallet, network, }) {\n        if (wallet.connector.switchNetworkOnlyFromWallet) {\n            setShowAuthFlow(true);\n            pushView('network-not-supported-manual');\n            return;\n        }\n        yield wallet.connector.switchNetwork({ networkChainId: network });\n    }), [setShowAuthFlow, pushView]);\n    return switchNetwork;\n};\n\nexport { useSwitchNetwork };\n"],"names":[],"mappings":";;;AACA;AACA;AACA;AACA;AACA;AALA;;;;;;AAOA,MAAM,mBAAmB;IACrB,MAAM,EAAE,eAAe,EAAE,GAAG,CAAA,GAAA,iPAAA,CAAA,oBAAiB,AAAD;IAC5C,MAAM,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,mNAAA,CAAA,iBAAc,AAAD;IAClC,MAAM,gBAAgB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;uDAAE,CAAC,KAAO,CAAA,GAAA,kLAAA,CAAA,YAAS,AAAD,EAAE,KAAK,GAAG;gBAAC;aAAG,EAAE,KAAK;+DAAG,UAAW,EAAE,MAAM,EAAE,OAAO,EAAG;oBACrG,IAAI,OAAO,SAAS,CAAC,2BAA2B,EAAE;wBAC9C,gBAAgB;wBAChB,SAAS;wBACT;oBACJ;oBACA,MAAM,OAAO,SAAS,CAAC,aAAa,CAAC;wBAAE,gBAAgB;oBAAQ;gBACnE;;sDAAI;QAAC;QAAiB;KAAS;IAC/B,OAAO;AACX","ignoreList":[0],"debugId":null}}]
}